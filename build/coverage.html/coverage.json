{"/home/travis/build/npmtest/node-npmtest-cucumber/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":2,"37":2,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":1,"46":1,"47":1,"48":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1,1],"10":[1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":2,"9":2,"10":2,"11":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":102,"loc":{"start":{"line":102,"column":83},"end":{"line":105,"column":10}},"skip":true},"7":{"name":"(anonymous_7)","line":113,"loc":{"start":{"line":113,"column":77},"end":{"line":116,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":127,"loc":{"start":{"line":127,"column":77},"end":{"line":130,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":138,"loc":{"start":{"line":138,"column":83},"end":{"line":141,"column":10}},"skip":true},"10":{"name":"(anonymous_10)","line":149,"loc":{"start":{"line":149,"column":79},"end":{"line":152,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":160,"loc":{"start":{"line":160,"column":75},"end":{"line":163,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":175,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":46}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":174,"column":5}},"24":{"start":{"line":92,"column":8},"end":{"line":94,"column":63}},"25":{"start":{"line":95,"column":8},"end":{"line":95,"column":14}},"26":{"start":{"line":102,"column":8},"end":{"line":111,"column":10},"skip":true},"27":{"start":{"line":109,"column":12},"end":{"line":109,"column":55},"skip":true},"28":{"start":{"line":110,"column":12},"end":{"line":110,"column":48},"skip":true},"29":{"start":{"line":113,"column":8},"end":{"line":125,"column":10},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":76},"skip":true},"31":{"start":{"line":121,"column":12},"end":{"line":121,"column":73},"skip":true},"32":{"start":{"line":122,"column":12},"end":{"line":122,"column":74},"skip":true},"33":{"start":{"line":123,"column":12},"end":{"line":123,"column":25},"skip":true},"34":{"start":{"line":124,"column":12},"end":{"line":124,"column":45},"skip":true},"35":{"start":{"line":127,"column":8},"end":{"line":136,"column":10},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":147,"column":10},"skip":true},"39":{"start":{"line":145,"column":12},"end":{"line":145,"column":25},"skip":true},"40":{"start":{"line":146,"column":12},"end":{"line":146,"column":48},"skip":true},"41":{"start":{"line":149,"column":8},"end":{"line":158,"column":10},"skip":true},"42":{"start":{"line":156,"column":12},"end":{"line":156,"column":25},"skip":true},"43":{"start":{"line":157,"column":12},"end":{"line":157,"column":46},"skip":true},"44":{"start":{"line":160,"column":8},"end":{"line":169,"column":10},"skip":true},"45":{"start":{"line":167,"column":12},"end":{"line":167,"column":94},"skip":true},"46":{"start":{"line":168,"column":12},"end":{"line":168,"column":48},"skip":true},"47":{"start":{"line":172,"column":8},"end":{"line":172,"column":35},"skip":true},"48":{"start":{"line":173,"column":8},"end":{"line":173,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":95,"column":14}},{"start":{"line":101,"column":4},"end":{"line":173,"column":14},"skip":true}]},"9":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":18},"end":{"line":92,"column":32}},{"start":{"line":93,"column":12},"end":{"line":93,"column":53}},{"start":{"line":94,"column":12},"end":{"line":94,"column":61}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":45},"end":{"line":102,"column":79},"skip":true},{"start":{"line":102,"column":83},"end":{"line":111,"column":9},"skip":true}]},"11":{"line":113,"type":"binary-expr","locations":[{"start":{"line":113,"column":42},"end":{"line":113,"column":73},"skip":true},{"start":{"line":113,"column":77},"end":{"line":125,"column":9},"skip":true}]},"12":{"line":127,"type":"binary-expr","locations":[{"start":{"line":127,"column":42},"end":{"line":127,"column":73},"skip":true},{"start":{"line":127,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":45},"end":{"line":138,"column":79},"skip":true},{"start":{"line":138,"column":83},"end":{"line":147,"column":9},"skip":true}]},"14":{"line":149,"type":"binary-expr","locations":[{"start":{"line":149,"column":43},"end":{"line":149,"column":75},"skip":true},{"start":{"line":149,"column":79},"end":{"line":158,"column":9},"skip":true}]},"15":{"line":160,"type":"binary-expr","locations":[{"start":{"line":160,"column":41},"end":{"line":160,"column":71},"skip":true},{"start":{"line":160,"column":75},"end":{"line":169,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_cucumber */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireExampleJsFromReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"92":1,"95":1,"102":1,"109":1,"110":1,"113":1,"120":1,"121":1,"122":1,"123":1,"124":1,"127":1,"134":2,"135":2,"138":1,"145":2,"146":2,"149":1,"156":2,"157":2,"160":1,"167":1,"168":1,"172":1,"173":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/lib.npmtest_cucumber.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/lib.npmtest_cucumber.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":53}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":59}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_cucumber */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_cucumber = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_cucumber = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":2,"38":2,"39":2,"40":2,"41":0,"42":2,"43":2,"44":2,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,2],"16":[2,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":2,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":314,"loc":{"start":{"line":314,"column":32},"end":{"line":314,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":325,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":324,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":53},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":294,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":302,"column":8},"end":{"line":302,"column":82},"skip":true},"70":{"start":{"line":305,"column":8},"end":{"line":307,"column":9},"skip":true},"71":{"start":{"line":306,"column":12},"end":{"line":306,"column":82},"skip":true},"72":{"start":{"line":309,"column":8},"end":{"line":311,"column":9},"skip":true},"73":{"start":{"line":310,"column":12},"end":{"line":310,"column":18},"skip":true},"74":{"start":{"line":312,"column":8},"end":{"line":312,"column":54},"skip":true},"75":{"start":{"line":313,"column":8},"end":{"line":313,"column":69},"skip":true},"76":{"start":{"line":314,"column":8},"end":{"line":322,"column":36},"skip":true},"77":{"start":{"line":315,"column":12},"end":{"line":315,"column":61},"skip":true},"78":{"start":{"line":316,"column":12},"end":{"line":319,"column":13},"skip":true},"79":{"start":{"line":317,"column":16},"end":{"line":317,"column":75},"skip":true},"80":{"start":{"line":318,"column":16},"end":{"line":318,"column":23},"skip":true},"81":{"start":{"line":320,"column":12},"end":{"line":320,"column":38},"skip":true},"82":{"start":{"line":321,"column":12},"end":{"line":321,"column":27},"skip":true},"83":{"start":{"line":323,"column":8},"end":{"line":323,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":52}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":323,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":295,"type":"binary-expr","locations":[{"start":{"line":295,"column":12},"end":{"line":295,"column":66},"skip":true},{"start":{"line":296,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":302,"type":"binary-expr","locations":[{"start":{"line":302,"column":43},"end":{"line":302,"column":75},"skip":true},{"start":{"line":302,"column":79},"end":{"line":302,"column":81},"skip":true}]},"25":{"line":305,"type":"if","locations":[{"start":{"line":305,"column":8},"end":{"line":305,"column":8},"skip":true},{"start":{"line":305,"column":8},"end":{"line":305,"column":8},"skip":true}]},"26":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":8},"end":{"line":309,"column":8},"skip":true},{"start":{"line":309,"column":8},"end":{"line":309,"column":8},"skip":true}]},"27":{"line":312,"type":"binary-expr","locations":[{"start":{"line":312,"column":27},"end":{"line":312,"column":43},"skip":true},{"start":{"line":312,"column":47},"end":{"line":312,"column":53},"skip":true}]},"28":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":12},"end":{"line":316,"column":12},"skip":true},{"start":{"line":316,"column":12},"end":{"line":316,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-cucumber && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_cucumber */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_cucumber","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught.stack);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_cucumber.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        local.assetsDict['/assets.npmtest_cucumber.rollup.js'] =","            local.assetsDict['/assets.npmtest_cucumber.rollup.js'] ||","            local.fs.readFileSync(","                // buildCustomOrg-hack","                local.npmtest_cucumber.__dirname +","                    '/lib.npmtest_cucumber.js',","                'utf8'","            ).replace((/^#!/), '//');","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":2,"127":2,"128":2,"129":2,"130":1,"133":2,"134":2,"139":2,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"294":1,"302":1,"305":1,"306":1,"309":1,"310":1,"312":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"320":1,"321":1,"323":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber.js","s":{"1":1,"2":0,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"Cucumber","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":66}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":101}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":54}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":17}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":59}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":59}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":59}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":61}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":64}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":62}},"12":{"start":{"line":14,"column":0},"end":{"line":14,"column":63}},"13":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"14":{"start":{"line":16,"column":0},"end":{"line":16,"column":68}},"15":{"start":{"line":17,"column":0},"end":{"line":17,"column":72}},"16":{"start":{"line":18,"column":0},"end":{"line":18,"column":60}},"17":{"start":{"line":19,"column":0},"end":{"line":19,"column":60}},"18":{"start":{"line":20,"column":0},"end":{"line":20,"column":78}},"19":{"start":{"line":22,"column":0},"end":{"line":22,"column":68}},"20":{"start":{"line":24,"column":0},"end":{"line":24,"column":42}}},"branchMap":{},"code":["function Cucumber(featureSource, supportCodeInitializer, options) {","  var configuration = Cucumber.VolatileConfiguration(featureSource, supportCodeInitializer, options);","  var runtime       = Cucumber.Runtime(configuration);","  return runtime;","}","","Cucumber.Api                   = require('./cucumber/api');","Cucumber.Ast                   = require('./cucumber/ast');","Cucumber.Cli                   = require('./cucumber/cli');","Cucumber.Debug                 = require('./cucumber/debug'); // Untested namespace","Cucumber.Events                = require('./cucumber/events');","Cucumber.Listener              = require('./cucumber/listener');","Cucumber.Parser                = require('./cucumber/parser');","Cucumber.Runtime               = require('./cucumber/runtime');","Cucumber.Status                = require('./cucumber/status');","Cucumber.SupportCode           = require('./cucumber/support_code');","Cucumber.TagGroupParser        = require('./cucumber/tag_group_parser');","Cucumber.Type                  = require('./cucumber/type');","Cucumber.Util                  = require('./cucumber/util');","Cucumber.VolatileConfiguration = require('./cucumber/volatile_configuration');","","Cucumber.VERSION               = require('../package.json').version;","","module.exports                 = Cucumber;",""],"l":{"1":1,"2":0,"3":0,"4":0,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"22":1,"24":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/api.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/api.js","s":{"1":1,"2":1,"3":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":20}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":21}}},"branchMap":{},"code":["var Api        = {};","Api.Scenario   = require('./api/scenario');","module.exports = Api;",""],"l":{"1":1,"2":1,"3":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/api/scenario.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/api/scenario.js","s":{"1":1,"2":0,"3":0,"4":1,"5":0,"6":1,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":1,"53":1,"54":1,"55":1},"b":{"1":[0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"fnMap":{"1":{"name":"Scenario","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}}},"2":{"name":"isStream","line":6,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":27}}},"3":{"name":"attachData","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":38}}},"4":{"name":"attachStream","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":52}}},"5":{"name":"(anonymous_5)","line":18,"loc":{"start":{"line":18,"column":22},"end":{"line":18,"column":39}}},"6":{"name":"(anonymous_6)","line":21,"loc":{"start":{"line":21,"column":21},"end":{"line":21,"column":33}}},"7":{"name":"getKeyword","line":28,"loc":{"start":{"line":28,"column":20},"end":{"line":28,"column":46}}},"8":{"name":"getName","line":29,"loc":{"start":{"line":29,"column":20},"end":{"line":29,"column":46}}},"9":{"name":"getDescription","line":30,"loc":{"start":{"line":30,"column":20},"end":{"line":30,"column":46}}},"10":{"name":"getUri","line":31,"loc":{"start":{"line":31,"column":20},"end":{"line":31,"column":46}}},"11":{"name":"getLine","line":32,"loc":{"start":{"line":32,"column":20},"end":{"line":32,"column":46}}},"12":{"name":"getTags","line":33,"loc":{"start":{"line":33,"column":20},"end":{"line":33,"column":46}}},"13":{"name":"isSuccessful","line":34,"loc":{"start":{"line":34,"column":20},"end":{"line":34,"column":46}}},"14":{"name":"isFailed","line":35,"loc":{"start":{"line":35,"column":20},"end":{"line":35,"column":46}}},"15":{"name":"isPending","line":36,"loc":{"start":{"line":36,"column":20},"end":{"line":36,"column":46}}},"16":{"name":"isUndefined","line":37,"loc":{"start":{"line":37,"column":20},"end":{"line":37,"column":46}}},"17":{"name":"isSkipped","line":38,"loc":{"start":{"line":38,"column":20},"end":{"line":38,"column":46}}},"18":{"name":"getException","line":39,"loc":{"start":{"line":39,"column":20},"end":{"line":39,"column":46}}},"19":{"name":"getAttachments","line":40,"loc":{"start":{"line":40,"column":20},"end":{"line":40,"column":46}}},"20":{"name":"clearAttachments","line":41,"loc":{"start":{"line":41,"column":22},"end":{"line":41,"column":50}}},"21":{"name":"attach","line":43,"loc":{"start":{"line":43,"column":12},"end":{"line":43,"column":54}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":72,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":23}},"4":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":82}},"6":{"start":{"line":10,"column":2},"end":{"line":13,"column":3}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":83}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":33}},"9":{"start":{"line":15,"column":2},"end":{"line":25,"column":3}},"10":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"11":{"start":{"line":18,"column":4},"end":{"line":20,"column":7}},"12":{"start":{"line":19,"column":6},"end":{"line":19,"column":26}},"13":{"start":{"line":21,"column":4},"end":{"line":24,"column":7}},"14":{"start":{"line":22,"column":6},"end":{"line":22,"column":51}},"15":{"start":{"line":23,"column":6},"end":{"line":23,"column":17}},"16":{"start":{"line":27,"column":2},"end":{"line":69,"column":4}},"17":{"start":{"line":28,"column":48},"end":{"line":28,"column":80}},"18":{"start":{"line":29,"column":48},"end":{"line":29,"column":77}},"19":{"start":{"line":30,"column":48},"end":{"line":30,"column":84}},"20":{"start":{"line":31,"column":48},"end":{"line":31,"column":76}},"21":{"start":{"line":32,"column":48},"end":{"line":32,"column":77}},"22":{"start":{"line":33,"column":48},"end":{"line":33,"column":77}},"23":{"start":{"line":34,"column":48},"end":{"line":34,"column":109}},"24":{"start":{"line":35,"column":48},"end":{"line":35,"column":109}},"25":{"start":{"line":36,"column":48},"end":{"line":36,"column":110}},"26":{"start":{"line":37,"column":48},"end":{"line":37,"column":112}},"27":{"start":{"line":38,"column":48},"end":{"line":38,"column":110}},"28":{"start":{"line":39,"column":48},"end":{"line":39,"column":92}},"29":{"start":{"line":40,"column":48},"end":{"line":40,"column":67}},"30":{"start":{"line":41,"column":52},"end":{"line":41,"column":69}},"31":{"start":{"line":44,"column":6},"end":{"line":67,"column":7}},"32":{"start":{"line":45,"column":8},"end":{"line":46,"column":66}},"33":{"start":{"line":46,"column":10},"end":{"line":46,"column":66}},"34":{"start":{"line":47,"column":8},"end":{"line":48,"column":85}},"35":{"start":{"line":48,"column":10},"end":{"line":48,"column":85}},"36":{"start":{"line":50,"column":8},"end":{"line":50,"column":47}},"37":{"start":{"line":52,"column":11},"end":{"line":67,"column":7}},"38":{"start":{"line":53,"column":8},"end":{"line":54,"column":66}},"39":{"start":{"line":54,"column":10},"end":{"line":54,"column":66}},"40":{"start":{"line":56,"column":8},"end":{"line":56,"column":35}},"41":{"start":{"line":57,"column":8},"end":{"line":57,"column":33}},"42":{"start":{"line":57,"column":22},"end":{"line":57,"column":33}},"43":{"start":{"line":59,"column":11},"end":{"line":67,"column":7}},"44":{"start":{"line":60,"column":8},"end":{"line":61,"column":53}},"45":{"start":{"line":61,"column":10},"end":{"line":61,"column":53}},"46":{"start":{"line":63,"column":8},"end":{"line":63,"column":35}},"47":{"start":{"line":64,"column":8},"end":{"line":64,"column":33}},"48":{"start":{"line":64,"column":22},"end":{"line":64,"column":33}},"49":{"start":{"line":66,"column":8},"end":{"line":66,"column":55}},"50":{"start":{"line":71,"column":2},"end":{"line":71,"column":14}},"51":{"start":{"line":74,"column":0},"end":{"line":74,"column":47}},"52":{"start":{"line":75,"column":0},"end":{"line":75,"column":97}},"53":{"start":{"line":76,"column":0},"end":{"line":76,"column":147}},"54":{"start":{"line":77,"column":0},"end":{"line":77,"column":117}},"55":{"start":{"line":79,"column":0},"end":{"line":79,"column":26}}},"branchMap":{"1":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":11},"end":{"line":7,"column":16}},{"start":{"line":7,"column":20},"end":{"line":7,"column":45}},{"start":{"line":7,"column":49},"end":{"line":7,"column":81}}]},"2":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":6},"end":{"line":44,"column":6}},{"start":{"line":44,"column":6},"end":{"line":44,"column":6}}]},"3":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]},"4":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":47,"column":8}},{"start":{"line":47,"column":8},"end":{"line":47,"column":8}}]},"5":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":11},"end":{"line":52,"column":11}},{"start":{"line":52,"column":11},"end":{"line":52,"column":11}}]},"6":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":15},"end":{"line":52,"column":21}},{"start":{"line":52,"column":25},"end":{"line":52,"column":46}}]},"7":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":8},"end":{"line":53,"column":8}},{"start":{"line":53,"column":8},"end":{"line":53,"column":8}}]},"8":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":8}},{"start":{"line":57,"column":8},"end":{"line":57,"column":8}}]},"9":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":11},"end":{"line":59,"column":11}},{"start":{"line":59,"column":11},"end":{"line":59,"column":11}}]},"10":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":8},"end":{"line":60,"column":8}},{"start":{"line":60,"column":8},"end":{"line":60,"column":8}}]},"11":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":8}},{"start":{"line":64,"column":8},"end":{"line":64,"column":8}}]}},"code":["function Scenario(astScenario, scenarioResult) {","  var Cucumber = require('../../cucumber');","","  var attachments = [];","","  function isStream(value) {","    return value && typeof value === 'object' && typeof value.pipe === 'function';","  }","","  function attachData(data, mimeType) {","    var attachment = Cucumber.Runtime.Attachment({mimeType: mimeType, data: data});","    attachments.push(attachment);","  }","","  function attachStream(stream, mimeType, callback) {","    var buffers = [];","","    stream.on('data', function (chunk) {","      buffers.push(chunk);","    });","    stream.on('end', function () {","      attachData(Buffer.concat(buffers), mimeType);","      callback();","    });","  }","","  var self = {","    getKeyword:     function getKeyword()     { return astScenario.getKeyword(); },","    getName:        function getName()        { return astScenario.getName(); },","    getDescription: function getDescription() { return astScenario.getDescription(); },","    getUri:         function getUri()         { return astScenario.getUri(); },","    getLine:        function getLine()        { return astScenario.getLine(); },","    getTags:        function getTags()        { return astScenario.getTags(); },","    isSuccessful:   function isSuccessful()   { return scenarioResult.getStatus() === Cucumber.Status.PASSED; },","    isFailed:       function isFailed()       { return scenarioResult.getStatus() === Cucumber.Status.FAILED; },","    isPending:      function isPending()      { return scenarioResult.getStatus() === Cucumber.Status.PENDING; },","    isUndefined:    function isUndefined()    { return scenarioResult.getStatus() === Cucumber.Status.UNDEFINED; },","    isSkipped:      function isSkipped()      { return scenarioResult.getStatus() === Cucumber.Status.SKIPPED; },","    getException:   function getException()   { return scenarioResult.getFailureException(); },","    getAttachments: function getAttachments() { return attachments; },","    clearAttachments: function clearAttachments() { attachments = []; },","","    attach: function attach(data, mimeType, callback) {","      if (isStream(data)) {","        if (!mimeType)","          throw Error(Scenario.ATTACH_MISSING_MIME_TYPE_ARGUMENT);","        if (!callback)","          throw Error(Scenario.ATTACH_MISSING_CALLBACK_ARGUMENT_FOR_STREAM_READABLE);","","        attachStream(data, mimeType, callback);","      }","      else if (Buffer && Buffer.isBuffer(data)) {","        if (!mimeType)","          throw Error(Scenario.ATTACH_MISSING_MIME_TYPE_ARGUMENT);","","        attachData(data, mimeType);","        if (callback) callback();","      }","      else if (typeof(data) === 'string') {","        if (!mimeType)","          mimeType = Scenario.DEFAULT_TEXT_MIME_TYPE;","","        attachData(data, mimeType);","        if (callback) callback();","      } else {","        throw Error(Scenario.ATTACH_INVALID_DATA_TYPE);","      }","    }","  };","","  return self;","}","","Scenario.DEFAULT_TEXT_MIME_TYPE = 'text/plain';","Scenario.ATTACH_MISSING_MIME_TYPE_ARGUMENT = 'Cucumber.Api.Scenario.attach() expects a mimeType';","Scenario.ATTACH_MISSING_CALLBACK_ARGUMENT_FOR_STREAM_READABLE = 'Cucumber.Api.Scenario.attach() expects a callback when data is a stream.Readable';","Scenario.ATTACH_INVALID_DATA_TYPE = 'Cucumber.Api.Scenario.attach() expects data to be a stream, buffer, or string.';","","module.exports = Scenario;",""],"l":{"1":1,"2":0,"4":0,"6":1,"7":0,"10":1,"11":0,"12":0,"15":1,"16":0,"18":0,"19":0,"21":0,"22":0,"23":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"44":0,"45":0,"46":0,"47":0,"48":0,"50":0,"52":0,"53":0,"54":0,"56":0,"57":0,"59":0,"60":0,"61":0,"63":0,"64":0,"66":0,"71":0,"74":1,"75":1,"76":1,"77":1,"79":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":50}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":50}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":47}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":48}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":44}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":49}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":43}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":26}}},"branchMap":{},"code":["var Ast             = {};","Ast.DataTable       = require('./ast/data_table');","Ast.DocString       = require('./ast/doc_string');","Ast.Feature         = require('./ast/feature');","Ast.Filter          = require('./ast/filter');","Ast.Scenario        = require('./ast/scenario');","Ast.Step            = require('./ast/step');","Ast.HookStep        = require('./ast/hook_step');","Ast.Tag             = require('./ast/tag');","module.exports      = Ast;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/data_table.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/data_table.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"DataTable","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":31},"end":{"line":5,"column":46}}},"3":{"name":"(anonymous_3)","line":6,"loc":{"start":{"line":6,"column":25},"end":{"line":6,"column":41}}},"4":{"name":"getType","line":12,"loc":{"start":{"line":12,"column":13},"end":{"line":12,"column":32}}},"5":{"name":"rows","line":16,"loc":{"start":{"line":16,"column":10},"end":{"line":16,"column":26}}},"6":{"name":"rowsHash","line":22,"loc":{"start":{"line":22,"column":14},"end":{"line":22,"column":34}}},"7":{"name":"(anonymous_7)","line":24,"loc":{"start":{"line":24,"column":45},"end":{"line":24,"column":60}}},"8":{"name":"raw","line":35,"loc":{"start":{"line":35,"column":9},"end":{"line":35,"column":24}}},"9":{"name":"hashes","line":39,"loc":{"start":{"line":39,"column":12},"end":{"line":39,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":47,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":28}},"4":{"start":{"line":5,"column":2},"end":{"line":9,"column":5}},"5":{"start":{"line":6,"column":4},"end":{"line":8,"column":7}},"6":{"start":{"line":7,"column":6},"end":{"line":7,"column":24}},"7":{"start":{"line":11,"column":2},"end":{"line":45,"column":4}},"8":{"start":{"line":13,"column":6},"end":{"line":13,"column":25}},"9":{"start":{"line":17,"column":6},"end":{"line":17,"column":28}},"10":{"start":{"line":18,"column":6},"end":{"line":18,"column":19}},"11":{"start":{"line":19,"column":6},"end":{"line":19,"column":18}},"12":{"start":{"line":23,"column":6},"end":{"line":23,"column":28}},"13":{"start":{"line":24,"column":6},"end":{"line":26,"column":9}},"14":{"start":{"line":25,"column":8},"end":{"line":25,"column":32}},"15":{"start":{"line":28,"column":6},"end":{"line":30,"column":7}},"16":{"start":{"line":29,"column":8},"end":{"line":29,"column":90}},"17":{"start":{"line":32,"column":6},"end":{"line":32,"column":31}},"18":{"start":{"line":36,"column":6},"end":{"line":36,"column":31}},"19":{"start":{"line":40,"column":6},"end":{"line":40,"column":40}},"20":{"start":{"line":41,"column":6},"end":{"line":41,"column":62}},"21":{"start":{"line":42,"column":6},"end":{"line":42,"column":49}},"22":{"start":{"line":43,"column":6},"end":{"line":43,"column":30}},"23":{"start":{"line":46,"column":2},"end":{"line":46,"column":14}},"24":{"start":{"line":49,"column":0},"end":{"line":49,"column":27}}},"branchMap":{"1":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":6},"end":{"line":28,"column":6}},{"start":{"line":28,"column":6},"end":{"line":28,"column":6}}]}},"code":["function DataTable(data) {","  var Cucumber = require('../../cucumber');","  var _ = require('lodash');","","  var rawTable = data.rows.map(function (row) {","    return row.cells.map(function (cell) {","      return cell.value;","    });","  });","","  var self = {","    getType: function getType() {","      return 'DataTable';","    },","","    rows: function rows() {","      var copy = self.raw();","      copy.shift();","      return copy;","    },","","    rowsHash: function rowsHash() {","      var rows = self.raw();","      var everyRowHasTwoColumns = rows.every(function (row) {","        return row.length === 2;","      });","","      if (!everyRowHasTwoColumns) {","        throw new Error('rowsHash was called on a data table with more than two columns');","      }","","      return _.fromPairs(rows);","    },","","    raw: function raw() {","      return rawTable.slice(0);","    },","","    hashes: function hashes() {","      var raw              = self.raw();","      var hashDataTable    = Cucumber.Type.HashDataTable(raw);","      var rawHashDataTable = hashDataTable.raw();","      return rawHashDataTable;","    }","  };","  return self;","}","","module.exports = DataTable;",""],"l":{"1":1,"2":0,"3":0,"5":0,"6":0,"7":0,"11":0,"13":0,"17":0,"18":0,"19":0,"23":0,"24":0,"25":0,"28":0,"29":0,"32":0,"36":0,"40":0,"41":0,"42":0,"43":0,"46":0,"49":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/doc_string.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/doc_string.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"DocString","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}}},"2":{"name":"getType","line":3,"loc":{"start":{"line":3,"column":13},"end":{"line":3,"column":32}}},"3":{"name":"getContent","line":7,"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":38}}},"4":{"name":"getContentType","line":11,"loc":{"start":{"line":11,"column":20},"end":{"line":11,"column":46}}},"5":{"name":"getLine","line":15,"loc":{"start":{"line":15,"column":13},"end":{"line":15,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":20,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":18,"column":4}},"3":{"start":{"line":4,"column":6},"end":{"line":4,"column":25}},"4":{"start":{"line":8,"column":6},"end":{"line":8,"column":26}},"5":{"start":{"line":12,"column":6},"end":{"line":12,"column":30}},"6":{"start":{"line":16,"column":6},"end":{"line":16,"column":32}},"7":{"start":{"line":19,"column":2},"end":{"line":19,"column":14}},"8":{"start":{"line":22,"column":0},"end":{"line":22,"column":27}}},"branchMap":{},"code":["function DocString(data) {","  var self = {","    getType: function getType() {","      return 'DocString';","    },","","    getContent: function getContent() {","      return data.content;","    },","","    getContentType: function getContentType() {","      return data.contentType;","    },","","    getLine: function getLine() {","      return data.location.line;","    }","  };","  return self;","}","","module.exports = DocString;",""],"l":{"1":1,"2":0,"4":0,"8":0,"12":0,"16":0,"19":0,"22":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/feature.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/feature.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"Feature","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":25},"end":{"line":8,"column":44}}},"3":{"name":"getStepKeywordByLines","line":14,"loc":{"start":{"line":14,"column":27},"end":{"line":14,"column":65}}},"4":{"name":"(anonymous_4)","line":16,"loc":{"start":{"line":16,"column":31},"end":{"line":16,"column":46}}},"5":{"name":"getScenarioDescriptionByLines","line":24,"loc":{"start":{"line":24,"column":35},"end":{"line":24,"column":81}}},"6":{"name":"(anonymous_6)","line":25,"loc":{"start":{"line":25,"column":42},"end":{"line":25,"column":57}}},"7":{"name":"(anonymous_7)","line":33,"loc":{"start":{"line":33,"column":24},"end":{"line":33,"column":35}}},"8":{"name":"getKeyword","line":37,"loc":{"start":{"line":37,"column":16},"end":{"line":37,"column":38}}},"9":{"name":"getKeyword","line":41,"loc":{"start":{"line":41,"column":17},"end":{"line":41,"column":39}}},"10":{"name":"getName","line":45,"loc":{"start":{"line":45,"column":13},"end":{"line":45,"column":32}}},"11":{"name":"getDescription","line":49,"loc":{"start":{"line":49,"column":20},"end":{"line":49,"column":46}}},"12":{"name":"getUri","line":53,"loc":{"start":{"line":53,"column":12},"end":{"line":53,"column":30}}},"13":{"name":"getLine","line":57,"loc":{"start":{"line":57,"column":13},"end":{"line":57,"column":32}}},"14":{"name":"getTags","line":61,"loc":{"start":{"line":61,"column":13},"end":{"line":61,"column":32}}},"15":{"name":"getScenarios","line":65,"loc":{"start":{"line":65,"column":18},"end":{"line":65,"column":42}}},"16":{"name":"(anonymous_16)","line":70,"loc":{"start":{"line":70,"column":20},"end":{"line":70,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":75,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":35}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":28}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":16}},"6":{"start":{"line":7,"column":2},"end":{"line":11,"column":3}},"7":{"start":{"line":8,"column":4},"end":{"line":10,"column":7}},"8":{"start":{"line":9,"column":6},"end":{"line":9,"column":39}},"9":{"start":{"line":13,"column":2},"end":{"line":68,"column":4}},"10":{"start":{"line":15,"column":6},"end":{"line":15,"column":59}},"11":{"start":{"line":16,"column":6},"end":{"line":18,"column":9}},"12":{"start":{"line":17,"column":8},"end":{"line":17,"column":53}},"13":{"start":{"line":19,"column":6},"end":{"line":21,"column":7}},"14":{"start":{"line":20,"column":8},"end":{"line":20,"column":28}},"15":{"start":{"line":25,"column":6},"end":{"line":27,"column":9}},"16":{"start":{"line":26,"column":8},"end":{"line":26,"column":53}},"17":{"start":{"line":28,"column":6},"end":{"line":30,"column":7}},"18":{"start":{"line":29,"column":8},"end":{"line":29,"column":35}},"19":{"start":{"line":34,"column":6},"end":{"line":34,"column":59}},"20":{"start":{"line":38,"column":6},"end":{"line":38,"column":26}},"21":{"start":{"line":42,"column":6},"end":{"line":42,"column":27}},"22":{"start":{"line":46,"column":6},"end":{"line":46,"column":23}},"23":{"start":{"line":50,"column":6},"end":{"line":50,"column":30}},"24":{"start":{"line":54,"column":6},"end":{"line":54,"column":17}},"25":{"start":{"line":58,"column":6},"end":{"line":58,"column":32}},"26":{"start":{"line":62,"column":6},"end":{"line":62,"column":18}},"27":{"start":{"line":66,"column":6},"end":{"line":66,"column":23}},"28":{"start":{"line":70,"column":2},"end":{"line":72,"column":5}},"29":{"start":{"line":71,"column":4},"end":{"line":71,"column":30}},"30":{"start":{"line":74,"column":2},"end":{"line":74,"column":14}},"31":{"start":{"line":77,"column":0},"end":{"line":77,"column":25}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":6}},{"start":{"line":19,"column":6},"end":{"line":19,"column":6}}]},"3":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":6},"end":{"line":28,"column":6}},{"start":{"line":28,"column":6},"end":{"line":28,"column":6}}]}},"code":["function Feature(data, uri, scenarios) {","  var Cucumber = require('../../cucumber');","  var Gherkin = require('gherkin');","  var _ = require('lodash');","","  var tags = [];","  if (data.tags) {","    tags = data.tags.map(function (tagData) {","      return Cucumber.Ast.Tag(tagData);","    });","  }","","  var self = {","    getStepKeywordByLines: function getStepKeywordByLines(lines) {","      var steps = _.flatten(_.map(data.children, 'steps'));","      var step = _.find(steps, function(node) {","        return _.includes(lines, node.location.line);","      });","      if (step) {","        return step.keyword;","      }","    },","","    getScenarioDescriptionByLines: function getScenarioDescriptionByLines(lines) {","      var element = _.find(data.children, function(node) {","        return _.includes(lines, node.location.line);","      });","      if (element) {","        return element.description;","      }","    },","","    getScenarioKeyword: function() {","      return Gherkin.DIALECTS[self.getLanguage()].scenario;","    },","","    getKeyword: function getKeyword() {","      return data.keyword;","    },","","    getLanguage: function getKeyword() {","      return data.language;","    },","","    getName: function getName() {","      return data.name;","    },","","    getDescription: function getDescription() {","      return data.description;","    },","","    getUri: function getUri() {","      return uri;","    },","","    getLine: function getLine() {","      return data.location.line;","    },","","    getTags: function getTags() {","      return tags;","    },","","    getScenarios: function getScenarios() {","      return scenarios;","    }","  };","","  scenarios.forEach(function(scenario) {","    scenario.setFeature(self);","  });","","  return self;","}","","module.exports = Feature;",""],"l":{"1":1,"2":0,"3":0,"4":0,"6":0,"7":0,"8":0,"9":0,"13":0,"15":0,"16":0,"17":0,"19":0,"20":0,"25":0,"26":0,"28":0,"29":0,"34":0,"38":0,"42":0,"46":0,"50":0,"54":0,"58":0,"62":0,"66":0,"70":0,"71":0,"74":0,"77":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/filter.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/filter.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":1,"10":1,"11":1,"12":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"Filter","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":23}}},"2":{"name":"isElementEnrolled","line":5,"loc":{"start":{"line":5,"column":23},"end":{"line":5,"column":59}}},"3":{"name":"(anonymous_3)","line":6,"loc":{"start":{"line":6,"column":36},"end":{"line":6,"column":52}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":26}},"2":{"start":{"line":3,"column":0},"end":{"line":13,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":11,"column":4}},"4":{"start":{"line":6,"column":6},"end":{"line":8,"column":9}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":50}},"6":{"start":{"line":9,"column":6},"end":{"line":9,"column":22}},"7":{"start":{"line":12,"column":2},"end":{"line":12,"column":14}},"8":{"start":{"line":15,"column":0},"end":{"line":15,"column":69}},"9":{"start":{"line":16,"column":0},"end":{"line":16,"column":70}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":78}},"11":{"start":{"line":18,"column":0},"end":{"line":18,"column":74}},"12":{"start":{"line":20,"column":0},"end":{"line":20,"column":24}}},"branchMap":{},"code":["var _ = require('lodash');","","function Filter(rules) {","  var self = {","    isElementEnrolled: function isElementEnrolled(element) {","      var enrolled = _.every(rules, function (rule) {","        return rule.isSatisfiedByElement(element);","      });","      return enrolled;","    }","  };","  return self;","}","","Filter.AnyOfTagsRule          = require('./filter/any_of_tags_rule');","Filter.AnyOfNamesRule         = require('./filter/any_of_names_rule');","Filter.ElementMatchingTagSpec = require('./filter/element_matching_tag_spec');","Filter.ScenarioAtLineRule     = require('./filter/scenario_at_line_rule');","","module.exports = Filter;",""],"l":{"1":1,"3":1,"4":0,"6":0,"7":0,"9":0,"12":0,"15":1,"16":1,"17":1,"18":1,"20":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/filter/any_of_tags_rule.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/filter/any_of_tags_rule.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"AnyOfTagsRule","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}}},"2":{"name":"isSatisfiedByElement","line":7,"loc":{"start":{"line":7,"column":26},"end":{"line":7,"column":65}}},"3":{"name":"(anonymous_3)","line":8,"loc":{"start":{"line":8,"column":35},"end":{"line":8,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":26}},"2":{"start":{"line":3,"column":0},"end":{"line":16,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":46}},"4":{"start":{"line":6,"column":2},"end":{"line":14,"column":4}},"5":{"start":{"line":8,"column":6},"end":{"line":11,"column":9}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":67}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":40}},"8":{"start":{"line":12,"column":6},"end":{"line":12,"column":23}},"9":{"start":{"line":15,"column":2},"end":{"line":15,"column":14}},"10":{"start":{"line":18,"column":0},"end":{"line":18,"column":31}}},"branchMap":{},"code":["var _ = require('lodash');","","function AnyOfTagsRule(tags) {","  var Cucumber = require('../../../cucumber');","","  var self = {","    isSatisfiedByElement: function isSatisfiedByElement(element) {","      var satisfied = _.some(tags, function (tag) {","        var spec = Cucumber.Ast.Filter.ElementMatchingTagSpec(tag);","        return spec.isMatching(element);","      });","      return satisfied;","    }","  };","  return self;","}","","module.exports = AnyOfTagsRule;",""],"l":{"1":1,"3":1,"4":0,"6":0,"8":0,"9":0,"10":0,"12":0,"15":0,"18":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/filter/any_of_names_rule.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/filter/any_of_names_rule.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"AnyOfNamesRule","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}}},"2":{"name":"isSatisfiedByElement","line":5,"loc":{"start":{"line":5,"column":26},"end":{"line":5,"column":65}}},"3":{"name":"(anonymous_3)","line":9,"loc":{"start":{"line":9,"column":36},"end":{"line":9,"column":52}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":26}},"2":{"start":{"line":3,"column":0},"end":{"line":16,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":14,"column":4}},"4":{"start":{"line":6,"column":6},"end":{"line":8,"column":7}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":20}},"6":{"start":{"line":9,"column":6},"end":{"line":11,"column":9}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":45}},"8":{"start":{"line":12,"column":6},"end":{"line":12,"column":23}},"9":{"start":{"line":15,"column":2},"end":{"line":15,"column":14}},"10":{"start":{"line":18,"column":0},"end":{"line":18,"column":32}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":6},"end":{"line":6,"column":6}},{"start":{"line":6,"column":6},"end":{"line":6,"column":6}}]}},"code":["var _ = require('lodash');","","function AnyOfNamesRule(names) {","  var self = {","    isSatisfiedByElement: function isSatisfiedByElement(element) {","      if (names.length === 0) {","        return true;","      }","      var satisfied = _.some(names, function (name) {","        return element.getName().match(name);","      });","      return satisfied;","    }","  };","  return self;","}","","module.exports = AnyOfNamesRule;",""],"l":{"1":1,"3":1,"4":0,"6":0,"7":0,"9":0,"10":0,"12":0,"15":0,"18":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/filter/element_matching_tag_spec.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/filter/element_matching_tag_spec.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"ElementMatchingTagSpec","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}}},"2":{"name":"isMatching","line":5,"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":45}}},"3":{"name":"isTagSatisfying","line":15,"loc":{"start":{"line":15,"column":21},"end":{"line":15,"column":51}}},"4":{"name":"isExpectingTag","line":27,"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":26}},"2":{"start":{"line":3,"column":0},"end":{"line":33,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":31,"column":4}},"4":{"start":{"line":6,"column":6},"end":{"line":6,"column":42}},"5":{"start":{"line":7,"column":6},"end":{"line":7,"column":19}},"6":{"start":{"line":8,"column":6},"end":{"line":11,"column":62}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":61}},"8":{"start":{"line":11,"column":8},"end":{"line":11,"column":62}},"9":{"start":{"line":12,"column":6},"end":{"line":12,"column":22}},"10":{"start":{"line":16,"column":6},"end":{"line":16,"column":41}},"11":{"start":{"line":17,"column":6},"end":{"line":17,"column":21}},"12":{"start":{"line":18,"column":6},"end":{"line":23,"column":7}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":48}},"14":{"start":{"line":21,"column":8},"end":{"line":21,"column":95}},"15":{"start":{"line":22,"column":8},"end":{"line":22,"column":55}},"16":{"start":{"line":24,"column":6},"end":{"line":24,"column":24}},"17":{"start":{"line":28,"column":6},"end":{"line":28,"column":82}},"18":{"start":{"line":29,"column":6},"end":{"line":29,"column":26}},"19":{"start":{"line":32,"column":2},"end":{"line":32,"column":14}},"20":{"start":{"line":35,"column":0},"end":{"line":35,"column":48}},"21":{"start":{"line":37,"column":0},"end":{"line":37,"column":40}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":6}},{"start":{"line":8,"column":6},"end":{"line":8,"column":6}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":6},"end":{"line":18,"column":6}},{"start":{"line":18,"column":6},"end":{"line":18,"column":6}}]}},"code":["var _ = require('lodash');","","function ElementMatchingTagSpec(tagName) {","  var self = {","    isMatching: function isMatching(element) {","      var elementTags = element.getTags();","      var matching;","      if (self.isExpectingTag())","        matching = _.some(elementTags, self.isTagSatisfying);","      else","        matching = _.every(elementTags, self.isTagSatisfying);","      return matching;","    },","","    isTagSatisfying: function isTagSatisfying(tag) {","      var checkedTagName = tag.getName();","      var satisfying;","      if (self.isExpectingTag())","        satisfying = checkedTagName === tagName;","      else {","        var negatedCheckedTagName = ElementMatchingTagSpec.NEGATION_CHARACTER + checkedTagName;","        satisfying = negatedCheckedTagName !== tagName;","      }","      return satisfying;","    },","","    isExpectingTag: function isExpectingTag() {","      var expectingTag = tagName[0] !== ElementMatchingTagSpec.NEGATION_CHARACTER;","      return expectingTag;","    }","  };","  return self;","}","","ElementMatchingTagSpec.NEGATION_CHARACTER = '~';","","module.exports = ElementMatchingTagSpec;",""],"l":{"1":1,"3":1,"4":0,"6":0,"7":0,"8":0,"9":0,"11":0,"12":0,"16":0,"17":0,"18":0,"19":0,"21":0,"22":0,"24":0,"28":0,"29":0,"32":0,"35":1,"37":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/filter/scenario_at_line_rule.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/filter/scenario_at_line_rule.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"ScenarioAtLineRule","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":24},"end":{"line":7,"column":38}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":43},"end":{"line":15,"column":62}}},"4":{"name":"isSatisfiedByElement","line":22,"loc":{"start":{"line":22,"column":26},"end":{"line":22,"column":65}}},"5":{"name":"(anonymous_5)","line":26,"loc":{"start":{"line":26,"column":44},"end":{"line":26,"column":60}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":35,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":46}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":25}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":28}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":19}},"6":{"start":{"line":7,"column":2},"end":{"line":19,"column":5}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":92}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":50}},"9":{"start":{"line":10,"column":4},"end":{"line":18,"column":5}},"10":{"start":{"line":11,"column":6},"end":{"line":11,"column":49}},"11":{"start":{"line":12,"column":6},"end":{"line":14,"column":7}},"12":{"start":{"line":13,"column":8},"end":{"line":13,"column":31}},"13":{"start":{"line":15,"column":6},"end":{"line":17,"column":9}},"14":{"start":{"line":16,"column":8},"end":{"line":16,"column":50}},"15":{"start":{"line":21,"column":2},"end":{"line":33,"column":4}},"16":{"start":{"line":23,"column":6},"end":{"line":30,"column":7}},"17":{"start":{"line":24,"column":8},"end":{"line":24,"column":46}},"18":{"start":{"line":25,"column":8},"end":{"line":29,"column":9}},"19":{"start":{"line":26,"column":10},"end":{"line":28,"column":13}},"20":{"start":{"line":27,"column":12},"end":{"line":27,"column":43}},"21":{"start":{"line":31,"column":6},"end":{"line":31,"column":18}},"22":{"start":{"line":34,"column":2},"end":{"line":34,"column":14}},"23":{"start":{"line":37,"column":0},"end":{"line":37,"column":36}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":28},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":49}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":4}},{"start":{"line":10,"column":4},"end":{"line":10,"column":4}}]},"3":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":6},"end":{"line":12,"column":6}},{"start":{"line":12,"column":6},"end":{"line":12,"column":6}}]},"4":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":6}},{"start":{"line":23,"column":6},"end":{"line":23,"column":6}}]},"5":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":10},"end":{"line":23,"column":24}},{"start":{"line":23,"column":28},"end":{"line":23,"column":44}}]},"6":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":25,"column":8}},{"start":{"line":25,"column":8},"end":{"line":25,"column":8}}]}},"code":["function ScenarioAtLineRule(suppliedPaths) {","  var Cucumber = require('../../../cucumber');","  var fs = require('fs');","  var _ = require('lodash');","","  var mapping = {};","  suppliedPaths.forEach(function(path){","    var matches = Cucumber.Cli.Configuration.FEATURE_FILENAME_AND_LINENUM_REGEXP.exec(path);","    var specifiedLineNums = matches && matches[2];","    if (specifiedLineNums) {","      var realPath = fs.realpathSync(matches[1]);","      if (!mapping[realPath]) {","        mapping[realPath] = [];","      }","      specifiedLineNums.split(':').forEach(function (lineNum) {","        mapping[realPath].push(parseInt(lineNum));","      });","    }","  });","","  var self = {","    isSatisfiedByElement: function isSatisfiedByElement(element) {","      if (element.getUri && element.getLines) {","        var lines = mapping[element.getUri()];","        if (lines) {","          return _.some(element.getLines(), function (line) {","            return _.includes(lines, line);","          });","        }","      }","      return true;","    }","  };","  return self;","}","","module.exports = ScenarioAtLineRule;",""],"l":{"1":1,"2":0,"3":0,"4":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"15":0,"16":0,"21":0,"23":0,"24":0,"25":0,"26":0,"27":0,"31":0,"34":0,"37":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/scenario.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/scenario.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"Scenario","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}}},"2":{"name":"getName","line":7,"loc":{"start":{"line":7,"column":13},"end":{"line":7,"column":32}}},"3":{"name":"getKeyword","line":11,"loc":{"start":{"line":11,"column":16},"end":{"line":11,"column":38}}},"4":{"name":"getDescription","line":15,"loc":{"start":{"line":15,"column":20},"end":{"line":15,"column":46}}},"5":{"name":"getFeature","line":19,"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":38}}},"6":{"name":"setFeature","line":23,"loc":{"start":{"line":23,"column":16},"end":{"line":23,"column":43}}},"7":{"name":"getUri","line":27,"loc":{"start":{"line":27,"column":12},"end":{"line":27,"column":30}}},"8":{"name":"getLine","line":31,"loc":{"start":{"line":31,"column":13},"end":{"line":31,"column":32}}},"9":{"name":"getLines","line":35,"loc":{"start":{"line":35,"column":14},"end":{"line":35,"column":34}}},"10":{"name":"getTags","line":39,"loc":{"start":{"line":39,"column":13},"end":{"line":39,"column":32}}},"11":{"name":"getSteps","line":43,"loc":{"start":{"line":43,"column":14},"end":{"line":43,"column":34}}},"12":{"name":"(anonymous_12)","line":49,"loc":{"start":{"line":49,"column":25},"end":{"line":49,"column":45}}},"13":{"name":"(anonymous_13)","line":58,"loc":{"start":{"line":58,"column":25},"end":{"line":58,"column":44}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":64,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":28}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":32}},"5":{"start":{"line":6,"column":2},"end":{"line":46,"column":4}},"6":{"start":{"line":8,"column":6},"end":{"line":8,"column":23}},"7":{"start":{"line":12,"column":6},"end":{"line":12,"column":52}},"8":{"start":{"line":16,"column":6},"end":{"line":16,"column":78}},"9":{"start":{"line":20,"column":6},"end":{"line":20,"column":21}},"10":{"start":{"line":24,"column":6},"end":{"line":24,"column":22}},"11":{"start":{"line":28,"column":6},"end":{"line":28,"column":17}},"12":{"start":{"line":32,"column":6},"end":{"line":32,"column":38}},"13":{"start":{"line":36,"column":6},"end":{"line":36,"column":43}},"14":{"start":{"line":40,"column":6},"end":{"line":40,"column":18}},"15":{"start":{"line":44,"column":6},"end":{"line":44,"column":19}},"16":{"start":{"line":48,"column":2},"end":{"line":48,"column":19}},"17":{"start":{"line":49,"column":2},"end":{"line":55,"column":5}},"18":{"start":{"line":50,"column":4},"end":{"line":50,"column":43}},"19":{"start":{"line":51,"column":4},"end":{"line":51,"column":27}},"20":{"start":{"line":52,"column":4},"end":{"line":52,"column":39}},"21":{"start":{"line":53,"column":4},"end":{"line":53,"column":24}},"22":{"start":{"line":54,"column":4},"end":{"line":54,"column":16}},"23":{"start":{"line":57,"column":2},"end":{"line":61,"column":3}},"24":{"start":{"line":58,"column":4},"end":{"line":60,"column":7}},"25":{"start":{"line":59,"column":6},"end":{"line":59,"column":39}},"26":{"start":{"line":63,"column":2},"end":{"line":63,"column":14}},"27":{"start":{"line":66,"column":0},"end":{"line":66,"column":26}}},"branchMap":{"1":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":2},"end":{"line":57,"column":2}},{"start":{"line":57,"column":2},"end":{"line":57,"column":2}}]}},"code":["function Scenario(data, uri) {","  var Cucumber = require('../../cucumber');","  var _ = require('lodash');","  var feature, steps, tags = [];","","  var self = {","    getName: function getName() {","      return data.name;","    },","","    getKeyword: function getKeyword() {","      return self.getFeature().getScenarioKeyword();","    },","","    getDescription: function getDescription() {","      return self.getFeature().getScenarioDescriptionByLines(self.getLines());","    },","","    getFeature: function getFeature() {","      return feature;","    },","","    setFeature: function setFeature(value) {","      feature = value;","    },","","    getUri: function getUri() {","      return uri;","    },","","    getLine: function getLine() {","      return _.first(self.getLines());","    },","","    getLines: function getLines() {","      return _.map(data.locations, 'line');","    },","","    getTags: function getTags() {","      return tags;","    },","","    getSteps: function getSteps() {","      return steps;","    }","  };","","  var previousStep;","  steps = data.steps.map(function (stepData) {","    var step = Cucumber.Ast.Step(stepData);","    step.setScenario(self);","    step.setPreviousStep(previousStep);","    previousStep = step;","    return step;","  });","","  if (data.tags) {","    tags = data.tags.map(function (tagData) {","      return Cucumber.Ast.Tag(tagData);","    });","  }","","  return self;","}","","module.exports = Scenario;",""],"l":{"1":1,"2":0,"3":0,"4":0,"6":0,"8":0,"12":0,"16":0,"20":0,"24":0,"28":0,"32":0,"36":0,"40":0,"44":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"57":0,"58":0,"59":0,"63":0,"66":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/step.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/step.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"fnMap":{"1":{"name":"Step","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":20}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":54}}},"3":{"name":"getScenario","line":22,"loc":{"start":{"line":22,"column":17},"end":{"line":22,"column":40}}},"4":{"name":"setScenario","line":26,"loc":{"start":{"line":26,"column":17},"end":{"line":26,"column":51}}},"5":{"name":"setPreviousStep","line":30,"loc":{"start":{"line":30,"column":21},"end":{"line":30,"column":63}}},"6":{"name":"isHidden","line":34,"loc":{"start":{"line":34,"column":14},"end":{"line":34,"column":34}}},"7":{"name":"getName","line":38,"loc":{"start":{"line":38,"column":13},"end":{"line":38,"column":32}}},"8":{"name":"getKeyword","line":42,"loc":{"start":{"line":42,"column":16},"end":{"line":42,"column":38}}},"9":{"name":"hasUri","line":46,"loc":{"start":{"line":46,"column":12},"end":{"line":46,"column":30}}},"10":{"name":"getLine","line":50,"loc":{"start":{"line":50,"column":13},"end":{"line":50,"column":32}}},"11":{"name":"getLines","line":54,"loc":{"start":{"line":54,"column":14},"end":{"line":54,"column":34}}},"12":{"name":"getUri","line":58,"loc":{"start":{"line":58,"column":12},"end":{"line":58,"column":30}}},"13":{"name":"getPreviousStep","line":62,"loc":{"start":{"line":62,"column":21},"end":{"line":62,"column":48}}},"14":{"name":"hasPreviousStep","line":66,"loc":{"start":{"line":66,"column":21},"end":{"line":66,"column":48}}},"15":{"name":"getArguments","line":70,"loc":{"start":{"line":70,"column":18},"end":{"line":70,"column":42}}},"16":{"name":"isOutcomeStep","line":74,"loc":{"start":{"line":74,"column":19},"end":{"line":74,"column":44}}},"17":{"name":"isEventStep","line":78,"loc":{"start":{"line":78,"column":17},"end":{"line":78,"column":40}}},"18":{"name":"hasOutcomeStepKeyword","line":82,"loc":{"start":{"line":82,"column":27},"end":{"line":82,"column":60}}},"19":{"name":"hasEventStepKeyword","line":89,"loc":{"start":{"line":89,"column":25},"end":{"line":89,"column":56}}},"20":{"name":"isRepeatingOutcomeStep","line":96,"loc":{"start":{"line":96,"column":28},"end":{"line":96,"column":62}}},"21":{"name":"isRepeatingEventStep","line":100,"loc":{"start":{"line":100,"column":26},"end":{"line":100,"column":58}}},"22":{"name":"hasRepeatStepKeyword","line":104,"loc":{"start":{"line":104,"column":26},"end":{"line":104,"column":58}}},"23":{"name":"isPrecededByOutcomeStep","line":112,"loc":{"start":{"line":112,"column":29},"end":{"line":112,"column":64}}},"24":{"name":"isPrecededByEventStep","line":122,"loc":{"start":{"line":122,"column":27},"end":{"line":122,"column":60}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":133,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":35}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":28}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":29}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":25}},"7":{"start":{"line":9,"column":2},"end":{"line":19,"column":3}},"8":{"start":{"line":10,"column":4},"end":{"line":18,"column":7}},"9":{"start":{"line":11,"column":6},"end":{"line":17,"column":7}},"10":{"start":{"line":12,"column":8},"end":{"line":12,"column":43}},"11":{"start":{"line":13,"column":13},"end":{"line":17,"column":7}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":43}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":78}},"14":{"start":{"line":21,"column":2},"end":{"line":131,"column":4}},"15":{"start":{"line":23,"column":6},"end":{"line":23,"column":22}},"16":{"start":{"line":27,"column":6},"end":{"line":27,"column":29}},"17":{"start":{"line":31,"column":6},"end":{"line":31,"column":37}},"18":{"start":{"line":35,"column":6},"end":{"line":35,"column":19}},"19":{"start":{"line":39,"column":6},"end":{"line":39,"column":23}},"20":{"start":{"line":43,"column":6},"end":{"line":43,"column":84}},"21":{"start":{"line":47,"column":6},"end":{"line":47,"column":18}},"22":{"start":{"line":51,"column":6},"end":{"line":51,"column":37}},"23":{"start":{"line":55,"column":6},"end":{"line":55,"column":43}},"24":{"start":{"line":59,"column":6},"end":{"line":59,"column":41}},"25":{"start":{"line":63,"column":6},"end":{"line":63,"column":26}},"26":{"start":{"line":67,"column":6},"end":{"line":67,"column":28}},"27":{"start":{"line":71,"column":6},"end":{"line":71,"column":27}},"28":{"start":{"line":75,"column":6},"end":{"line":75,"column":75}},"29":{"start":{"line":79,"column":6},"end":{"line":79,"column":71}},"30":{"start":{"line":83,"column":6},"end":{"line":83,"column":67}},"31":{"start":{"line":84,"column":6},"end":{"line":86,"column":17}},"32":{"start":{"line":90,"column":6},"end":{"line":90,"column":67}},"33":{"start":{"line":91,"column":6},"end":{"line":93,"column":17}},"34":{"start":{"line":97,"column":6},"end":{"line":97,"column":75}},"35":{"start":{"line":101,"column":6},"end":{"line":101,"column":73}},"36":{"start":{"line":105,"column":6},"end":{"line":105,"column":67}},"37":{"start":{"line":106,"column":6},"end":{"line":109,"column":17}},"38":{"start":{"line":113,"column":6},"end":{"line":113,"column":25}},"39":{"start":{"line":115,"column":6},"end":{"line":118,"column":7}},"40":{"start":{"line":116,"column":8},"end":{"line":116,"column":50}},"41":{"start":{"line":117,"column":8},"end":{"line":117,"column":46}},"42":{"start":{"line":119,"column":6},"end":{"line":119,"column":20}},"43":{"start":{"line":123,"column":6},"end":{"line":123,"column":25}},"44":{"start":{"line":125,"column":6},"end":{"line":128,"column":7}},"45":{"start":{"line":126,"column":8},"end":{"line":126,"column":50}},"46":{"start":{"line":127,"column":8},"end":{"line":127,"column":44}},"47":{"start":{"line":129,"column":6},"end":{"line":129,"column":20}},"48":{"start":{"line":132,"column":2},"end":{"line":132,"column":14}},"49":{"start":{"line":135,"column":0},"end":{"line":135,"column":36}},"50":{"start":{"line":136,"column":0},"end":{"line":136,"column":36}},"51":{"start":{"line":137,"column":0},"end":{"line":137,"column":35}},"52":{"start":{"line":138,"column":0},"end":{"line":138,"column":35}},"53":{"start":{"line":139,"column":0},"end":{"line":139,"column":33}},"54":{"start":{"line":141,"column":0},"end":{"line":141,"column":22}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":6},"end":{"line":11,"column":6}},{"start":{"line":11,"column":6},"end":{"line":11,"column":6}}]},"3":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":13},"end":{"line":13,"column":13}},{"start":{"line":13,"column":13},"end":{"line":13,"column":13}}]},"4":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":13},"end":{"line":75,"column":41}},{"start":{"line":75,"column":45},"end":{"line":75,"column":74}}]},"5":{"line":79,"type":"binary-expr","locations":[{"start":{"line":79,"column":13},"end":{"line":79,"column":39}},{"start":{"line":79,"column":43},"end":{"line":79,"column":70}}]},"6":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":13},"end":{"line":97,"column":40}},{"start":{"line":97,"column":44},"end":{"line":97,"column":74}}]},"7":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":13},"end":{"line":101,"column":40}},{"start":{"line":101,"column":44},"end":{"line":101,"column":72}}]},"8":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":6},"end":{"line":115,"column":6}},{"start":{"line":115,"column":6},"end":{"line":115,"column":6}}]},"9":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":6},"end":{"line":125,"column":6}},{"start":{"line":125,"column":6},"end":{"line":125,"column":6}}]}},"code":["function Step(data) {","  var Cucumber = require('../../cucumber');","  var Gherkin = require('gherkin');","  var _ = require('lodash');","  var previousStep, scenario;","","  var stepArguments = [];","","  if (data.arguments) {","    stepArguments = data.arguments.map(function (arg) {","      if (arg.hasOwnProperty('content')) {","        return Cucumber.Ast.DocString(arg);","      } else if (arg.hasOwnProperty('rows')) {","        return Cucumber.Ast.DataTable(arg);","      } else {","        throw new Error('Unknown step argument type: ' + JSON.stringify(arg));","      }","    });","  }","","  var self = {","    getScenario: function getScenario() {","      return scenario;","    },","","    setScenario: function setScenario(newScenario) {","      scenario = newScenario;","    },","","    setPreviousStep: function setPreviousStep(newPreviousStep) {","      previousStep = newPreviousStep;","    },","","    isHidden: function isHidden() {","      return false;","    },","","    getName: function getName() {","      return data.text;","    },","","    getKeyword: function getKeyword() {","      return self.getScenario().getFeature().getStepKeywordByLines(self.getLines());","    },","","    hasUri: function hasUri() {","      return true;","    },","","    getLine: function getLine() {","      return _.last(self.getLines());","    },","","    getLines: function getLines() {","      return _.map(data.locations, 'line');","    },","","    getUri: function getUri() {","      return self.getScenario().getUri();","    },","","    getPreviousStep: function getPreviousStep() {","      return previousStep;","    },","","    hasPreviousStep: function hasPreviousStep() {","      return !!previousStep;","    },","","    getArguments: function getArguments() {","      return stepArguments;","    },","","    isOutcomeStep: function isOutcomeStep() {","      return self.hasOutcomeStepKeyword() || self.isRepeatingOutcomeStep();","    },","","    isEventStep: function isEventStep() {","      return self.hasEventStepKeyword() || self.isRepeatingEventStep();","    },","","    hasOutcomeStepKeyword: function hasOutcomeStepKeyword() {","      var language = self.getScenario().getFeature().getLanguage();","      return _.chain(Gherkin.DIALECTS[language].then)","        .includes(self.getKeyword())","        .value();","    },","","    hasEventStepKeyword: function hasEventStepKeyword() {","      var language = self.getScenario().getFeature().getLanguage();","      return _.chain(Gherkin.DIALECTS[language].when)","        .includes(self.getKeyword())","        .value();","    },","","    isRepeatingOutcomeStep: function isRepeatingOutcomeStep() {","      return self.hasRepeatStepKeyword() && self.isPrecededByOutcomeStep();","    },","","    isRepeatingEventStep: function isRepeatingEventStep() {","      return self.hasRepeatStepKeyword() && self.isPrecededByEventStep();","    },","","    hasRepeatStepKeyword: function hasRepeatStepKeyword() {","      var language = self.getScenario().getFeature().getLanguage();","      return _.chain(Gherkin.DIALECTS[language].and)","        .concat(Gherkin.DIALECTS[language].but)","        .includes(self.getKeyword())","        .value();","    },","","    isPrecededByOutcomeStep: function isPrecededByOutcomeStep() {","      var result = false;","","      if (self.hasPreviousStep()) {","        var previousStep = self.getPreviousStep();","        result = previousStep.isOutcomeStep();","      }","      return result;","    },","","    isPrecededByEventStep: function isPrecededByEventStep() {","      var result = false;","","      if (self.hasPreviousStep()) {","        var previousStep = self.getPreviousStep();","        result = previousStep.isEventStep();","      }","      return result;","    }","  };","  return self;","}","","Step.EVENT_STEP_KEYWORD   = 'When ';","Step.OUTCOME_STEP_KEYWORD = 'Then ';","Step.AND_STEP_KEYWORD     = 'And ';","Step.BUT_STEP_KEYWORD     = 'But ';","Step.STAR_STEP_KEYWORD    = '* ';","","module.exports = Step;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"7":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"21":0,"23":0,"27":0,"31":0,"35":0,"39":0,"43":0,"47":0,"51":0,"55":0,"59":0,"63":0,"67":0,"71":0,"75":0,"79":0,"83":0,"84":0,"90":0,"91":0,"97":0,"101":0,"105":0,"106":0,"113":0,"115":0,"116":0,"117":0,"119":0,"123":0,"125":0,"126":0,"127":0,"129":0,"132":0,"135":1,"136":1,"137":1,"138":1,"139":1,"141":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/hook_step.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/hook_step.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"HookStep","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}}},"2":{"name":"getKeyword","line":5,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":42}}},"3":{"name":"isHidden","line":9,"loc":{"start":{"line":9,"column":18},"end":{"line":9,"column":38}}},"4":{"name":"hasUri","line":13,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":18,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":35}},"4":{"start":{"line":5,"column":2},"end":{"line":7,"column":4}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":19}},"6":{"start":{"line":9,"column":2},"end":{"line":11,"column":4}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":16}},"8":{"start":{"line":13,"column":2},"end":{"line":15,"column":4}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":17}},"10":{"start":{"line":17,"column":2},"end":{"line":17,"column":14}},"11":{"start":{"line":20,"column":0},"end":{"line":20,"column":41}},"12":{"start":{"line":21,"column":0},"end":{"line":21,"column":39}},"13":{"start":{"line":23,"column":0},"end":{"line":23,"column":26}}},"branchMap":{},"code":["function HookStep(keyword) {","  var Cucumber = require('../../cucumber');","  var self = Cucumber.Ast.Step({});","","  self.getKeyword = function getKeyword() {","    return keyword;","  };","","  self.isHidden = function isHidden() {","    return true;","  };","","  self.hasUri = function hasUri() {","    return false;","  };","","  return self;","}","","HookStep.BEFORE_STEP_KEYWORD = 'Before ';","HookStep.AFTER_STEP_KEYWORD = 'After ';","","module.exports = HookStep;",""],"l":{"1":1,"2":0,"3":0,"5":0,"6":0,"9":0,"10":0,"13":0,"14":0,"17":0,"20":1,"21":1,"23":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/tag.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/ast/tag.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"Tag","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":19}}},"2":{"name":"getName","line":3,"loc":{"start":{"line":3,"column":13},"end":{"line":3,"column":32}}},"3":{"name":"getLine","line":7,"loc":{"start":{"line":7,"column":13},"end":{"line":7,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":12,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":10,"column":4}},"3":{"start":{"line":4,"column":6},"end":{"line":4,"column":23}},"4":{"start":{"line":8,"column":6},"end":{"line":8,"column":32}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":14}},"6":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}},"branchMap":{},"code":["function Tag(data) {","  var self = {","    getName: function getName() {","      return data.name;","    },","","    getLine: function getLine() {","      return data.location.line;","    }","  };","  return self;","}","","module.exports = Tag;",""],"l":{"1":1,"2":0,"4":0,"8":0,"11":0,"14":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"Cli","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":19}}},"2":{"name":"mergeWorldParametersJson","line":7,"loc":{"start":{"line":7,"column":2},"end":{"line":7,"column":47}}},"3":{"name":"collect","line":21,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":30}}},"4":{"name":"getProgram","line":26,"loc":{"start":{"line":26,"column":2},"end":{"line":26,"column":25}}},"5":{"name":"(anonymous_5)","line":47,"loc":{"start":{"line":47,"column":25},"end":{"line":47,"column":35}}},"6":{"name":"getConfiguration","line":54,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":30}}},"7":{"name":"run","line":68,"loc":{"start":{"line":68,"column":9},"end":{"line":68,"column":32}}},"8":{"name":"(anonymous_8)","line":72,"loc":{"start":{"line":72,"column":25},"end":{"line":72,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":79,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":40}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":29}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":28}},"6":{"start":{"line":7,"column":2},"end":{"line":19,"column":3}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":12}},"8":{"start":{"line":9,"column":4},"end":{"line":13,"column":5}},"9":{"start":{"line":10,"column":6},"end":{"line":10,"column":28}},"10":{"start":{"line":12,"column":6},"end":{"line":12,"column":95}},"11":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"12":{"start":{"line":15,"column":6},"end":{"line":15,"column":94}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":23}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":16}},"15":{"start":{"line":21,"column":2},"end":{"line":24,"column":3}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":19}},"17":{"start":{"line":23,"column":4},"end":{"line":23,"column":16}},"18":{"start":{"line":26,"column":2},"end":{"line":52,"column":3}},"19":{"start":{"line":27,"column":4},"end":{"line":27,"column":54}},"20":{"start":{"line":29,"column":4},"end":{"line":45,"column":153}},"21":{"start":{"line":47,"column":4},"end":{"line":49,"column":7}},"22":{"start":{"line":48,"column":6},"end":{"line":48,"column":99}},"23":{"start":{"line":51,"column":4},"end":{"line":51,"column":19}},"24":{"start":{"line":54,"column":2},"end":{"line":65,"column":3}},"25":{"start":{"line":55,"column":4},"end":{"line":55,"column":31}},"26":{"start":{"line":56,"column":4},"end":{"line":56,"column":24}},"27":{"start":{"line":57,"column":4},"end":{"line":57,"column":75}},"28":{"start":{"line":58,"column":4},"end":{"line":62,"column":5}},"29":{"start":{"line":59,"column":6},"end":{"line":59,"column":80}},"30":{"start":{"line":60,"column":6},"end":{"line":60,"column":29}},"31":{"start":{"line":61,"column":6},"end":{"line":61,"column":30}},"32":{"start":{"line":63,"column":4},"end":{"line":63,"column":81}},"33":{"start":{"line":64,"column":4},"end":{"line":64,"column":25}},"34":{"start":{"line":67,"column":2},"end":{"line":77,"column":4}},"35":{"start":{"line":69,"column":6},"end":{"line":69,"column":45}},"36":{"start":{"line":70,"column":6},"end":{"line":70,"column":55}},"37":{"start":{"line":71,"column":6},"end":{"line":71,"column":53}},"38":{"start":{"line":72,"column":6},"end":{"line":74,"column":9}},"39":{"start":{"line":73,"column":8},"end":{"line":73,"column":42}},"40":{"start":{"line":75,"column":6},"end":{"line":75,"column":30}},"41":{"start":{"line":78,"column":2},"end":{"line":78,"column":14}},"42":{"start":{"line":81,"column":0},"end":{"line":81,"column":51}},"43":{"start":{"line":82,"column":0},"end":{"line":82,"column":65}},"44":{"start":{"line":83,"column":0},"end":{"line":83,"column":65}},"45":{"start":{"line":84,"column":0},"end":{"line":84,"column":50}},"46":{"start":{"line":85,"column":0},"end":{"line":85,"column":54}},"47":{"start":{"line":86,"column":0},"end":{"line":86,"column":61}},"48":{"start":{"line":87,"column":0},"end":{"line":87,"column":74}},"49":{"start":{"line":89,"column":0},"end":{"line":89,"column":21}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"2":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":4},"end":{"line":58,"column":4}},{"start":{"line":58,"column":4},"end":{"line":58,"column":4}}]}},"code":["function Cli(argv) {","  var Cucumber = require('../cucumber');","  var Command = require('commander').Command;","  var path = require('path');","  var _ = require('lodash');","","  function mergeWorldParametersJson(str, memo) {","    var val;","    try {","      val = JSON.parse(str);","    } catch (error) {","      throw new Error('--world-parameters passed invalid JSON: ' + error.message + ': ' + str);","    }","    if (!_.isPlainObject(val)) {","      throw new Error('--world-parameters must be passed a JSON string of an object: ' + str);","    }","    _.merge(memo, val);","    return memo;","  }","","  function collect(val, memo) {","    memo.push(val);","    return memo;","  }","","  function getProgram () {","    var program = new Command(path.basename(argv[1]));","","    program","      .usage('[options] [<DIR | FILE[:LINE]>...]')","      .version(Cucumber.VERSION, '-v, --version')","      .option('-b, --backtrace', 'show full backtrace for errors')","      .option('--compiler <EXTENSION:MODULE>', 'require files with the given EXTENSION after requiring MODULE (repeatable)', collect, [])","      .option('-d, --dry-run', 'invoke formatters without executing steps')","      .option('--fail-fast', 'abort the run on first failure')","      .option('-f, --format <TYPE[:PATH]>', 'specify the output format, optionally supply PATH to redirect formatter output (repeatable)', collect, ['pretty'])","      .option('--name <REGEXP>', 'only execute the scenarios with name matching the expression (repeatable)', collect, [])","      .option('--no-colors', 'disable colors in formatter output')","      .option('-p, --profile <NAME>', 'specify the profile to use (repeatable)', collect, [])","      .option('-r, --require <FILE | DIR>', 'require files before executing features (repeatable)', collect, [])","      .option('--snippet-interface [callback | generator | promise | synchronous]', 'specify a snippet interface', 'callback')","      .option('--snippet-syntax [<FILE>]', 'specify a custom snippet syntax')","      .option('-S, --strict', 'fail if there are any undefined or pending steps')","      .option('-t, --tags <EXPRESSION>', 'only execute the features or scenarios with tags matching the expression (repeatable)', collect, [])","      .option('--world-parameters <JSON>', 'provide parameters that will be passed to the world constructor (repeatable)', mergeWorldParametersJson, {});","","    program.on('--help', function(){","      console.log('  For more details please visit https://github.com/cucumber/cucumber-js#cli\\n');","    });","","    return program;","  }","","  function getConfiguration() {","    var program = getProgram();","    program.parse(argv);","    var profileArgs = Cucumber.Cli.ProfilesLoader.getArgs(program.profile);","    if (profileArgs.length > 0) {","      var fullArgs = argv.slice(0, 2).concat(profileArgs).concat(argv.slice(2));","      program = getProgram();","      program.parse(fullArgs);","    }","    var configuration = Cucumber.Cli.Configuration(program.opts(), program.args);","    return configuration;","  }","","  var self = {","    run: function run(callback) {","      var configuration = getConfiguration();","      var runtime    = Cucumber.Runtime(configuration);","      var formatters = configuration.getFormatters();","      formatters.forEach(function (formatter) {","        runtime.attachListener(formatter);","      });","      runtime.start(callback);","    }","  };","  return self;","}","","Cli.Configuration = require('./cli/configuration');","Cli.FeaturePathExpander = require('./cli/feature_path_expander');","Cli.FeatureSourceLoader = require('./cli/feature_source_loader');","Cli.PathExpander = require('./cli/path_expander');","Cli.ProfilesLoader = require('./cli/profiles_loader');","Cli.SupportCodeLoader = require('./cli/support_code_loader');","Cli.SupportCodePathExpander = require('./cli/support_code_path_expander');","","module.exports = Cli;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"7":1,"8":0,"9":0,"10":0,"12":0,"14":0,"15":0,"17":0,"18":0,"21":1,"22":0,"23":0,"26":1,"27":0,"29":0,"47":0,"48":0,"51":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"63":0,"64":0,"67":0,"69":0,"70":0,"71":0,"72":0,"73":0,"75":0,"78":0,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"89":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/configuration.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/configuration.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":1,"20":0,"21":0,"22":1,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0,0,0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"fnMap":{"1":{"name":"Configuration","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":17},"end":{"line":10,"column":31}}},"3":{"name":"getCompilerExtensions","line":24,"loc":{"start":{"line":24,"column":2},"end":{"line":24,"column":35}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":32},"end":{"line":25,"column":51}}},"5":{"name":"getCompilerModules","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":30,"column":32}}},"6":{"name":"(anonymous_6)","line":31,"loc":{"start":{"line":31,"column":32},"end":{"line":31,"column":51}}},"7":{"name":"getFeatureDirectoryPaths","line":37,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":38}}},"8":{"name":"(anonymous_8)","line":38,"loc":{"start":{"line":38,"column":36},"end":{"line":38,"column":59}}},"9":{"name":"getFormats","line":43,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":24}}},"10":{"name":"(anonymous_10)","line":45,"loc":{"start":{"line":45,"column":27},"end":{"line":45,"column":45}}},"11":{"name":"(anonymous_11)","line":51,"loc":{"start":{"line":51,"column":32},"end":{"line":51,"column":58}}},"12":{"name":"getSnippetSyntax","line":61,"loc":{"start":{"line":61,"column":2},"end":{"line":61,"column":31}}},"13":{"name":"getSupportCodePaths","line":70,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":33}}},"14":{"name":"getFormatters","line":78,"loc":{"start":{"line":78,"column":19},"end":{"line":78,"column":44}}},"15":{"name":"(anonymous_15)","line":81,"loc":{"start":{"line":81,"column":35},"end":{"line":81,"column":53}}},"16":{"name":"getFeatureSources","line":108,"loc":{"start":{"line":108,"column":23},"end":{"line":108,"column":52}}},"17":{"name":"getAstFilter","line":113,"loc":{"start":{"line":113,"column":18},"end":{"line":113,"column":42}}},"18":{"name":"(anonymous_18)","line":115,"loc":{"start":{"line":115,"column":35},"end":{"line":115,"column":51}}},"19":{"name":"getSupportCodeLibrary","line":124,"loc":{"start":{"line":124,"column":27},"end":{"line":124,"column":60}}},"20":{"name":"getWorldParameters","line":131,"loc":{"start":{"line":131,"column":24},"end":{"line":131,"column":54}}},"21":{"name":"isFailFastRequested","line":135,"loc":{"start":{"line":135,"column":25},"end":{"line":135,"column":56}}},"22":{"name":"isDryRunRequested","line":139,"loc":{"start":{"line":139,"column":23},"end":{"line":139,"column":52}}},"23":{"name":"isStrictRequested","line":143,"loc":{"start":{"line":143,"column":23},"end":{"line":143,"column":52}}},"24":{"name":"shouldFilterStackTraces","line":147,"loc":{"start":{"line":147,"column":29},"end":{"line":147,"column":64}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":152,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":29}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":25}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":28}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":44}},"7":{"start":{"line":8,"column":2},"end":{"line":19,"column":3}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":32}},"9":{"start":{"line":10,"column":4},"end":{"line":18,"column":7}},"10":{"start":{"line":11,"column":6},"end":{"line":11,"column":40}},"11":{"start":{"line":12,"column":6},"end":{"line":17,"column":7}},"12":{"start":{"line":13,"column":8},"end":{"line":13,"column":51}},"13":{"start":{"line":14,"column":8},"end":{"line":14,"column":84}},"14":{"start":{"line":16,"column":8},"end":{"line":16,"column":41}},"15":{"start":{"line":21,"column":2},"end":{"line":21,"column":98}},"16":{"start":{"line":24,"column":2},"end":{"line":28,"column":3}},"17":{"start":{"line":25,"column":4},"end":{"line":27,"column":7}},"18":{"start":{"line":26,"column":6},"end":{"line":26,"column":36}},"19":{"start":{"line":30,"column":2},"end":{"line":34,"column":3}},"20":{"start":{"line":31,"column":4},"end":{"line":33,"column":7}},"21":{"start":{"line":32,"column":6},"end":{"line":32,"column":36}},"22":{"start":{"line":37,"column":2},"end":{"line":41,"column":3}},"23":{"start":{"line":38,"column":4},"end":{"line":40,"column":7}},"24":{"start":{"line":39,"column":6},"end":{"line":39,"column":39}},"25":{"start":{"line":43,"column":2},"end":{"line":59,"column":3}},"26":{"start":{"line":44,"column":4},"end":{"line":44,"column":27}},"27":{"start":{"line":45,"column":4},"end":{"line":50,"column":7}},"28":{"start":{"line":46,"column":6},"end":{"line":46,"column":36}},"29":{"start":{"line":47,"column":6},"end":{"line":47,"column":26}},"30":{"start":{"line":48,"column":6},"end":{"line":48,"column":46}},"31":{"start":{"line":49,"column":6},"end":{"line":49,"column":37}},"32":{"start":{"line":51,"column":4},"end":{"line":58,"column":7}},"33":{"start":{"line":52,"column":6},"end":{"line":52,"column":34}},"34":{"start":{"line":53,"column":6},"end":{"line":56,"column":7}},"35":{"start":{"line":54,"column":8},"end":{"line":54,"column":44}},"36":{"start":{"line":55,"column":8},"end":{"line":55,"column":54}},"37":{"start":{"line":57,"column":6},"end":{"line":57,"column":42}},"38":{"start":{"line":61,"column":2},"end":{"line":68,"column":3}},"39":{"start":{"line":62,"column":4},"end":{"line":62,"column":85}},"40":{"start":{"line":63,"column":4},"end":{"line":66,"column":5}},"41":{"start":{"line":64,"column":6},"end":{"line":64,"column":81}},"42":{"start":{"line":65,"column":6},"end":{"line":65,"column":43}},"43":{"start":{"line":67,"column":4},"end":{"line":67,"column":45}},"44":{"start":{"line":70,"column":2},"end":{"line":74,"column":3}},"45":{"start":{"line":71,"column":4},"end":{"line":71,"column":111}},"46":{"start":{"line":72,"column":4},"end":{"line":72,"column":60}},"47":{"start":{"line":73,"column":4},"end":{"line":73,"column":100}},"48":{"start":{"line":76,"column":2},"end":{"line":150,"column":4}},"49":{"start":{"line":79,"column":6},"end":{"line":79,"column":33}},"50":{"start":{"line":80,"column":6},"end":{"line":80,"column":45}},"51":{"start":{"line":81,"column":6},"end":{"line":104,"column":9}},"52":{"start":{"line":82,"column":8},"end":{"line":86,"column":10}},"53":{"start":{"line":88,"column":8},"end":{"line":103,"column":9}},"54":{"start":{"line":90,"column":12},"end":{"line":90,"column":69}},"55":{"start":{"line":92,"column":12},"end":{"line":92,"column":73}},"56":{"start":{"line":94,"column":12},"end":{"line":94,"column":71}},"57":{"start":{"line":96,"column":12},"end":{"line":96,"column":73}},"58":{"start":{"line":98,"column":12},"end":{"line":98,"column":72}},"59":{"start":{"line":100,"column":12},"end":{"line":100,"column":70}},"60":{"start":{"line":102,"column":12},"end":{"line":102,"column":77}},"61":{"start":{"line":105,"column":6},"end":{"line":105,"column":24}},"62":{"start":{"line":109,"column":6},"end":{"line":109,"column":87}},"63":{"start":{"line":110,"column":6},"end":{"line":110,"column":46}},"64":{"start":{"line":114,"column":6},"end":{"line":114,"column":84}},"65":{"start":{"line":115,"column":6},"end":{"line":117,"column":9}},"66":{"start":{"line":116,"column":9},"end":{"line":116,"column":56}},"67":{"start":{"line":118,"column":6},"end":{"line":118,"column":84}},"68":{"start":{"line":119,"column":6},"end":{"line":119,"column":70}},"69":{"start":{"line":120,"column":6},"end":{"line":120,"column":56}},"70":{"start":{"line":121,"column":6},"end":{"line":121,"column":40}},"71":{"start":{"line":125,"column":6},"end":{"line":125,"column":51}},"72":{"start":{"line":126,"column":6},"end":{"line":126,"column":49}},"73":{"start":{"line":127,"column":6},"end":{"line":127,"column":96}},"74":{"start":{"line":128,"column":6},"end":{"line":128,"column":55}},"75":{"start":{"line":132,"column":6},"end":{"line":132,"column":37}},"76":{"start":{"line":136,"column":6},"end":{"line":136,"column":30}},"77":{"start":{"line":140,"column":6},"end":{"line":140,"column":28}},"78":{"start":{"line":144,"column":6},"end":{"line":144,"column":28}},"79":{"start":{"line":148,"column":6},"end":{"line":148,"column":32}},"80":{"start":{"line":151,"column":2},"end":{"line":151,"column":14}},"81":{"start":{"line":154,"column":0},"end":{"line":154,"column":77}},"82":{"start":{"line":156,"column":0},"end":{"line":156,"column":31}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":6},"end":{"line":12,"column":6}},{"start":{"line":12,"column":6},"end":{"line":12,"column":6}}]},"3":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":6},"end":{"line":53,"column":6}},{"start":{"line":53,"column":6},"end":{"line":53,"column":6}}]},"4":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":4},"end":{"line":63,"column":4}},{"start":{"line":63,"column":4},"end":{"line":63,"column":4}}]},"5":{"line":71,"type":"cond-expr","locations":[{"start":{"line":71,"column":66},"end":{"line":71,"column":81}},{"start":{"line":71,"column":84},"end":{"line":71,"column":110}}]},"6":{"line":88,"type":"switch","locations":[{"start":{"line":89,"column":10},"end":{"line":90,"column":69}},{"start":{"line":91,"column":10},"end":{"line":92,"column":73}},{"start":{"line":93,"column":10},"end":{"line":94,"column":71}},{"start":{"line":95,"column":10},"end":{"line":96,"column":73}},{"start":{"line":97,"column":10},"end":{"line":98,"column":72}},{"start":{"line":99,"column":10},"end":{"line":100,"column":70}},{"start":{"line":101,"column":10},"end":{"line":102,"column":77}}]}},"code":["function Configuration(options, args) {","  var Cucumber = require('../../cucumber');","  var path = require('path');","  var fs = require('fs');","  var _ = require('lodash');","","  var unexpandedFeaturePaths = ['features'];","  if (args.length > 0) {","    unexpandedFeaturePaths = [];","    args.forEach(function(arg) {","      var filename = path.basename(arg);","      if (filename[0] === '@') {","        var content = fs.readFileSync(arg, 'utf8');","        unexpandedFeaturePaths = unexpandedFeaturePaths.concat(content.split('\\n'));","      } else {","        unexpandedFeaturePaths.push(arg);","      }","    });","  }","","  var expandedFeaturePaths = Cucumber.Cli.FeaturePathExpander.expandPaths(unexpandedFeaturePaths);","","","  function getCompilerExtensions() {","    return options.compiler.map(function(compiler) {","      return compiler.split(':')[0];","    });","  }","","  function getCompilerModules() {","    return options.compiler.map(function(compiler) {","      return compiler.split(':')[1];","    });","  }","","","  function getFeatureDirectoryPaths() {","    return expandedFeaturePaths.map(function (featurePath) {","      return path.dirname(featurePath);","    });","  }","","  function getFormats() {","    var outputMapping = {};","    options.format.forEach(function (format) {","      var parts = format.split(':');","      var type = parts[0];","      var outputTo = parts.slice(1).join(':');","      outputMapping[outputTo] = type;","    });","    return _.map(outputMapping, function (type, outputTo) {","      var stream = process.stdout;","      if (outputTo) {","        var fd = fs.openSync(outputTo, 'w');","        stream = fs.createWriteStream(null, {fd: fd});","      }","      return {stream: stream, type: type};","    });","  }","","  function getSnippetSyntax () {","    var builder = Cucumber.SupportCode.StepDefinitionSnippetBuilder.JavaScriptSyntax;","    if (options.snippetSyntax) {","      var snippetSyntaxPath = path.resolve(process.cwd(), options.snippetSyntax);","      builder = require(snippetSyntaxPath);","    }","    return builder(options.snippetInterface);","  }","","  function getSupportCodePaths() {","    var unexpandedSupportCodePaths = options.require.length > 0 ? options.require : getFeatureDirectoryPaths();","    var extensions = ['js'].concat(getCompilerExtensions());","    return Cucumber.Cli.SupportCodePathExpander.expandPaths(unexpandedSupportCodePaths, extensions);","  }","","  var self = {","","    getFormatters: function getFormatters() {","      var formats = getFormats();","      var snippetSyntax = getSnippetSyntax();","      var formatters = formats.map(function (format) {","        var formatterOptions = {","          snippetSyntax: snippetSyntax,","          stream: format.stream,","          useColors: options.colors","        };","","        switch(format.type) {","          case 'json':","            return Cucumber.Listener.JsonFormatter(formatterOptions);","          case 'progress':","            return Cucumber.Listener.ProgressFormatter(formatterOptions);","          case 'pretty':","            return Cucumber.Listener.PrettyFormatter(formatterOptions);","          case 'snippets':","            return Cucumber.Listener.SnippetsFormatter(formatterOptions);","          case 'summary':","            return Cucumber.Listener.SummaryFormatter(formatterOptions);","          case 'rerun':","            return Cucumber.Listener.RerunFormatter(formatterOptions);","          default:","            throw new Error('Unknown formatter name \"' + format.type + '\".');","        }","      });","      return formatters;","    },","","    getFeatureSources: function getFeatureSources() {","      var featureSourceLoader = Cucumber.Cli.FeatureSourceLoader(expandedFeaturePaths);","      return featureSourceLoader.getSources();","    },","","    getAstFilter: function getAstFilter() {","      var tagGroups = Cucumber.TagGroupParser.getTagGroupsFromStrings(options.tags);","      var tagRules = tagGroups.map(function (tags) {","         return Cucumber.Ast.Filter.AnyOfTagsRule(tags);","      });","      var lineRule = Cucumber.Ast.Filter.ScenarioAtLineRule(unexpandedFeaturePaths);","      var nameRule = Cucumber.Ast.Filter.AnyOfNamesRule(options.name);","      var rules = tagRules.concat([lineRule, nameRule]);","      return Cucumber.Ast.Filter(rules);","    },","","    getSupportCodeLibrary: function getSupportCodeLibrary() {","      var supportCodePaths = getSupportCodePaths();","      var compilerModules = getCompilerModules();","      var supportCodeLoader = Cucumber.Cli.SupportCodeLoader(supportCodePaths, compilerModules);","      return supportCodeLoader.getSupportCodeLibrary();","    },","","    getWorldParameters: function getWorldParameters() {","      return options.worldParameters;","    },","","    isFailFastRequested: function isFailFastRequested() {","      return options.failFast;","    },","","    isDryRunRequested: function isDryRunRequested() {","      return options.dryRun;","    },","","    isStrictRequested: function isStrictRequested() {","      return options.strict;","    },","","    shouldFilterStackTraces: function shouldFilterStackTraces() {","      return !options.backtrace;","    }","  };","  return self;","}","","Configuration.FEATURE_FILENAME_AND_LINENUM_REGEXP = /([^\\:]*)((?::[\\d]+)+)?/;","","module.exports = Configuration;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"21":0,"24":1,"25":0,"26":0,"30":1,"31":0,"32":0,"37":1,"38":0,"39":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"51":0,"52":0,"53":0,"54":0,"55":0,"57":0,"61":1,"62":0,"63":0,"64":0,"65":0,"67":0,"70":1,"71":0,"72":0,"73":0,"76":0,"79":0,"80":0,"81":0,"82":0,"88":0,"90":0,"92":0,"94":0,"96":0,"98":0,"100":0,"102":0,"105":0,"109":0,"110":0,"114":0,"115":0,"116":0,"118":0,"119":0,"120":0,"121":0,"125":0,"126":0,"127":0,"128":0,"132":0,"136":0,"140":0,"144":0,"148":0,"151":0,"154":1,"156":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/feature_path_expander.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/feature_path_expander.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"expandPaths","line":2,"loc":{"start":{"line":2,"column":15},"end":{"line":2,"column":43}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":22},"end":{"line":6,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":12,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":49}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":49}},"4":{"start":{"line":6,"column":4},"end":{"line":8,"column":7}},"5":{"start":{"line":7,"column":6},"end":{"line":7,"column":43}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":83}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":25}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":37}}},"branchMap":{},"code":["var FeaturePathExpander = {","  expandPaths: function expandPaths(paths) {","    var Cucumber     = require('../../cucumber');","    var PathExpander = Cucumber.Cli.PathExpander;","","    paths = paths.map(function(path) {","      return path.replace(/(:\\d+)*$/g, ''); // Strip line numbers","    });","    var expandedPaths = PathExpander.expandPathsWithExtensions(paths, ['feature']);","    return expandedPaths;","  }","};","module.exports = FeaturePathExpander;",""],"l":{"1":1,"3":0,"4":0,"6":0,"7":0,"9":0,"10":0,"13":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/feature_source_loader.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/feature_source_loader.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"FeatureSourceLoader","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":47}}},"2":{"name":"getSources","line":5,"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":38}}},"3":{"name":"(anonymous_3)","line":7,"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":58}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":15,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":25}},"3":{"start":{"line":4,"column":2},"end":{"line":13,"column":4}},"4":{"start":{"line":6,"column":6},"end":{"line":6,"column":23}},"5":{"start":{"line":7,"column":6},"end":{"line":10,"column":9}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":62}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":48}},"8":{"start":{"line":11,"column":6},"end":{"line":11,"column":21}},"9":{"start":{"line":14,"column":2},"end":{"line":14,"column":14}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":37}}},"branchMap":{},"code":["function FeatureSourceLoader(featureFilePaths) {","  var fs = require('fs');","","  var self = {","    getSources: function getSources() {","      var sources = [];","      featureFilePaths.forEach(function (featureFilePath) {","        var source = fs.readFileSync(featureFilePath, 'utf8');","        sources.push([featureFilePath, source]);","      });","      return sources;","    }","  };","  return self;","}","","module.exports = FeatureSourceLoader;",""],"l":{"1":1,"2":0,"4":0,"6":0,"7":0,"8":0,"9":0,"11":0,"14":0,"17":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/path_expander.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/path_expander.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"expandPathsWithExtensions","line":6,"loc":{"start":{"line":6,"column":29},"end":{"line":6,"column":83}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":34},"end":{"line":7,"column":50}}},"3":{"name":"expandPathWithExtensions","line":13,"loc":{"start":{"line":13,"column":28},"end":{"line":13,"column":80}}},"4":{"name":"expandDirectoryWithExtensions","line":23,"loc":{"start":{"line":23,"column":33},"end":{"line":23,"column":94}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"4":{"start":{"line":5,"column":0},"end":{"line":32,"column":2}},"5":{"start":{"line":7,"column":4},"end":{"line":9,"column":7}},"6":{"start":{"line":8,"column":6},"end":{"line":8,"column":69}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":44}},"8":{"start":{"line":14,"column":4},"end":{"line":14,"column":41}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":38}},"10":{"start":{"line":16,"column":4},"end":{"line":20,"column":5}},"11":{"start":{"line":17,"column":6},"end":{"line":17,"column":70}},"12":{"start":{"line":19,"column":6},"end":{"line":19,"column":24}},"13":{"start":{"line":24,"column":4},"end":{"line":24,"column":38}},"14":{"start":{"line":25,"column":4},"end":{"line":29,"column":5}},"15":{"start":{"line":26,"column":6},"end":{"line":26,"column":50}},"16":{"start":{"line":28,"column":6},"end":{"line":28,"column":31}},"17":{"start":{"line":30,"column":4},"end":{"line":30,"column":30}},"18":{"start":{"line":34,"column":0},"end":{"line":34,"column":30}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":4}},{"start":{"line":16,"column":4},"end":{"line":16,"column":4}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":4}},{"start":{"line":25,"column":4},"end":{"line":25,"column":4}}]}},"code":["var fs = require('fs');","var glob = require('glob');","var _ = require('lodash');","","var PathExpander = {","  expandPathsWithExtensions: function expandPathsWithExtensions(paths, extensions) {","    var expandedPaths = paths.map(function (path) {","      return PathExpander.expandPathWithExtensions(path, extensions);","    });","    return _.uniq(_.flatten(expandedPaths));","  },","","  expandPathWithExtensions: function expandPathWithExtensions(path, extensions) {","    var realPath = fs.realpathSync(path);","    var stats = fs.statSync(realPath);","    if (stats.isDirectory()) {","      return this.expandDirectoryWithExtensions(realPath, extensions);","    } else {","      return [realPath];","    }","  },","","  expandDirectoryWithExtensions: function expandDirectoryWithExtensions(realPath, extensions) {","    var pattern = realPath + '/**/*.';","    if (extensions.length > 1) {","      pattern += '{' + extensions.join(',') + '}';","    } else {","      pattern += extensions[0];","    }","    return glob.sync(pattern);","  }","};","","module.exports = PathExpander;",""],"l":{"1":1,"2":1,"3":1,"5":1,"7":0,"8":0,"10":0,"14":0,"15":0,"16":0,"17":0,"19":0,"24":0,"25":0,"26":0,"28":0,"30":0,"34":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/profiles_loader.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/profiles_loader.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"getDefinitions","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}}},"2":{"name":"getArgs","line":19,"loc":{"start":{"line":19,"column":11},"end":{"line":19,"column":39}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":36},"end":{"line":24,"column":54}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"4":{"start":{"line":5,"column":0},"end":{"line":16,"column":1}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":67}},"6":{"start":{"line":7,"column":2},"end":{"line":15,"column":3}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":50}},"8":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"9":{"start":{"line":10,"column":6},"end":{"line":10,"column":73}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":23}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"12":{"start":{"line":18,"column":0},"end":{"line":32,"column":2}},"13":{"start":{"line":20,"column":4},"end":{"line":20,"column":39}},"14":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"15":{"start":{"line":22,"column":6},"end":{"line":22,"column":29}},"16":{"start":{"line":24,"column":4},"end":{"line":29,"column":7}},"17":{"start":{"line":25,"column":6},"end":{"line":27,"column":7}},"18":{"start":{"line":26,"column":8},"end":{"line":26,"column":57}},"19":{"start":{"line":28,"column":6},"end":{"line":28,"column":46}},"20":{"start":{"line":30,"column":4},"end":{"line":30,"column":35}},"21":{"start":{"line":34,"column":0},"end":{"line":34,"column":32}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":4}},{"start":{"line":9,"column":4},"end":{"line":9,"column":4}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"4":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":29}},{"start":{"line":21,"column":33},"end":{"line":21,"column":55}}]},"5":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":6},"end":{"line":25,"column":6}},{"start":{"line":25,"column":6},"end":{"line":25,"column":6}}]}},"code":["var fs = require('fs');","var path = require('path');","var _ = require('lodash');","","function getDefinitions () {","  var definitionFilePath = path.join(process.cwd(), 'cucumber.js');","  if (fs.existsSync(definitionFilePath)) {","    var definitions = require(definitionFilePath);","    if (typeof definitions !== 'object') {","      throw new Error(definitionFilePath + ' does not export an object');","    }","    return definitions;","  } else {","    return {};","  }","}","","var ProfilesLoader = {","  getArgs: function getArgs (profiles) {","    var definitions = getDefinitions();","    if (profiles.length === 0 && definitions['default']) {","      profiles = ['default'];","    }","    var profilesArgs = profiles.map(function (profile){","      if (!definitions[profile]){","        throw new Error('Undefined profile: ' + profile);","      }","      return definitions[profile].split(/\\s/);","    });","    return _.flatten(profilesArgs);","  }","};","","module.exports = ProfilesLoader;",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"12":0,"14":0,"18":1,"20":0,"21":0,"22":0,"24":0,"25":0,"26":0,"28":0,"30":0,"34":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/support_code_loader.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/support_code_loader.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":1,"48":1,"49":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,1],"7":[0,1]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"SupportCodeLoader","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":66}}},"2":{"name":"getSupportCodeLibrary","line":8,"loc":{"start":{"line":8,"column":27},"end":{"line":8,"column":60}}},"3":{"name":"getSupportCodeInitializer","line":14,"loc":{"start":{"line":14,"column":31},"end":{"line":14,"column":68}}},"4":{"name":"(anonymous_4)","line":17,"loc":{"start":{"line":17,"column":24},"end":{"line":17,"column":36}}},"5":{"name":"getPrimeSupportCodeInitializer","line":29,"loc":{"start":{"line":29,"column":36},"end":{"line":29,"column":78}}},"6":{"name":"getSecondarySupportCodeBlocks","line":35,"loc":{"start":{"line":35,"column":40},"end":{"line":35,"column":81}}},"7":{"name":"getPrimeSupportCodeFilePaths","line":41,"loc":{"start":{"line":41,"column":34},"end":{"line":41,"column":74}}},"8":{"name":"(anonymous_8)","line":43,"loc":{"start":{"line":43,"column":35},"end":{"line":43,"column":51}}},"9":{"name":"getSecondarySupportCodeFilePaths","line":50,"loc":{"start":{"line":50,"column":38},"end":{"line":50,"column":82}}},"10":{"name":"(anonymous_10)","line":52,"loc":{"start":{"line":52,"column":35},"end":{"line":52,"column":51}}},"11":{"name":"buildSupportCodeInitializerFromPaths","line":59,"loc":{"start":{"line":59,"column":42},"end":{"line":59,"column":95}}},"12":{"name":"(anonymous_12)","line":60,"loc":{"start":{"line":60,"column":20},"end":{"line":60,"column":32}}},"13":{"name":"(anonymous_13)","line":62,"loc":{"start":{"line":62,"column":22},"end":{"line":62,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":75,"column":1}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":43}},"5":{"start":{"line":7,"column":2},"end":{"line":73,"column":4}},"6":{"start":{"line":9,"column":6},"end":{"line":9,"column":69}},"7":{"start":{"line":10,"column":6},"end":{"line":10,"column":90}},"8":{"start":{"line":11,"column":6},"end":{"line":11,"column":32}},"9":{"start":{"line":15,"column":6},"end":{"line":15,"column":82}},"10":{"start":{"line":16,"column":6},"end":{"line":16,"column":86}},"11":{"start":{"line":17,"column":6},"end":{"line":25,"column":8}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":37}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":75}},"14":{"start":{"line":20,"column":8},"end":{"line":20,"column":96}},"15":{"start":{"line":21,"column":8},"end":{"line":21,"column":46}},"16":{"start":{"line":22,"column":8},"end":{"line":22,"column":41}},"17":{"start":{"line":23,"column":8},"end":{"line":23,"column":60}},"18":{"start":{"line":24,"column":8},"end":{"line":24,"column":64}},"19":{"start":{"line":26,"column":6},"end":{"line":26,"column":25}},"20":{"start":{"line":30,"column":6},"end":{"line":30,"column":76}},"21":{"start":{"line":31,"column":6},"end":{"line":31,"column":109}},"22":{"start":{"line":32,"column":6},"end":{"line":32,"column":41}},"23":{"start":{"line":36,"column":6},"end":{"line":36,"column":82}},"24":{"start":{"line":37,"column":6},"end":{"line":37,"column":117}},"25":{"start":{"line":38,"column":6},"end":{"line":38,"column":45}},"26":{"start":{"line":42,"column":6},"end":{"line":42,"column":41}},"27":{"start":{"line":43,"column":6},"end":{"line":46,"column":9}},"28":{"start":{"line":44,"column":8},"end":{"line":45,"column":47}},"29":{"start":{"line":45,"column":10},"end":{"line":45,"column":47}},"30":{"start":{"line":47,"column":6},"end":{"line":47,"column":39}},"31":{"start":{"line":51,"column":6},"end":{"line":51,"column":45}},"32":{"start":{"line":52,"column":6},"end":{"line":55,"column":9}},"33":{"start":{"line":53,"column":8},"end":{"line":54,"column":51}},"34":{"start":{"line":54,"column":10},"end":{"line":54,"column":51}},"35":{"start":{"line":56,"column":6},"end":{"line":56,"column":43}},"36":{"start":{"line":60,"column":6},"end":{"line":70,"column":8}},"37":{"start":{"line":61,"column":8},"end":{"line":61,"column":37}},"38":{"start":{"line":62,"column":8},"end":{"line":69,"column":11}},"39":{"start":{"line":63,"column":10},"end":{"line":63,"column":42}},"40":{"start":{"line":64,"column":10},"end":{"line":68,"column":11}},"41":{"start":{"line":65,"column":12},"end":{"line":65,"column":48}},"42":{"start":{"line":66,"column":17},"end":{"line":68,"column":11}},"43":{"start":{"line":67,"column":12},"end":{"line":67,"column":56}},"44":{"start":{"line":71,"column":6},"end":{"line":71,"column":21}},"45":{"start":{"line":74,"column":2},"end":{"line":74,"column":14}},"46":{"start":{"line":77,"column":0},"end":{"line":77,"column":51}},"47":{"start":{"line":78,"column":0},"end":{"line":78,"column":147}},"48":{"start":{"line":79,"column":0},"end":{"line":79,"column":118}},"49":{"start":{"line":81,"column":0},"end":{"line":81,"column":35}}},"branchMap":{"1":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":44,"column":8}},{"start":{"line":44,"column":8},"end":{"line":44,"column":8}}]},"2":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":8},"end":{"line":53,"column":8}},{"start":{"line":53,"column":8},"end":{"line":53,"column":8}}]},"3":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":10},"end":{"line":64,"column":10}},{"start":{"line":64,"column":10},"end":{"line":64,"column":10}}]},"4":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":17},"end":{"line":66,"column":17}},{"start":{"line":66,"column":17},"end":{"line":66,"column":17}}]},"5":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":21},"end":{"line":66,"column":58}},{"start":{"line":66,"column":62},"end":{"line":66,"column":104}}]},"6":{"line":78,"type":"cond-expr","locations":[{"start":{"line":78,"column":116},"end":{"line":78,"column":129}},{"start":{"line":78,"column":132},"end":{"line":78,"column":146}}]},"7":{"line":79,"type":"cond-expr","locations":[{"start":{"line":79,"column":108},"end":{"line":79,"column":111}},{"start":{"line":79,"column":114},"end":{"line":79,"column":117}}]}},"code":["var os = require('os');","var path = require('path');","","function SupportCodeLoader(supportCodeFilePaths, compilerModules) {","  var Cucumber = require('../../cucumber');","","  var self = {","    getSupportCodeLibrary: function getSupportCodeLibrary() {","      var supportCodeInitialiazer = self.getSupportCodeInitializer();","      var supportCodeLibrary      = Cucumber.SupportCode.Library(supportCodeInitialiazer);","      return supportCodeLibrary;","    },","","    getSupportCodeInitializer: function getSupportCodeInitializer() {","      var primeSupportCodeInitializer     = self.getPrimeSupportCodeInitializer();","      var secondarySupportCodeInitializer = self.getSecondarySupportCodeInitializer();","      var initializer = function () {","        var supportCodeHelper = this;","        var userLandModulesPath = path.join(process.cwd(), 'node_modules');","        process.env.NODE_PATH += SupportCodeLoader.ENV_VAR_PATH_SEPARATOR + userLandModulesPath;","        require('module').Module._initPaths();","        compilerModules.forEach(require);","        primeSupportCodeInitializer.call(supportCodeHelper);","        secondarySupportCodeInitializer.call(supportCodeHelper);","      };","      return initializer;","    },","","    getPrimeSupportCodeInitializer: function getPrimeSupportCodeInitializer() {","      var primeSupportCodeFilePaths   = self.getPrimeSupportCodeFilePaths();","      var primeSupportCodeInitializer = self.buildSupportCodeInitializerFromPaths(primeSupportCodeFilePaths);","      return primeSupportCodeInitializer;","     },","","    getSecondarySupportCodeInitializer: function getSecondarySupportCodeBlocks() {","      var secondarySupportCodeFilePaths = self.getSecondarySupportCodeFilePaths();","      var secondarySupportCodeInitializer = self.buildSupportCodeInitializerFromPaths(secondarySupportCodeFilePaths);","      return secondarySupportCodeInitializer;","    },","","    getPrimeSupportCodeFilePaths: function getPrimeSupportCodeFilePaths() {","      var primeSupportCodeFilePaths = [];","      supportCodeFilePaths.forEach(function (path) {","        if (path.match(SupportCodeLoader.PRIME_SUPPORT_CODE_PATH_REGEXP))","          primeSupportCodeFilePaths.push(path);","      });","      return primeSupportCodeFilePaths;","    },","","    getSecondarySupportCodeFilePaths: function getSecondarySupportCodeFilePaths() {","      var secondarySupportCodeFilePaths = [];","      supportCodeFilePaths.forEach(function (path) {","        if (!path.match(SupportCodeLoader.PRIME_SUPPORT_CODE_PATH_REGEXP))","          secondarySupportCodeFilePaths.push(path);","      });","      return secondarySupportCodeFilePaths;","    },","","    buildSupportCodeInitializerFromPaths: function buildSupportCodeInitializerFromPaths(paths) {","      var wrapper = function () {","        var supportCodeHelper = this;","        paths.forEach(function (path) {","          var initializer = require(path);","          if (typeof(initializer) === 'function') {","            initializer.call(supportCodeHelper);","          } else if (initializer.hasOwnProperty('default') && typeof(initializer.default) === 'function') {","            initializer.default.call(supportCodeHelper);","          }","        });","      };","      return wrapper;","    }","  };","  return self;","}","","SupportCodeLoader.WINDOWS_PLATFORM_REGEXP = /^win/;","SupportCodeLoader.PRIME_SUPPORT_CODE_PATH_REGEXP = os.platform().match(SupportCodeLoader.WINDOWS_PLATFORM_REGEXP) ? /\\\\support\\\\/ : /\\/support\\//i;","SupportCodeLoader.ENV_VAR_PATH_SEPARATOR = os.platform().match(SupportCodeLoader.WINDOWS_PLATFORM_REGEXP) ? ';' : ':';","","module.exports = SupportCodeLoader;",""],"l":{"1":1,"2":1,"4":1,"5":0,"7":0,"9":0,"10":0,"11":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"26":0,"30":0,"31":0,"32":0,"36":0,"37":0,"38":0,"42":0,"43":0,"44":0,"45":0,"47":0,"51":0,"52":0,"53":0,"54":0,"56":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"71":0,"74":0,"77":1,"78":1,"79":1,"81":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/support_code_path_expander.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/cli/support_code_path_expander.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"expandPaths","line":2,"loc":{"start":{"line":2,"column":15},"end":{"line":2,"column":55}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":9,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":45}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":49}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":82}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":25}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":41}}},"branchMap":{},"code":["var SupportCodePathExpander = {","  expandPaths: function expandPaths(paths, extensions) {","    var Cucumber = require('../../cucumber');","    var PathExpander = Cucumber.Cli.PathExpander;","","    var expandedPaths = PathExpander.expandPathsWithExtensions(paths, extensions);","    return expandedPaths;","  }","};","module.exports = SupportCodePathExpander;",""],"l":{"1":1,"3":0,"4":0,"6":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/debug.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/debug.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"TODO","line":2,"loc":{"start":{"line":2,"column":8},"end":{"line":2,"column":35}}},"2":{"name":"(anonymous_2)","line":3,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":23}}},"3":{"name":"warn","line":6,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":46}}},"4":{"name":"notice","line":11,"loc":{"start":{"line":11,"column":10},"end":{"line":11,"column":50}}},"5":{"name":"warningString","line":16,"loc":{"start":{"line":16,"column":17},"end":{"line":16,"column":57}}},"6":{"name":"noticeString","line":21,"loc":{"start":{"line":21,"column":16},"end":{"line":21,"column":55}}},"7":{"name":"prefix","line":26,"loc":{"start":{"line":26,"column":10},"end":{"line":26,"column":28}}},"8":{"name":"isMessageLeveltoBeDisplayed","line":30,"loc":{"start":{"line":30,"column":31},"end":{"line":30,"column":75}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":38,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":77}},"3":{"start":{"line":3,"column":25},"end":{"line":3,"column":74}},"4":{"start":{"line":7,"column":4},"end":{"line":8,"column":65}},"5":{"start":{"line":8,"column":6},"end":{"line":8,"column":65}},"6":{"start":{"line":12,"column":4},"end":{"line":13,"column":64}},"7":{"start":{"line":13,"column":6},"end":{"line":13,"column":64}},"8":{"start":{"line":17,"column":4},"end":{"line":17,"column":41}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":73}},"10":{"start":{"line":22,"column":4},"end":{"line":22,"column":40}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":78}},"12":{"start":{"line":27,"column":4},"end":{"line":27,"column":12}},"13":{"start":{"line":31,"column":4},"end":{"line":36,"column":5}},"14":{"start":{"line":32,"column":6},"end":{"line":32,"column":25}},"15":{"start":{"line":33,"column":6},"end":{"line":33,"column":48}},"16":{"start":{"line":35,"column":6},"end":{"line":35,"column":19}},"17":{"start":{"line":40,"column":0},"end":{"line":40,"column":65}},"18":{"start":{"line":41,"column":0},"end":{"line":41,"column":32}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":7,"column":4}},{"start":{"line":7,"column":4},"end":{"line":7,"column":4}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":4}},{"start":{"line":12,"column":4},"end":{"line":12,"column":4}}]},"3":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":14},"end":{"line":17,"column":21}},{"start":{"line":17,"column":25},"end":{"line":17,"column":40}}]},"4":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":14},"end":{"line":22,"column":21}},{"start":{"line":22,"column":25},"end":{"line":22,"column":39}}]},"5":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"6":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":14},"end":{"line":32,"column":19}},{"start":{"line":32,"column":23},"end":{"line":32,"column":24}}]}},"code":["var Debug = {","  TODO: function TODO(description) {","    return function () { throw(new Error('IMPLEMENT ME: ' + description)); };","  },","","  warn: function warn(string, caption, level) {","    if (Debug.isMessageLeveltoBeDisplayed(level))","      process.stdout.write(Debug.warningString(string, caption));","  },","","  notice: function notice(string, caption, level) {","    if (Debug.isMessageLeveltoBeDisplayed(level))","      process.stdout.write(Debug.noticeString(string, caption));","  },","","  warningString: function warningString(string, caption) {","    caption = caption || 'debug-warning';","    return '\\x1B[30;43m' + caption + ':\\x1B[0m[33m' + string + '\\x1B[0m';","  },","","  noticeString: function noticeString(string, caption) {","    caption = caption || 'debug-notice';","    return '\\x1B[30;46m' + caption + ':\\x1B[0m \\x1B[36m' + string + '\\x1B[0m';","  },","","  prefix: function prefix() {","    return ;","  },","","  isMessageLeveltoBeDisplayed: function isMessageLeveltoBeDisplayed(level) {","    if (process.env) {","      level = level || 3; // default level","      return (level <= process.env.DEBUG_LEVEL);","    } else {","      return false;","    }","  }","};","","Debug.SimpleAstListener = require('./debug/simple_ast_listener');","module.exports          = Debug;",""],"l":{"1":1,"3":0,"7":0,"8":0,"12":0,"13":0,"17":0,"18":0,"22":0,"23":0,"27":0,"31":0,"32":0,"33":0,"35":0,"40":1,"41":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/debug/simple_ast_listener.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/debug/simple_ast_listener.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0,0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"SimpleAstListener","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}}},"2":{"name":"indent","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":37}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":29},"end":{"line":12,"column":45}}},"4":{"name":"log","line":20,"loc":{"start":{"line":20,"column":2},"end":{"line":20,"column":37}}},"5":{"name":"hear","line":31,"loc":{"start":{"line":31,"column":10},"end":{"line":31,"column":41}}},"6":{"name":"hearBeforeFeature","line":50,"loc":{"start":{"line":50,"column":23},"end":{"line":50,"column":69}}},"7":{"name":"hearBeforeScenario","line":59,"loc":{"start":{"line":59,"column":24},"end":{"line":59,"column":72}}},"8":{"name":"(anonymous_8)","line":60,"loc":{"start":{"line":60,"column":42},"end":{"line":60,"column":58}}},"9":{"name":"hearBeforeStep","line":68,"loc":{"start":{"line":68,"column":20},"end":{"line":68,"column":60}}},"10":{"name":"hearStepResult","line":74,"loc":{"start":{"line":74,"column":20},"end":{"line":74,"column":66}}},"11":{"name":"getLogs","line":84,"loc":{"start":{"line":84,"column":13},"end":{"line":84,"column":32}}},"12":{"name":"featuresPassed","line":88,"loc":{"start":{"line":88,"column":20},"end":{"line":88,"column":46}}},"13":{"name":"beforeEachScenarioDo","line":92,"loc":{"start":{"line":92,"column":26},"end":{"line":92,"column":62}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":97,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":42}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":39}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":34}},"6":{"start":{"line":7,"column":2},"end":{"line":8,"column":17}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":17}},"8":{"start":{"line":10,"column":2},"end":{"line":18,"column":3}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"10":{"start":{"line":12,"column":4},"end":{"line":16,"column":7}},"11":{"start":{"line":13,"column":6},"end":{"line":13,"column":57}},"12":{"start":{"line":14,"column":6},"end":{"line":14,"column":27}},"13":{"start":{"line":15,"column":6},"end":{"line":15,"column":84}},"14":{"start":{"line":17,"column":4},"end":{"line":17,"column":20}},"15":{"start":{"line":20,"column":2},"end":{"line":28,"column":3}},"16":{"start":{"line":21,"column":4},"end":{"line":22,"column":45}},"17":{"start":{"line":22,"column":6},"end":{"line":22,"column":45}},"18":{"start":{"line":23,"column":4},"end":{"line":23,"column":33}},"19":{"start":{"line":24,"column":4},"end":{"line":25,"column":36}},"20":{"start":{"line":25,"column":6},"end":{"line":25,"column":36}},"21":{"start":{"line":26,"column":4},"end":{"line":27,"column":38}},"22":{"start":{"line":27,"column":6},"end":{"line":27,"column":38}},"23":{"start":{"line":30,"column":2},"end":{"line":95,"column":4}},"24":{"start":{"line":32,"column":6},"end":{"line":47,"column":7}},"25":{"start":{"line":34,"column":8},"end":{"line":34,"column":74}},"26":{"start":{"line":35,"column":8},"end":{"line":35,"column":14}},"27":{"start":{"line":37,"column":8},"end":{"line":37,"column":76}},"28":{"start":{"line":38,"column":8},"end":{"line":38,"column":14}},"29":{"start":{"line":40,"column":8},"end":{"line":40,"column":68}},"30":{"start":{"line":41,"column":8},"end":{"line":41,"column":14}},"31":{"start":{"line":43,"column":8},"end":{"line":43,"column":74}},"32":{"start":{"line":44,"column":8},"end":{"line":44,"column":14}},"33":{"start":{"line":46,"column":8},"end":{"line":46,"column":19}},"34":{"start":{"line":51,"column":6},"end":{"line":51,"column":31}},"35":{"start":{"line":52,"column":6},"end":{"line":52,"column":43}},"36":{"start":{"line":53,"column":6},"end":{"line":53,"column":49}},"37":{"start":{"line":54,"column":6},"end":{"line":55,"column":28}},"38":{"start":{"line":55,"column":8},"end":{"line":55,"column":28}},"39":{"start":{"line":56,"column":6},"end":{"line":56,"column":17}},"40":{"start":{"line":60,"column":6},"end":{"line":62,"column":9}},"41":{"start":{"line":61,"column":8},"end":{"line":61,"column":15}},"42":{"start":{"line":63,"column":6},"end":{"line":63,"column":14}},"43":{"start":{"line":64,"column":6},"end":{"line":64,"column":33}},"44":{"start":{"line":65,"column":6},"end":{"line":65,"column":17}},"45":{"start":{"line":69,"column":6},"end":{"line":69,"column":25}},"46":{"start":{"line":70,"column":6},"end":{"line":71,"column":17}},"47":{"start":{"line":75,"column":6},"end":{"line":75,"column":71}},"48":{"start":{"line":76,"column":6},"end":{"line":80,"column":7}},"49":{"start":{"line":77,"column":8},"end":{"line":77,"column":22}},"50":{"start":{"line":78,"column":8},"end":{"line":78,"column":57}},"51":{"start":{"line":79,"column":8},"end":{"line":79,"column":22}},"52":{"start":{"line":81,"column":6},"end":{"line":81,"column":17}},"53":{"start":{"line":85,"column":6},"end":{"line":85,"column":18}},"54":{"start":{"line":89,"column":6},"end":{"line":89,"column":21}},"55":{"start":{"line":93,"column":6},"end":{"line":93,"column":45}},"56":{"start":{"line":96,"column":2},"end":{"line":96,"column":14}},"57":{"start":{"line":99,"column":0},"end":{"line":99,"column":35}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":15,"type":"cond-expr","locations":[{"start":{"line":15,"column":53},"end":{"line":15,"column":57}},{"start":{"line":15,"column":60},"end":{"line":15,"column":82}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"4":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":4}},{"start":{"line":24,"column":4},"end":{"line":24,"column":4}}]},"5":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":4}},{"start":{"line":26,"column":4},"end":{"line":26,"column":4}}]},"6":{"line":32,"type":"switch","locations":[{"start":{"line":33,"column":6},"end":{"line":35,"column":14}},{"start":{"line":36,"column":6},"end":{"line":38,"column":14}},{"start":{"line":39,"column":6},"end":{"line":41,"column":14}},{"start":{"line":42,"column":6},"end":{"line":44,"column":14}},{"start":{"line":45,"column":6},"end":{"line":46,"column":19}}]},"7":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":6}},{"start":{"line":54,"column":6},"end":{"line":54,"column":6}}]},"8":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":38},"end":{"line":75,"column":59}},{"start":{"line":75,"column":63},"end":{"line":75,"column":65}}]},"9":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":6},"end":{"line":76,"column":6}},{"start":{"line":76,"column":6},"end":{"line":76,"column":6}}]}},"code":["function SimpleAstListener(options) {","  var logs                        = '';","  var failed                      = false;","  var beforeEachScenarioCallbacks = [];","  var currentFeature, currentStep;","","  if (!options)","    options = {};","","  function indent(text, indentation) {","    var indented;","    text.split('\\n').forEach(function (line) {","      var prefix = new Array(indentation + 1).join('  ');","      line = prefix + line;","      indented = (typeof(indented) === 'undefined' ? line : indented + '\\n' + line);","    });","    return indented;","  }","","  function log(message, indentation) {","    if (indentation)","      message = indent(message, indentation);","    logs = logs + message + '\\n';","    if (options.stream)","      options.stream.write(message);","    if (typeof(options.logToFunction) === 'function')","      options.logToFunction (message);","  }","","  var self = {","    hear: function hear(event, callback) {","      switch(event.getName()) {","      case 'BeforeFeature':","        self.hearBeforeFeature(event.getPayloadItem('feature'), callback);","        break;","      case 'BeforeScenario':","        self.hearBeforeScenario(event.getPayloadItem('scenario'), callback);","        break;","      case 'BeforeStep':","        self.hearBeforeStep(event.getPayloadItem('step'), callback);","        break;","      case 'StepResult':","        self.hearStepResult(event.getPayloadItem('stepResult'), callback);","        break;","      default:","        callback();","      }","    },","","    hearBeforeFeature: function hearBeforeFeature(feature, callback) {","      currentFeature = feature;","      log('Feature: ' + feature.getName());","      var description = feature.getDescription();","      if (description !== '')","        log(description, 1);","      callback();","    },","","    hearBeforeScenario: function hearBeforeScenario(scenario, callback) {","      beforeEachScenarioCallbacks.forEach(function (func) {","        func();","      });","      log('');","      log(scenario.getName(), 1);","      callback();","    },","","    hearBeforeStep: function hearBeforeStep(step, callback) {","      currentStep = step;","      currentStep =","      callback();","    },","","    hearStepResult: function hearStepResult(stepResult, callback) {","      log(currentStep.getKeyword() + (currentStep.getName() || ''), 2);","      if (currentStep.hasDocString()) {","        log('\"\"\"', 3);","        log(currentStep.getDocString().getContents(), 3);","        log('\"\"\"', 3);","      }","      callback();","    },","","    getLogs: function getLogs() {","      return logs;","    },","","    featuresPassed: function featuresPassed() {","      return !failed;","    },","","    beforeEachScenarioDo: function beforeEachScenarioDo(func) {","      beforeEachScenarioCallbacks.push(func);","    }","  };","  return self;","}","","module.exports = SimpleAstListener;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"7":0,"8":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"17":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"30":0,"32":0,"34":0,"35":0,"37":0,"38":0,"40":0,"41":0,"43":0,"44":0,"46":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"60":0,"61":0,"63":0,"64":0,"65":0,"69":0,"70":0,"75":0,"76":0,"77":0,"78":0,"79":0,"81":0,"85":0,"89":0,"93":0,"96":0,"99":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/events.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/events.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":1,"8":4,"9":1,"10":4,"11":1,"12":7,"13":3,"14":4,"15":1,"16":1,"17":1,"18":1},"b":{"1":[3,4]},"f":{"1":4,"2":4,"3":4,"4":7},"fnMap":{"1":{"name":"getBeforeEvent","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}}},"2":{"name":"getAfterEvent","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":29}}},"3":{"name":"getAroundEventsFor","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":24,"column":34}}},"4":{"name":"(anonymous_4)","line":31,"loc":{"start":{"line":31,"column":40},"end":{"line":31,"column":56}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":26}},"2":{"start":{"line":3,"column":0},"end":{"line":11,"column":2}},"3":{"start":{"line":13,"column":0},"end":{"line":13,"column":40}},"4":{"start":{"line":14,"column":0},"end":{"line":14,"column":38}},"5":{"start":{"line":16,"column":0},"end":{"line":18,"column":1}},"6":{"start":{"line":17,"column":2},"end":{"line":17,"column":41}},"7":{"start":{"line":20,"column":0},"end":{"line":22,"column":1}},"8":{"start":{"line":21,"column":2},"end":{"line":21,"column":40}},"9":{"start":{"line":24,"column":0},"end":{"line":29,"column":1}},"10":{"start":{"line":25,"column":2},"end":{"line":28,"column":4}},"11":{"start":{"line":31,"column":0},"end":{"line":37,"column":4}},"12":{"start":{"line":32,"column":2},"end":{"line":36,"column":3}},"13":{"start":{"line":33,"column":4},"end":{"line":33,"column":19}},"14":{"start":{"line":35,"column":4},"end":{"line":35,"column":37}},"15":{"start":{"line":39,"column":0},"end":{"line":39,"column":39}},"16":{"start":{"line":40,"column":0},"end":{"line":40,"column":37}},"17":{"start":{"line":41,"column":0},"end":{"line":41,"column":23}},"18":{"start":{"line":43,"column":0},"end":{"line":43,"column":24}}},"branchMap":{"1":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":2},"end":{"line":32,"column":2}},{"start":{"line":32,"column":2},"end":{"line":32,"column":2}}]}},"code":["var _ = require('lodash');","","var events = {","  FEATURES_EVENT_NAME: 'Features',","  FEATURES_RESULT_EVENT_NAME: 'FeaturesResult',","  FEATURE_EVENT_NAME: 'Feature',","  SCENARIO_EVENT_NAME: 'Scenario',","  SCENARIO_RESULT_EVENT_NAME: 'ScenarioResult',","  STEP_EVENT_NAME: 'Step',","  STEP_RESULT_EVENT_NAME: 'StepResult'","};","","var BEFORE_EVENT_NAME_PREFIX = 'Before';","var AFTER_EVENT_NAME_PREFIX = 'After';","","function getBeforeEvent(name) {","  return BEFORE_EVENT_NAME_PREFIX + name;","}","","function getAfterEvent(name) {","  return AFTER_EVENT_NAME_PREFIX + name;","}","","function getAroundEventsFor(name) {","  return [","    getBeforeEvent(name),","    getAfterEvent(name)","  ];","}","","var allEvents = _.flatten(_.map(events, function(event) {","  if (_.includes(event, 'Result')) {","    return [event];","  } else {","    return getAroundEventsFor(event);","  }","}));","","events.getBeforeEvent = getBeforeEvent;","events.getAfterEvent = getAfterEvent;","events.ALL = allEvents;","","module.exports = events;",""],"l":{"1":1,"3":1,"13":1,"14":1,"16":1,"17":4,"20":1,"21":4,"24":1,"25":4,"31":1,"32":7,"33":3,"35":4,"39":1,"40":1,"41":1,"43":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"Listener","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}}},"2":{"name":"hear","line":11,"loc":{"start":{"line":11,"column":10},"end":{"line":11,"column":57}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":72},"end":{"line":15,"column":88}}},"4":{"name":"hasHandlerForEvent","line":24,"loc":{"start":{"line":24,"column":24},"end":{"line":24,"column":59}}},"5":{"name":"buildHandlerNameForEvent","line":29,"loc":{"start":{"line":29,"column":30},"end":{"line":29,"column":71}}},"6":{"name":"getHandlerForEvent","line":33,"loc":{"start":{"line":33,"column":24},"end":{"line":33,"column":59}}},"7":{"name":"buildHandler","line":38,"loc":{"start":{"line":38,"column":22},"end":{"line":38,"column":55}}},"8":{"name":"setHandlerForEvent","line":42,"loc":{"start":{"line":42,"column":24},"end":{"line":42,"column":72}}},"9":{"name":"(anonymous_9)","line":47,"loc":{"start":{"line":47,"column":16},"end":{"line":47,"column":27}}},"10":{"name":"(anonymous_10)","line":51,"loc":{"start":{"line":51,"column":12},"end":{"line":51,"column":23}}},"11":{"name":"(anonymous_11)","line":55,"loc":{"start":{"line":55,"column":13},"end":{"line":55,"column":24}}},"12":{"name":"(anonymous_12)","line":59,"loc":{"start":{"line":59,"column":28},"end":{"line":59,"column":44}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":72,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":44}},"4":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"6":{"start":{"line":10,"column":2},"end":{"line":70,"column":4}},"7":{"start":{"line":12,"column":6},"end":{"line":21,"column":7}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":53}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":58}},"10":{"start":{"line":15,"column":8},"end":{"line":18,"column":11}},"11":{"start":{"line":16,"column":10},"end":{"line":16,"column":53}},"12":{"start":{"line":17,"column":10},"end":{"line":17,"column":26}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":19}},"14":{"start":{"line":25,"column":6},"end":{"line":25,"column":61}},"15":{"start":{"line":26,"column":6},"end":{"line":26,"column":45}},"16":{"start":{"line":30,"column":6},"end":{"line":30,"column":52}},"17":{"start":{"line":34,"column":6},"end":{"line":34,"column":66}},"18":{"start":{"line":35,"column":6},"end":{"line":35,"column":36}},"19":{"start":{"line":39,"column":6},"end":{"line":39,"column":97}},"20":{"start":{"line":43,"column":6},"end":{"line":43,"column":55}},"21":{"start":{"line":44,"column":6},"end":{"line":44,"column":32}},"22":{"start":{"line":48,"column":6},"end":{"line":48,"column":29}},"23":{"start":{"line":52,"column":6},"end":{"line":52,"column":25}},"24":{"start":{"line":56,"column":6},"end":{"line":56,"column":26}},"25":{"start":{"line":60,"column":6},"end":{"line":67,"column":7}},"26":{"start":{"line":61,"column":8},"end":{"line":61,"column":91}},"27":{"start":{"line":62,"column":8},"end":{"line":66,"column":9}},"28":{"start":{"line":63,"column":10},"end":{"line":63,"column":46}},"29":{"start":{"line":65,"column":10},"end":{"line":65,"column":30}},"30":{"start":{"line":68,"column":6},"end":{"line":68,"column":19}},"31":{"start":{"line":71,"column":2},"end":{"line":71,"column":14}},"32":{"start":{"line":74,"column":0},"end":{"line":74,"column":46}},"33":{"start":{"line":75,"column":0},"end":{"line":75,"column":45}},"34":{"start":{"line":76,"column":0},"end":{"line":76,"column":69}},"35":{"start":{"line":77,"column":0},"end":{"line":77,"column":76}},"36":{"start":{"line":78,"column":0},"end":{"line":78,"column":78}},"37":{"start":{"line":79,"column":0},"end":{"line":79,"column":74}},"38":{"start":{"line":80,"column":0},"end":{"line":80,"column":75}},"39":{"start":{"line":81,"column":0},"end":{"line":81,"column":78}},"40":{"start":{"line":82,"column":0},"end":{"line":82,"column":77}},"41":{"start":{"line":84,"column":0},"end":{"line":84,"column":38}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":6},"end":{"line":12,"column":6}},{"start":{"line":12,"column":6},"end":{"line":12,"column":6}}]},"3":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":22},"end":{"line":14,"column":39}},{"start":{"line":14,"column":43},"end":{"line":14,"column":57}}]},"4":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":6},"end":{"line":60,"column":6}},{"start":{"line":60,"column":6},"end":{"line":60,"column":6}}]},"5":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":10},"end":{"line":60,"column":15}},{"start":{"line":60,"column":19},"end":{"line":60,"column":32}}]},"6":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":62,"column":8}},{"start":{"line":62,"column":8},"end":{"line":62,"column":8}}]}},"code":["var path = require('path');","","function Listener(options) {","  var Cucumber     = require('../cucumber');","","  if (!options) {","    options = {};","  }","","  var self = {","    hear: function hear(event, defaultTimeout, callback) {","      if (self.hasHandlerForEvent(event)) {","        var handler = self.getHandlerForEvent(event);","        var timeout = self.getTimeout() || defaultTimeout;","        Cucumber.Util.run(handler, null, [event.getPayload()], timeout, function(error) {","          error = self.prependLocationToError(error);","          callback(error);","        });","      } else {","        callback();","      }","    },","","    hasHandlerForEvent: function hasHandlerForEvent(event) {","      var handlerName = self.buildHandlerNameForEvent(event);","      return self[handlerName] !== undefined;","    },","","    buildHandlerNameForEvent: function buildHandlerNameForEvent(event) {","      return self.buildHandlerName(event.getName());","    },","","    getHandlerForEvent: function getHandlerForEvent(event) {","      var eventHandlerName = self.buildHandlerNameForEvent(event);","      return self[eventHandlerName];","    },","","    buildHandlerName: function buildHandler(shortName) {","      return Listener.EVENT_HANDLER_NAME_PREFIX + shortName + Listener.EVENT_HANDLER_NAME_SUFFIX;","    },","","    setHandlerForEvent: function setHandlerForEvent(shortname, handler) {","      var eventName = self.buildHandlerName(shortname);","      self[eventName] = handler;","    },","","    getTimeout: function() {","      return options.timeout;","    },","","    getUri: function() {","      return options.uri;","    },","","    getLine: function() {","      return options.line;","    },","","    prependLocationToError: function(error) {","      if (error && self.getUri()) {","        var ref = path.relative(process.cwd(), self.getUri()) + ':' + self.getLine() + ' ';","        if (error instanceof Error) {","          error.message = ref + error.message;","        } else {","          error = ref + error;","        }","      }","      return error;","    },","  };","  return self;","}","","Listener.EVENT_HANDLER_NAME_PREFIX = 'handle';","Listener.EVENT_HANDLER_NAME_SUFFIX = 'Event';","Listener.Formatter                 = require('./listener/formatter');","Listener.PrettyFormatter           = require('./listener/pretty_formatter');","Listener.ProgressFormatter         = require('./listener/progress_formatter');","Listener.JsonFormatter             = require('./listener/json_formatter');","Listener.RerunFormatter            = require('./listener/rerun_formatter');","Listener.SnippetsFormatter         = require('./listener/snippets_formatter');","Listener.SummaryFormatter          = require('./listener/summary_formatter');","","module.exports             = Listener;",""],"l":{"1":1,"3":1,"4":0,"6":0,"7":0,"10":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"20":0,"25":0,"26":0,"30":0,"34":0,"35":0,"39":0,"43":0,"44":0,"48":0,"52":0,"56":0,"60":0,"61":0,"62":0,"63":0,"65":0,"68":0,"71":0,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"84":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/formatter.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/formatter.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"Formatter","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}}},"2":{"name":"log","line":11,"loc":{"start":{"line":11,"column":13},"end":{"line":11,"column":34}}},"3":{"name":"finish","line":19,"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":42}}},"4":{"name":"getLogs","line":26,"loc":{"start":{"line":26,"column":17},"end":{"line":26,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":31,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":4,"column":2},"end":{"line":5,"column":17}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":17}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":16}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":40}},"7":{"start":{"line":11,"column":2},"end":{"line":17,"column":4}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":19}},"9":{"start":{"line":13,"column":4},"end":{"line":14,"column":35}},"10":{"start":{"line":14,"column":6},"end":{"line":14,"column":35}},"11":{"start":{"line":15,"column":4},"end":{"line":16,"column":36}},"12":{"start":{"line":16,"column":6},"end":{"line":16,"column":36}},"13":{"start":{"line":19,"column":2},"end":{"line":24,"column":4}},"14":{"start":{"line":20,"column":4},"end":{"line":23,"column":17}},"15":{"start":{"line":21,"column":6},"end":{"line":21,"column":35}},"16":{"start":{"line":23,"column":6},"end":{"line":23,"column":17}},"17":{"start":{"line":26,"column":2},"end":{"line":28,"column":4}},"18":{"start":{"line":27,"column":4},"end":{"line":27,"column":16}},"19":{"start":{"line":30,"column":2},"end":{"line":30,"column":14}},"20":{"start":{"line":33,"column":0},"end":{"line":33,"column":27}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":2},"end":{"line":4,"column":2}},{"start":{"line":4,"column":2},"end":{"line":4,"column":2}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"3":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]},"4":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":20,"column":4}},{"start":{"line":20,"column":4},"end":{"line":20,"column":4}}]},"5":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":8},"end":{"line":20,"column":22}},{"start":{"line":20,"column":26},"end":{"line":20,"column":59}}]}},"code":["function Formatter(options) {","  var Cucumber = require('../../cucumber');","","  if (!options)","    options = {};","","  var logs = '';","","  var self = Cucumber.Listener(options);","","  self.log = function log(string) {","    logs += string;","    if (options.stream)","      options.stream.write(string);","    if (typeof(options.logToFunction) === 'function')","      options.logToFunction(string);","  };","","  self.finish = function finish(callback) {","    if (options.stream && options.stream !== process.stdout)","      options.stream.end(callback);","    else","      callback();","  };","","  self.getLogs = function getLogs() {","    return logs;","  };","","  return self;","}","","module.exports = Formatter;",""],"l":{"1":1,"2":0,"4":0,"5":0,"7":0,"9":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"19":0,"20":0,"21":0,"23":0,"26":0,"27":0,"30":0,"33":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/pretty_formatter.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/pretty_formatter.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},"fnMap":{"1":{"name":"PrettyFormatter","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}}},"2":{"name":"hear","line":13,"loc":{"start":{"line":13,"column":14},"end":{"line":13,"column":61}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":49},"end":{"line":14,"column":61}}},"4":{"name":"handleBeforeFeatureEvent","line":27,"loc":{"start":{"line":27,"column":34},"end":{"line":27,"column":77}}},"5":{"name":"handleBeforeScenarioEvent","line":48,"loc":{"start":{"line":48,"column":35},"end":{"line":48,"column":80}}},"6":{"name":"handleAfterScenarioEvent","line":63,"loc":{"start":{"line":63,"column":34},"end":{"line":63,"column":70}}},"7":{"name":"applyColor","line":67,"loc":{"start":{"line":67,"column":20},"end":{"line":67,"column":61}}},"8":{"name":"getSymbol","line":72,"loc":{"start":{"line":72,"column":19},"end":{"line":72,"column":51}}},"9":{"name":"handleStepResultEvent","line":77,"loc":{"start":{"line":77,"column":31},"end":{"line":77,"column":74}}},"10":{"name":"formatTags","line":84,"loc":{"start":{"line":84,"column":20},"end":{"line":84,"column":46}}},"11":{"name":"(anonymous_11)","line":89,"loc":{"start":{"line":89,"column":28},"end":{"line":89,"column":43}}},"12":{"name":"logStepResult","line":96,"loc":{"start":{"line":96,"column":23},"end":{"line":96,"column":64}}},"13":{"name":"(anonymous_13)","line":103,"loc":{"start":{"line":103,"column":32},"end":{"line":103,"column":47}}},"14":{"name":"handleAfterFeaturesEvent","line":119,"loc":{"start":{"line":119,"column":34},"end":{"line":119,"column":88}}},"15":{"name":"formatDataTable","line":125,"loc":{"start":{"line":125,"column":25},"end":{"line":125,"column":73}}},"16":{"name":"(anonymous_16)","line":126,"loc":{"start":{"line":126,"column":35},"end":{"line":126,"column":50}}},"17":{"name":"(anonymous_17)","line":127,"loc":{"start":{"line":127,"column":21},"end":{"line":127,"column":37}}},"18":{"name":"(anonymous_18)","line":135,"loc":{"start":{"line":135,"column":17},"end":{"line":135,"column":32}}},"19":{"name":"(anonymous_19)","line":137,"loc":{"start":{"line":137,"column":18},"end":{"line":137,"column":47}}},"20":{"name":"formatDocString","line":146,"loc":{"start":{"line":146,"column":25},"end":{"line":146,"column":73}}},"21":{"name":"logIndented","line":151,"loc":{"start":{"line":151,"column":21},"end":{"line":151,"column":55}}},"22":{"name":"indent","line":156,"loc":{"start":{"line":156,"column":16},"end":{"line":156,"column":45}}},"23":{"name":"(anonymous_23)","line":158,"loc":{"start":{"line":158,"column":29},"end":{"line":158,"column":45}}},"24":{"name":"_determineColumnWidthsFromRows","line":166,"loc":{"start":{"line":166,"column":40},"end":{"line":166,"column":86}}},"25":{"name":"(anonymous_25)","line":170,"loc":{"start":{"line":170,"column":17},"end":{"line":170,"column":34}}},"26":{"name":"(anonymous_26)","line":172,"loc":{"start":{"line":172,"column":20},"end":{"line":172,"column":36}}},"27":{"name":"_pad","line":184,"loc":{"start":{"line":184,"column":14},"end":{"line":184,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":193,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":51}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":44}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":65}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":62}},"6":{"start":{"line":7,"column":2},"end":{"line":10,"column":5}},"7":{"start":{"line":12,"column":2},"end":{"line":12,"column":29}},"8":{"start":{"line":13,"column":2},"end":{"line":17,"column":4}},"9":{"start":{"line":14,"column":4},"end":{"line":16,"column":7}},"10":{"start":{"line":15,"column":6},"end":{"line":15,"column":50}},"11":{"start":{"line":19,"column":2},"end":{"line":19,"column":22}},"12":{"start":{"line":20,"column":2},"end":{"line":20,"column":56}},"13":{"start":{"line":21,"column":2},"end":{"line":21,"column":53}},"14":{"start":{"line":22,"column":2},"end":{"line":22,"column":52}},"15":{"start":{"line":23,"column":2},"end":{"line":23,"column":44}},"16":{"start":{"line":24,"column":2},"end":{"line":24,"column":44}},"17":{"start":{"line":25,"column":2},"end":{"line":25,"column":46}},"18":{"start":{"line":27,"column":2},"end":{"line":46,"column":4}},"19":{"start":{"line":28,"column":4},"end":{"line":28,"column":20}},"20":{"start":{"line":30,"column":4},"end":{"line":30,"column":56}},"21":{"start":{"line":31,"column":4},"end":{"line":33,"column":5}},"22":{"start":{"line":32,"column":6},"end":{"line":32,"column":33}},"23":{"start":{"line":35,"column":4},"end":{"line":35,"column":69}},"24":{"start":{"line":36,"column":4},"end":{"line":36,"column":25}},"25":{"start":{"line":38,"column":4},"end":{"line":38,"column":47}},"26":{"start":{"line":39,"column":4},"end":{"line":41,"column":5}},"27":{"start":{"line":40,"column":6},"end":{"line":40,"column":53}},"28":{"start":{"line":43,"column":4},"end":{"line":43,"column":21}},"29":{"start":{"line":45,"column":4},"end":{"line":45,"column":21}},"30":{"start":{"line":48,"column":2},"end":{"line":61,"column":4}},"31":{"start":{"line":49,"column":4},"end":{"line":49,"column":20}},"32":{"start":{"line":51,"column":4},"end":{"line":51,"column":57}},"33":{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},"34":{"start":{"line":53,"column":6},"end":{"line":53,"column":33}},"35":{"start":{"line":56,"column":4},"end":{"line":56,"column":71}},"36":{"start":{"line":57,"column":4},"end":{"line":57,"column":25}},"37":{"start":{"line":59,"column":4},"end":{"line":59,"column":32}},"38":{"start":{"line":60,"column":4},"end":{"line":60,"column":19}},"39":{"start":{"line":63,"column":2},"end":{"line":65,"column":4}},"40":{"start":{"line":64,"column":4},"end":{"line":64,"column":19}},"41":{"start":{"line":67,"column":2},"end":{"line":70,"column":4}},"42":{"start":{"line":68,"column":4},"end":{"line":68,"column":40}},"43":{"start":{"line":69,"column":4},"end":{"line":69,"column":34}},"44":{"start":{"line":72,"column":2},"end":{"line":75,"column":4}},"45":{"start":{"line":73,"column":4},"end":{"line":73,"column":40}},"46":{"start":{"line":74,"column":4},"end":{"line":74,"column":30}},"47":{"start":{"line":77,"column":2},"end":{"line":82,"column":4}},"48":{"start":{"line":78,"column":4},"end":{"line":78,"column":36}},"49":{"start":{"line":79,"column":4},"end":{"line":81,"column":5}},"50":{"start":{"line":80,"column":6},"end":{"line":80,"column":43}},"51":{"start":{"line":84,"column":2},"end":{"line":94,"column":4}},"52":{"start":{"line":85,"column":4},"end":{"line":87,"column":5}},"53":{"start":{"line":86,"column":6},"end":{"line":86,"column":16}},"54":{"start":{"line":89,"column":4},"end":{"line":91,"column":7}},"55":{"start":{"line":90,"column":6},"end":{"line":90,"column":27}},"56":{"start":{"line":93,"column":4},"end":{"line":93,"column":42}},"57":{"start":{"line":96,"column":2},"end":{"line":117,"column":4}},"58":{"start":{"line":97,"column":4},"end":{"line":97,"column":44}},"59":{"start":{"line":98,"column":4},"end":{"line":98,"column":79}},"60":{"start":{"line":99,"column":4},"end":{"line":99,"column":57}},"61":{"start":{"line":100,"column":4},"end":{"line":100,"column":36}},"62":{"start":{"line":101,"column":4},"end":{"line":101,"column":19}},"63":{"start":{"line":103,"column":4},"end":{"line":116,"column":7}},"64":{"start":{"line":104,"column":6},"end":{"line":104,"column":14}},"65":{"start":{"line":105,"column":6},"end":{"line":114,"column":7}},"66":{"start":{"line":107,"column":10},"end":{"line":107,"column":54}},"67":{"start":{"line":108,"column":10},"end":{"line":108,"column":16}},"68":{"start":{"line":110,"column":10},"end":{"line":110,"column":54}},"69":{"start":{"line":111,"column":10},"end":{"line":111,"column":16}},"70":{"start":{"line":113,"column":10},"end":{"line":113,"column":69}},"71":{"start":{"line":115,"column":6},"end":{"line":115,"column":31}},"72":{"start":{"line":119,"column":2},"end":{"line":123,"column":4}},"73":{"start":{"line":120,"column":4},"end":{"line":120,"column":49}},"74":{"start":{"line":121,"column":4},"end":{"line":121,"column":26}},"75":{"start":{"line":122,"column":4},"end":{"line":122,"column":26}},"76":{"start":{"line":125,"column":2},"end":{"line":144,"column":4}},"77":{"start":{"line":126,"column":4},"end":{"line":132,"column":7}},"78":{"start":{"line":127,"column":6},"end":{"line":131,"column":9}},"79":{"start":{"line":128,"column":8},"end":{"line":130,"column":33}},"80":{"start":{"line":133,"column":4},"end":{"line":133,"column":65}},"81":{"start":{"line":134,"column":4},"end":{"line":134,"column":20}},"82":{"start":{"line":135,"column":4},"end":{"line":142,"column":7}},"83":{"start":{"line":136,"column":6},"end":{"line":136,"column":20}},"84":{"start":{"line":137,"column":6},"end":{"line":140,"column":9}},"85":{"start":{"line":138,"column":8},"end":{"line":138,"column":52}},"86":{"start":{"line":139,"column":8},"end":{"line":139,"column":89}},"87":{"start":{"line":141,"column":6},"end":{"line":141,"column":21}},"88":{"start":{"line":143,"column":4},"end":{"line":143,"column":18}},"89":{"start":{"line":146,"column":2},"end":{"line":149,"column":4}},"90":{"start":{"line":147,"column":4},"end":{"line":147,"column":62}},"91":{"start":{"line":148,"column":4},"end":{"line":148,"column":56}},"92":{"start":{"line":151,"column":2},"end":{"line":154,"column":4}},"93":{"start":{"line":152,"column":4},"end":{"line":152,"column":44}},"94":{"start":{"line":153,"column":4},"end":{"line":153,"column":23}},"95":{"start":{"line":156,"column":2},"end":{"line":164,"column":4}},"96":{"start":{"line":157,"column":4},"end":{"line":157,"column":17}},"97":{"start":{"line":158,"column":4},"end":{"line":162,"column":7}},"98":{"start":{"line":159,"column":6},"end":{"line":159,"column":51}},"99":{"start":{"line":160,"column":6},"end":{"line":160,"column":49}},"100":{"start":{"line":161,"column":6},"end":{"line":161,"column":84}},"101":{"start":{"line":163,"column":4},"end":{"line":163,"column":20}},"102":{"start":{"line":166,"column":2},"end":{"line":182,"column":4}},"103":{"start":{"line":167,"column":4},"end":{"line":167,"column":26}},"104":{"start":{"line":168,"column":4},"end":{"line":168,"column":22}},"105":{"start":{"line":170,"column":4},"end":{"line":179,"column":7}},"106":{"start":{"line":171,"column":6},"end":{"line":171,"column":24}},"107":{"start":{"line":172,"column":6},"end":{"line":178,"column":9}},"108":{"start":{"line":173,"column":8},"end":{"line":173,"column":61}},"109":{"start":{"line":174,"column":8},"end":{"line":174,"column":45}},"110":{"start":{"line":175,"column":8},"end":{"line":176,"column":57}},"111":{"start":{"line":176,"column":10},"end":{"line":176,"column":57}},"112":{"start":{"line":177,"column":8},"end":{"line":177,"column":27}},"113":{"start":{"line":181,"column":4},"end":{"line":181,"column":24}},"114":{"start":{"line":184,"column":2},"end":{"line":190,"column":4}},"115":{"start":{"line":185,"column":4},"end":{"line":185,"column":27}},"116":{"start":{"line":186,"column":4},"end":{"line":188,"column":5}},"117":{"start":{"line":187,"column":6},"end":{"line":187,"column":20}},"118":{"start":{"line":189,"column":4},"end":{"line":189,"column":18}},"119":{"start":{"line":192,"column":2},"end":{"line":192,"column":14}},"120":{"start":{"line":195,"column":0},"end":{"line":195,"column":33}}},"branchMap":{"1":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"2":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":39,"column":4}},{"start":{"line":39,"column":4},"end":{"line":39,"column":4}}]},"3":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":4}},{"start":{"line":52,"column":4},"end":{"line":52,"column":4}}]},"4":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":4},"end":{"line":79,"column":4}},{"start":{"line":79,"column":4},"end":{"line":79,"column":4}}]},"5":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":4},"end":{"line":85,"column":4}},{"start":{"line":85,"column":4},"end":{"line":85,"column":4}}]},"6":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":57},"end":{"line":98,"column":71}},{"start":{"line":98,"column":75},"end":{"line":98,"column":77}}]},"7":{"line":105,"type":"switch","locations":[{"start":{"line":106,"column":8},"end":{"line":108,"column":16}},{"start":{"line":109,"column":8},"end":{"line":111,"column":16}},{"start":{"line":112,"column":8},"end":{"line":113,"column":69}}]},"8":{"line":161,"type":"cond-expr","locations":[{"start":{"line":161,"column":53},"end":{"line":161,"column":57}},{"start":{"line":161,"column":60},"end":{"line":161,"column":82}}]},"9":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":8},"end":{"line":175,"column":8}},{"start":{"line":175,"column":8},"end":{"line":175,"column":8}}]},"10":{"line":175,"type":"binary-expr","locations":[{"start":{"line":175,"column":12},"end":{"line":175,"column":53}},{"start":{"line":175,"column":57},"end":{"line":175,"column":94}}]}},"code":["function PrettyFormatter(options) {","  var Cucumber         = require('../../cucumber');","  var figures          = require('figures');","","  var colors           = Cucumber.Util.Colors(options.useColors);","  var self             = Cucumber.Listener.Formatter(options);","  var summaryFormatter = Cucumber.Listener.SummaryFormatter({","    snippetSyntax: options.snippetSyntax,","    useColors: options.useColors","  });","","  var parentHear = self.hear;","  self.hear = function hear(event, defaultTimeout, callback) {","    summaryFormatter.hear(event, defaultTimeout, function () {","      parentHear(event, defaultTimeout, callback);","    });","  };","","  var characters = {};","  characters[Cucumber.Status.AMBIGUOUS] = figures.cross;","  characters[Cucumber.Status.FAILED] = figures.cross;","  characters[Cucumber.Status.PASSED] = figures.tick;","  characters[Cucumber.Status.PENDING] = '?';","  characters[Cucumber.Status.SKIPPED] = '-';","  characters[Cucumber.Status.UNDEFINED] = '?';","","  self.handleBeforeFeatureEvent = function handleBeforeFeatureEvent(feature) {","    var source = '';","","    var tagsSource = self.formatTags(feature.getTags());","    if (tagsSource) {","      source = tagsSource + '\\n';","    }","","    var identifier = feature.getKeyword() + ': ' + feature.getName();","    source += identifier;","","    var description = feature.getDescription();","    if (description) {","      source += '\\n\\n' + self.indent(description, 1);","    }","","    source += '\\n\\n';","","    self.log(source);","  };","","  self.handleBeforeScenarioEvent = function handleBeforeScenarioEvent(scenario) {","    var source = '';","","    var tagsSource = self.formatTags(scenario.getTags());","    if (tagsSource) {","      source = tagsSource + '\\n';","    }","","    var identifier = scenario.getKeyword() + ': ' + scenario.getName();","    source += identifier;","","    self.logIndented(source, 1);","    self.log('\\n');","  };","","  self.handleAfterScenarioEvent = function handleAfterScenarioEvent() {","    self.log('\\n');","  };","","  self.applyColor = function applyColor (stepResult, source) {","    var status = stepResult.getStatus();","    return colors[status](source);","  };","","  self.getSymbol = function getSymbol (stepResult) {","    var status = stepResult.getStatus();","    return characters[status];","  };","","  self.handleStepResultEvent = function handleStepResultEvent(stepResult) {","    var step = stepResult.getStep();","    if (!step.isHidden()) {","      self.logStepResult(step, stepResult);","    }","  };","","  self.formatTags = function formatTags(tags) {","    if (tags.length === 0) {","      return '';","    }","","    var tagNames = tags.map(function (tag) {","      return tag.getName();","    });","","    return colors.tag(tagNames.join(' '));","  };","","  self.logStepResult = function logStepResult(step, stepResult) {","    var symbol = self.getSymbol(stepResult);","    var identifier = symbol + ' ' + step.getKeyword() + (step.getName() || '');","    identifier = self.applyColor(stepResult, identifier);","    self.logIndented(identifier, 1);","    self.log('\\n');","","    step.getArguments().forEach(function (arg) {","      var str;","      switch(arg.getType()) {","        case 'DataTable':","          str = self.formatDataTable(stepResult, arg);","          break;","        case 'DocString':","          str = self.formatDocString(stepResult, arg);","          break;","        default:","          throw new Error('Unknown argument type: ' + arg.getType());","      }","      self.logIndented(str, 3);","    });","  };","","  self.handleAfterFeaturesEvent = function handleAfterFeaturesEvent(features, callback) {","    var summaryLogs = summaryFormatter.getLogs();","    self.log(summaryLogs);","    self.finish(callback);","  };","","  self.formatDataTable = function formatDataTable(stepResult, dataTable) {","    var rows = dataTable.raw().map(function (row) {","      return row.map(function (cell) {","        return cell","          .replace(/\\\\/g, '\\\\\\\\')","          .replace(/\\n/g, '\\\\n');","      });","    });","    var columnWidths = self._determineColumnWidthsFromRows(rows);","    var source = '';","    rows.forEach(function (row) {","      source += '|';","      row.forEach(function (cell, columnIndex) {","        var columnWidth = columnWidths[columnIndex];","        source += ' ' + self.applyColor(stepResult, self._pad(cell, columnWidth)) + ' |';","      });","      source += '\\n';","    });","    return source;","  };","","  self.formatDocString = function formatDocString(stepResult, docString) {","    var contents = '\"\"\"\\n' + docString.getContent() + '\\n\"\"\"';","    return self.applyColor(stepResult, contents) + '\\n';","  };","","  self.logIndented = function logIndented(text, level) {","    var indented = self.indent(text, level);","    self.log(indented);","  };","","  self.indent = function indent(text, level) {","    var indented;","    text.split('\\n').forEach(function (line) {","      var prefix = new Array(level + 1).join('  ');","      line = (prefix + line).replace(/\\s+$/, '');","      indented = (typeof(indented) === 'undefined' ? line : indented + '\\n' + line);","    });","    return indented;","  };","","  self._determineColumnWidthsFromRows = function _determineColumnWidthsFromRows(rows) {","    var columnWidths = [];","    var currentColumn;","","    rows.forEach(function (cells) {","      currentColumn = 0;","      cells.forEach(function (cell) {","        var currentColumnWidth = columnWidths[currentColumn];","        var currentCellWidth   = cell.length;","        if (typeof currentColumnWidth === 'undefined' || currentColumnWidth < currentCellWidth)","          columnWidths[currentColumn] = currentCellWidth;","        currentColumn += 1;","      });","    });","","    return columnWidths;","  };","","  self._pad = function _pad(text, width) {","    var padded = '' + text;","    while (padded.length < width) {","      padded += ' ';","    }","    return padded;","  };","","  return self;","}","","module.exports = PrettyFormatter;",""],"l":{"1":1,"2":0,"3":0,"5":0,"6":0,"7":0,"12":0,"13":0,"14":0,"15":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"27":0,"28":0,"30":0,"31":0,"32":0,"35":0,"36":0,"38":0,"39":0,"40":0,"43":0,"45":0,"48":0,"49":0,"51":0,"52":0,"53":0,"56":0,"57":0,"59":0,"60":0,"63":0,"64":0,"67":0,"68":0,"69":0,"72":0,"73":0,"74":0,"77":0,"78":0,"79":0,"80":0,"84":0,"85":0,"86":0,"89":0,"90":0,"93":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"103":0,"104":0,"105":0,"107":0,"108":0,"110":0,"111":0,"113":0,"115":0,"119":0,"120":0,"121":0,"122":0,"125":0,"126":0,"127":0,"128":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"141":0,"143":0,"146":0,"147":0,"148":0,"151":0,"152":0,"153":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"163":0,"166":0,"167":0,"168":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"181":0,"184":0,"185":0,"186":0,"187":0,"189":0,"192":0,"195":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/progress_formatter.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/progress_formatter.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"ProgressFormatter","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}}},"2":{"name":"hear","line":16,"loc":{"start":{"line":16,"column":14},"end":{"line":16,"column":61}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":49},"end":{"line":17,"column":61}}},"4":{"name":"handleStepResult","line":30,"loc":{"start":{"line":30,"column":31},"end":{"line":30,"column":69}}},"5":{"name":"handleAfterFeaturesEvent","line":39,"loc":{"start":{"line":39,"column":34},"end":{"line":39,"column":88}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":47,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":4,"column":2},"end":{"line":5,"column":17}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":17}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":55}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":62}},"7":{"start":{"line":10,"column":2},"end":{"line":13,"column":5}},"8":{"start":{"line":15,"column":2},"end":{"line":15,"column":29}},"9":{"start":{"line":16,"column":2},"end":{"line":20,"column":4}},"10":{"start":{"line":17,"column":4},"end":{"line":19,"column":7}},"11":{"start":{"line":18,"column":6},"end":{"line":18,"column":50}},"12":{"start":{"line":22,"column":2},"end":{"line":22,"column":22}},"13":{"start":{"line":23,"column":2},"end":{"line":23,"column":46}},"14":{"start":{"line":24,"column":2},"end":{"line":24,"column":43}},"15":{"start":{"line":25,"column":2},"end":{"line":25,"column":43}},"16":{"start":{"line":26,"column":2},"end":{"line":26,"column":44}},"17":{"start":{"line":27,"column":2},"end":{"line":27,"column":44}},"18":{"start":{"line":28,"column":2},"end":{"line":28,"column":46}},"19":{"start":{"line":30,"column":2},"end":{"line":37,"column":4}},"20":{"start":{"line":31,"column":4},"end":{"line":31,"column":40}},"21":{"start":{"line":32,"column":4},"end":{"line":32,"column":36}},"22":{"start":{"line":33,"column":4},"end":{"line":36,"column":5}},"23":{"start":{"line":34,"column":6},"end":{"line":34,"column":57}},"24":{"start":{"line":35,"column":6},"end":{"line":35,"column":26}},"25":{"start":{"line":39,"column":2},"end":{"line":44,"column":4}},"26":{"start":{"line":40,"column":4},"end":{"line":40,"column":49}},"27":{"start":{"line":41,"column":4},"end":{"line":41,"column":21}},"28":{"start":{"line":42,"column":4},"end":{"line":42,"column":26}},"29":{"start":{"line":43,"column":4},"end":{"line":43,"column":26}},"30":{"start":{"line":46,"column":2},"end":{"line":46,"column":14}},"31":{"start":{"line":49,"column":0},"end":{"line":49,"column":35}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":2},"end":{"line":4,"column":2}},{"start":{"line":4,"column":2},"end":{"line":4,"column":2}}]},"2":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":33,"column":4}},{"start":{"line":33,"column":4},"end":{"line":33,"column":4}}]},"3":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":8},"end":{"line":33,"column":24}},{"start":{"line":33,"column":28},"end":{"line":33,"column":61}}]}},"code":["function ProgressFormatter(options) {","  var Cucumber = require('../../cucumber');","","  if (!options)","    options = {};","","  var colors = Cucumber.Util.Colors(options.useColors);","","  var self             = Cucumber.Listener.Formatter(options);","  var summaryFormatter = Cucumber.Listener.SummaryFormatter({","    snippetSyntax: options.snippetSyntax,","    useColors: options.useColors","  });","","  var parentHear = self.hear;","  self.hear = function hear(event, defaultTimeout, callback) {","    summaryFormatter.hear(event, defaultTimeout, function () {","      parentHear(event, defaultTimeout, callback);","    });","  };","","  var characters = {};","  characters[Cucumber.Status.AMBIGUOUS] = 'A';","  characters[Cucumber.Status.FAILED] = 'F';","  characters[Cucumber.Status.PASSED] = '.';","  characters[Cucumber.Status.PENDING] = 'P';","  characters[Cucumber.Status.SKIPPED] = '-';","  characters[Cucumber.Status.UNDEFINED] = 'U';","","  self.handleStepResultEvent = function handleStepResult(stepResult) {","    var status = stepResult.getStatus();","    var step = stepResult.getStep();","    if (!step.isHidden() || status === Cucumber.Status.FAILED) {","      var character = colors[status](characters[status]);","      self.log(character);","    }","  };","","  self.handleAfterFeaturesEvent = function handleAfterFeaturesEvent(features, callback) {","    var summaryLogs = summaryFormatter.getLogs();","    self.log('\\n\\n');","    self.log(summaryLogs);","    self.finish(callback);","  };","","  return self;","}","","module.exports = ProgressFormatter;",""],"l":{"1":1,"2":0,"4":0,"5":0,"7":0,"9":0,"10":0,"15":0,"16":0,"17":0,"18":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"39":0,"40":0,"41":0,"42":0,"43":0,"46":0,"49":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/json_formatter.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/json_formatter.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1},"b":{"1":[0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"JsonFormatter","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}}},"2":{"name":"formatTag","line":11,"loc":{"start":{"line":11,"column":18},"end":{"line":11,"column":42}}},"3":{"name":"handleBeforeFeatureEvent","line":18,"loc":{"start":{"line":18,"column":34},"end":{"line":18,"column":77}}},"4":{"name":"handleBeforeScenarioEvent","line":32,"loc":{"start":{"line":32,"column":35},"end":{"line":32,"column":80}}},"5":{"name":"handleStepResultEvent","line":46,"loc":{"start":{"line":46,"column":31},"end":{"line":46,"column":74}}},"6":{"name":"(anonymous_6)","line":51,"loc":{"start":{"line":51,"column":41},"end":{"line":51,"column":55}}},"7":{"name":"(anonymous_7)","line":55,"loc":{"start":{"line":55,"column":34},"end":{"line":55,"column":49}}},"8":{"name":"(anonymous_8)","line":87,"loc":{"start":{"line":87,"column":63},"end":{"line":87,"column":85}}},"9":{"name":"handleAfterFeaturesEvent","line":115,"loc":{"start":{"line":115,"column":34},"end":{"line":115,"column":85}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":121,"column":1}},"2":{"start":{"line":3,"column":2},"end":{"line":3,"column":43}},"3":{"start":{"line":5,"column":2},"end":{"line":5,"column":50}},"4":{"start":{"line":7,"column":2},"end":{"line":7,"column":20}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":21}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":22}},"7":{"start":{"line":11,"column":2},"end":{"line":16,"column":4}},"8":{"start":{"line":12,"column":4},"end":{"line":15,"column":6}},"9":{"start":{"line":18,"column":2},"end":{"line":30,"column":4}},"10":{"start":{"line":19,"column":4},"end":{"line":28,"column":6}},"11":{"start":{"line":29,"column":4},"end":{"line":29,"column":34}},"12":{"start":{"line":32,"column":2},"end":{"line":44,"column":4}},"13":{"start":{"line":33,"column":4},"end":{"line":42,"column":6}},"14":{"start":{"line":43,"column":4},"end":{"line":43,"column":50}},"15":{"start":{"line":46,"column":2},"end":{"line":113,"column":4}},"16":{"start":{"line":47,"column":4},"end":{"line":47,"column":36}},"17":{"start":{"line":48,"column":4},"end":{"line":48,"column":40}},"18":{"start":{"line":50,"column":4},"end":{"line":74,"column":6}},"19":{"start":{"line":52,"column":8},"end":{"line":67,"column":9}},"20":{"start":{"line":54,"column":12},"end":{"line":58,"column":14}},"21":{"start":{"line":56,"column":16},"end":{"line":56,"column":38}},"22":{"start":{"line":60,"column":12},"end":{"line":64,"column":14}},"23":{"start":{"line":66,"column":12},"end":{"line":66,"column":70}},"24":{"start":{"line":76,"column":4},"end":{"line":80,"column":5}},"25":{"start":{"line":77,"column":6},"end":{"line":77,"column":32}},"26":{"start":{"line":79,"column":6},"end":{"line":79,"column":40}},"27":{"start":{"line":82,"column":4},"end":{"line":84,"column":5}},"28":{"start":{"line":83,"column":6},"end":{"line":83,"column":61}},"29":{"start":{"line":86,"column":4},"end":{"line":97,"column":5}},"30":{"start":{"line":87,"column":6},"end":{"line":96,"column":9}},"31":{"start":{"line":88,"column":8},"end":{"line":88,"column":40}},"32":{"start":{"line":89,"column":8},"end":{"line":91,"column":9}},"33":{"start":{"line":90,"column":10},"end":{"line":90,"column":34}},"34":{"start":{"line":92,"column":8},"end":{"line":95,"column":10}},"35":{"start":{"line":99,"column":4},"end":{"line":104,"column":5}},"36":{"start":{"line":100,"column":6},"end":{"line":100,"column":60}},"37":{"start":{"line":101,"column":6},"end":{"line":103,"column":7}},"38":{"start":{"line":102,"column":8},"end":{"line":102,"column":84}},"39":{"start":{"line":106,"column":4},"end":{"line":106,"column":56}},"40":{"start":{"line":107,"column":4},"end":{"line":110,"column":5}},"41":{"start":{"line":108,"column":6},"end":{"line":108,"column":78}},"42":{"start":{"line":109,"column":6},"end":{"line":109,"column":47}},"43":{"start":{"line":112,"column":4},"end":{"line":112,"column":44}},"44":{"start":{"line":115,"column":2},"end":{"line":118,"column":4}},"45":{"start":{"line":116,"column":4},"end":{"line":116,"column":48}},"46":{"start":{"line":117,"column":4},"end":{"line":117,"column":26}},"47":{"start":{"line":120,"column":2},"end":{"line":120,"column":14}},"48":{"start":{"line":123,"column":0},"end":{"line":123,"column":31}}},"branchMap":{"1":{"line":52,"type":"switch","locations":[{"start":{"line":53,"column":10},"end":{"line":58,"column":14}},{"start":{"line":59,"column":10},"end":{"line":64,"column":14}},{"start":{"line":65,"column":10},"end":{"line":66,"column":70}}]},"2":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":4},"end":{"line":76,"column":4}},{"start":{"line":76,"column":4},"end":{"line":76,"column":4}}]},"3":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":4},"end":{"line":82,"column":4}},{"start":{"line":82,"column":4},"end":{"line":82,"column":4}}]},"4":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":41}},{"start":{"line":82,"column":45},"end":{"line":82,"column":78}}]},"5":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":4}},{"start":{"line":86,"column":4},"end":{"line":86,"column":4}}]},"6":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":8},"end":{"line":89,"column":8}},{"start":{"line":89,"column":8},"end":{"line":89,"column":8}}]},"7":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":4}},{"start":{"line":99,"column":4},"end":{"line":99,"column":4}}]},"8":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":6},"end":{"line":101,"column":6}},{"start":{"line":101,"column":6},"end":{"line":101,"column":6}}]},"9":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":44},"end":{"line":102,"column":64}},{"start":{"line":102,"column":68},"end":{"line":102,"column":82}}]},"10":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":4},"end":{"line":107,"column":4}},{"start":{"line":107,"column":4},"end":{"line":107,"column":4}}]}},"code":["/* jshint -W106 */","function JsonFormatter(options) {","  var Cucumber = require('../../cucumber');","","  var self = Cucumber.Listener.Formatter(options);","","  var features = [];","  var currentFeature;","  var currentScenario;","","  var formatTag = function formatTag(tag) {","    return {","      name: tag.getName(),","      line: tag.getLine()","    };","  };","","  self.handleBeforeFeatureEvent = function handleBeforeFeatureEvent(feature) {","    currentFeature = {","      description: feature.getDescription(),","      elements: [],","      id: feature.getName().replace(/ /g, '-').toLowerCase(),","      keyword: feature.getKeyword(),","      line: feature.getLine(),","      name: feature.getName(),","      tags: feature.getTags().map(formatTag),","      uri: feature.getUri()","    };","    features.push(currentFeature);","  };","","  self.handleBeforeScenarioEvent = function handleBeforeScenarioEvent(scenario) {","    currentScenario = {","      description: scenario.getDescription(),","      id: currentFeature.id + ';' + scenario.getName().replace(/ /g, '-').toLowerCase(),","      keyword: 'Scenario',","      line: scenario.getLine(),","      name: scenario.getName(),","      steps: [],","      tags: scenario.getTags().map(formatTag),","      type: 'scenario'","    };","    currentFeature.elements.push(currentScenario);","  };","","  self.handleStepResultEvent = function handleStepResultEvent(stepResult) {","    var step = stepResult.getStep();","    var status = stepResult.getStatus();","","    var currentStep = {","      arguments: step.getArguments().map(function(arg) {","        switch (arg.getType()) {","          case 'DataTable':","            return {","              rows: arg.raw().map(function (row) {","                return { cells: row };","              })","            };","          case 'DocString':","            return {","              line: arg.getLine(),","              content: arg.getContent(),","              contentType: arg.getContentType()","            };","          default:","            throw new Error('Unknown argument type:' + arg.getType());","        }","      }),","      keyword: step.getKeyword(),","      name: step.getName(),","      result: {","        status: status","      }","    };","","    if (step.isHidden()) {","      currentStep.hidden = true;","    } else {","      currentStep.line = step.getLine();","    }","","    if (status === Cucumber.Status.PASSED || status === Cucumber.Status.FAILED) {","      currentStep.result.duration = stepResult.getDuration();","    }","","    if (stepResult.hasAttachments()) {","      currentStep.embeddings = stepResult.getAttachments().map(function (attachment) {","        var data = attachment.getData();","        if (!(data instanceof Buffer)) {","          data = new Buffer(data);","        }","        return {","          data: data.toString('base64'),","          mime_type: attachment.getMimeType(),","        };","      });","    }","","    if (status === Cucumber.Status.FAILED) {","      var failureMessage = stepResult.getFailureException();","      if (failureMessage) {","        currentStep.result.error_message = (failureMessage.stack || failureMessage);","      }","    }","","    var stepDefinition = stepResult.getStepDefinition();","    if (stepDefinition) {","      var location = stepDefinition.getUri() + ':' + stepDefinition.getLine();","      currentStep.match = {location: location};","    }","","    currentScenario.steps.push(currentStep);","  };","","  self.handleAfterFeaturesEvent = function handleAfterFeaturesEvent(event, callback) {","    self.log(JSON.stringify(features, null, 2));","    self.finish(callback);","  };","","  return self;","}","","module.exports = JsonFormatter;",""],"l":{"2":1,"3":0,"5":0,"7":0,"8":0,"9":0,"11":0,"12":0,"18":0,"19":0,"29":0,"32":0,"33":0,"43":0,"46":0,"47":0,"48":0,"50":0,"52":0,"54":0,"56":0,"60":0,"66":0,"76":0,"77":0,"79":0,"82":0,"83":0,"86":0,"87":0,"88":0,"89":0,"90":0,"92":0,"99":0,"100":0,"101":0,"102":0,"106":0,"107":0,"108":0,"109":0,"112":0,"115":0,"116":0,"117":0,"120":0,"123":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/rerun_formatter.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/rerun_formatter.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"RerunFormatter","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}}},"2":{"name":"handleScenarioResultEvent","line":10,"loc":{"start":{"line":10,"column":35},"end":{"line":10,"column":86}}},"3":{"name":"handleAfterFeaturesEvent","line":22,"loc":{"start":{"line":22,"column":34},"end":{"line":22,"column":88}}},"4":{"name":"(anonymous_4)","line":23,"loc":{"start":{"line":23,"column":31},"end":{"line":23,"column":52}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":31,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":29}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":28}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":50}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":20}},"7":{"start":{"line":10,"column":2},"end":{"line":20,"column":4}},"8":{"start":{"line":11,"column":4},"end":{"line":19,"column":5}},"9":{"start":{"line":12,"column":6},"end":{"line":12,"column":50}},"10":{"start":{"line":13,"column":6},"end":{"line":13,"column":64}},"11":{"start":{"line":14,"column":6},"end":{"line":14,"column":36}},"12":{"start":{"line":15,"column":6},"end":{"line":17,"column":7}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":27}},"14":{"start":{"line":18,"column":6},"end":{"line":18,"column":31}},"15":{"start":{"line":22,"column":2},"end":{"line":28,"column":4}},"16":{"start":{"line":23,"column":4},"end":{"line":25,"column":18}},"17":{"start":{"line":24,"column":6},"end":{"line":24,"column":41}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":19}},"19":{"start":{"line":27,"column":4},"end":{"line":27,"column":26}},"20":{"start":{"line":30,"column":2},"end":{"line":30,"column":14}},"21":{"start":{"line":33,"column":0},"end":{"line":33,"column":32}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"2":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":6},"end":{"line":15,"column":6}},{"start":{"line":15,"column":6},"end":{"line":15,"column":6}}]}},"code":["function RerunFormatter(options) {","  var Cucumber = require('../../cucumber');","  var path = require('path');","  var _ = require('lodash');","","  var self = Cucumber.Listener.Formatter(options);","  var failures = {};","","","  self.handleScenarioResultEvent = function handleScenarioResultEvent(scenarioResult) {","    if (scenarioResult.getStatus() !== Cucumber.Status.PASSED) {","      var scenario = scenarioResult.getScenario();","      var uri = path.relative(process.cwd(), scenario.getUri());","      var line = scenario.getLine();","      if (!failures[uri]) {","        failures[uri] = [];","      }","      failures[uri].push(line);","    }","  };","","  self.handleAfterFeaturesEvent = function handleAfterFeaturesEvent(features, callback) {","    var text = _.map(failures, function(lines, uri) {","      return uri + ':' + lines.join(':');","    }).join('\\n');","    self.log(text);","    self.finish(callback);","  };","","  return self;","}","","module.exports = RerunFormatter;",""],"l":{"1":1,"2":0,"3":0,"4":0,"6":0,"7":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"18":0,"22":0,"23":0,"24":0,"26":0,"27":0,"30":0,"33":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/snippets_formatter.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/snippets_formatter.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"SnippetsFormatter","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}}},"2":{"name":"handleStepResult","line":7,"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":69}}},"3":{"name":"handleFeaturesResultEvent","line":16,"loc":{"start":{"line":16,"column":35},"end":{"line":16,"column":96}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":22,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":50}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":20}},"5":{"start":{"line":7,"column":2},"end":{"line":14,"column":4}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":40}},"7":{"start":{"line":9,"column":4},"end":{"line":13,"column":5}},"8":{"start":{"line":10,"column":6},"end":{"line":10,"column":38}},"9":{"start":{"line":11,"column":6},"end":{"line":11,"column":106}},"10":{"start":{"line":12,"column":6},"end":{"line":12,"column":51}},"11":{"start":{"line":16,"column":2},"end":{"line":19,"column":4}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":36}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":26}},"14":{"start":{"line":21,"column":2},"end":{"line":21,"column":14}},"15":{"start":{"line":24,"column":0},"end":{"line":24,"column":35}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":4}},{"start":{"line":9,"column":4},"end":{"line":9,"column":4}}]}},"code":["function SnippetsFormatter(options) {","  var Cucumber = require('../../cucumber');","","  var self = Cucumber.Listener.Formatter(options);","  var snippets = [];","","  self.handleStepResultEvent = function handleStepResult(stepResult) {","    var status = stepResult.getStatus();","    if (status === Cucumber.Status.UNDEFINED) {","      var step = stepResult.getStep();","      var snippetBuilder = Cucumber.SupportCode.StepDefinitionSnippetBuilder(step, options.snippetSyntax);","      snippets.push(snippetBuilder.buildSnippet());","    }","  };","","  self.handleFeaturesResultEvent = function handleFeaturesResultEvent(featuresResult, callback) {","    self.log(snippets.join('\\n\\n'));","    self.finish(callback);","  };","","  return self;","}","","module.exports = SnippetsFormatter;",""],"l":{"1":1,"2":0,"4":0,"5":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"16":0,"17":0,"18":0,"21":0,"24":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/summary_formatter.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/listener/summary_formatter.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":1},"b":{"1":[0,0],"2":[0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"fnMap":{"1":{"name":"SummaryFormatter","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}}},"2":{"name":"indent","line":20,"loc":{"start":{"line":20,"column":2},"end":{"line":20,"column":31}}},"3":{"name":"(anonymous_3)","line":22,"loc":{"start":{"line":22,"column":29},"end":{"line":22,"column":45}}},"4":{"name":"handleStepResult","line":32,"loc":{"start":{"line":32,"column":31},"end":{"line":32,"column":69}}},"5":{"name":"handleFeaturesResultEvent","line":50,"loc":{"start":{"line":50,"column":35},"end":{"line":50,"column":96}}},"6":{"name":"storeAmbiguousStepResult","line":55,"loc":{"start":{"line":55,"column":34},"end":{"line":55,"column":80}}},"7":{"name":"(anonymous_7)","line":71,"loc":{"start":{"line":71,"column":48},"end":{"line":71,"column":74}}},"8":{"name":"storeFailedStepResult","line":83,"loc":{"start":{"line":83,"column":31},"end":{"line":83,"column":74}}},"9":{"name":"storeUndefinedStepResult","line":91,"loc":{"start":{"line":91,"column":34},"end":{"line":91,"column":80}}},"10":{"name":"storePendingStepResult","line":101,"loc":{"start":{"line":101,"column":32},"end":{"line":101,"column":76}}},"11":{"name":"logSummary","line":113,"loc":{"start":{"line":113,"column":20},"end":{"line":113,"column":56}}},"12":{"name":"logFailures","line":127,"loc":{"start":{"line":127,"column":21},"end":{"line":127,"column":44}}},"13":{"name":"(anonymous_13)","line":129,"loc":{"start":{"line":129,"column":21},"end":{"line":129,"column":46}}},"14":{"name":"logWarnings","line":134,"loc":{"start":{"line":134,"column":21},"end":{"line":134,"column":44}}},"15":{"name":"(anonymous_15)","line":136,"loc":{"start":{"line":136,"column":21},"end":{"line":136,"column":46}}},"16":{"name":"logIssue","line":141,"loc":{"start":{"line":141,"column":18},"end":{"line":141,"column":65}}},"17":{"name":"logScenariosSummary","line":176,"loc":{"start":{"line":176,"column":29},"end":{"line":176,"column":74}}},"18":{"name":"logStepsSummary","line":180,"loc":{"start":{"line":180,"column":25},"end":{"line":180,"column":66}}},"19":{"name":"logDuration","line":184,"loc":{"start":{"line":184,"column":21},"end":{"line":184,"column":58}}},"20":{"name":"logUndefinedStepSnippets","line":196,"loc":{"start":{"line":196,"column":34},"end":{"line":196,"column":70}}},"21":{"name":"logCountSummary","line":204,"loc":{"start":{"line":204,"column":25},"end":{"line":204,"column":65}}},"22":{"name":"(anonymous_22)","line":205,"loc":{"start":{"line":205,"column":33},"end":{"line":205,"column":54}}},"23":{"name":"(anonymous_23)","line":212,"loc":{"start":{"line":212,"column":32},"end":{"line":212,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":222,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":37}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":38}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":33}},"6":{"start":{"line":6,"column":2},"end":{"line":6,"column":35}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":20}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":20}},"9":{"start":{"line":10,"column":2},"end":{"line":10,"column":55}},"10":{"start":{"line":11,"column":2},"end":{"line":18,"column":4}},"11":{"start":{"line":20,"column":2},"end":{"line":28,"column":3}},"12":{"start":{"line":21,"column":4},"end":{"line":21,"column":17}},"13":{"start":{"line":22,"column":4},"end":{"line":26,"column":7}},"14":{"start":{"line":23,"column":6},"end":{"line":23,"column":50}},"15":{"start":{"line":24,"column":6},"end":{"line":24,"column":49}},"16":{"start":{"line":25,"column":6},"end":{"line":25,"column":84}},"17":{"start":{"line":27,"column":4},"end":{"line":27,"column":20}},"18":{"start":{"line":30,"column":2},"end":{"line":30,"column":50}},"19":{"start":{"line":32,"column":2},"end":{"line":48,"column":4}},"20":{"start":{"line":33,"column":4},"end":{"line":33,"column":40}},"21":{"start":{"line":34,"column":4},"end":{"line":47,"column":5}},"22":{"start":{"line":36,"column":8},"end":{"line":36,"column":50}},"23":{"start":{"line":37,"column":8},"end":{"line":37,"column":14}},"24":{"start":{"line":39,"column":8},"end":{"line":39,"column":47}},"25":{"start":{"line":40,"column":8},"end":{"line":40,"column":14}},"26":{"start":{"line":42,"column":8},"end":{"line":42,"column":50}},"27":{"start":{"line":43,"column":8},"end":{"line":43,"column":14}},"28":{"start":{"line":45,"column":8},"end":{"line":45,"column":48}},"29":{"start":{"line":46,"column":8},"end":{"line":46,"column":14}},"30":{"start":{"line":50,"column":2},"end":{"line":53,"column":4}},"31":{"start":{"line":51,"column":4},"end":{"line":51,"column":36}},"32":{"start":{"line":52,"column":4},"end":{"line":52,"column":26}},"33":{"start":{"line":55,"column":2},"end":{"line":81,"column":4}},"34":{"start":{"line":56,"column":4},"end":{"line":56,"column":67}},"35":{"start":{"line":58,"column":4},"end":{"line":70,"column":7}},"36":{"start":{"line":71,"column":4},"end":{"line":76,"column":8}},"37":{"start":{"line":72,"column":6},"end":{"line":72,"column":59}},"38":{"start":{"line":73,"column":6},"end":{"line":73,"column":78}},"39":{"start":{"line":74,"column":6},"end":{"line":74,"column":42}},"40":{"start":{"line":75,"column":6},"end":{"line":75,"column":49}},"41":{"start":{"line":77,"column":4},"end":{"line":80,"column":7}},"42":{"start":{"line":83,"column":2},"end":{"line":89,"column":4}},"43":{"start":{"line":84,"column":4},"end":{"line":84,"column":60}},"44":{"start":{"line":85,"column":4},"end":{"line":88,"column":7}},"45":{"start":{"line":91,"column":2},"end":{"line":99,"column":4}},"46":{"start":{"line":92,"column":4},"end":{"line":92,"column":36}},"47":{"start":{"line":93,"column":4},"end":{"line":93,"column":104}},"48":{"start":{"line":94,"column":4},"end":{"line":94,"column":48}},"49":{"start":{"line":95,"column":4},"end":{"line":98,"column":7}},"50":{"start":{"line":101,"column":2},"end":{"line":111,"column":4}},"51":{"start":{"line":102,"column":4},"end":{"line":102,"column":28}},"52":{"start":{"line":103,"column":4},"end":{"line":103,"column":54}},"53":{"start":{"line":104,"column":4},"end":{"line":106,"column":5}},"54":{"start":{"line":105,"column":6},"end":{"line":105,"column":38}},"55":{"start":{"line":107,"column":4},"end":{"line":110,"column":7}},"56":{"start":{"line":113,"column":2},"end":{"line":125,"column":4}},"57":{"start":{"line":114,"column":4},"end":{"line":116,"column":5}},"58":{"start":{"line":115,"column":6},"end":{"line":115,"column":25}},"59":{"start":{"line":118,"column":4},"end":{"line":120,"column":5}},"60":{"start":{"line":119,"column":6},"end":{"line":119,"column":25}},"61":{"start":{"line":122,"column":4},"end":{"line":122,"column":45}},"62":{"start":{"line":123,"column":4},"end":{"line":123,"column":41}},"63":{"start":{"line":124,"column":4},"end":{"line":124,"column":37}},"64":{"start":{"line":127,"column":2},"end":{"line":132,"column":4}},"65":{"start":{"line":128,"column":4},"end":{"line":128,"column":30}},"66":{"start":{"line":129,"column":4},"end":{"line":131,"column":7}},"67":{"start":{"line":130,"column":6},"end":{"line":130,"column":68}},"68":{"start":{"line":134,"column":2},"end":{"line":139,"column":4}},"69":{"start":{"line":135,"column":4},"end":{"line":135,"column":30}},"70":{"start":{"line":136,"column":4},"end":{"line":138,"column":7}},"71":{"start":{"line":137,"column":6},"end":{"line":137,"column":68}},"72":{"start":{"line":141,"column":2},"end":{"line":174,"column":4}},"73":{"start":{"line":142,"column":4},"end":{"line":142,"column":19}},"74":{"start":{"line":143,"column":4},"end":{"line":143,"column":31}},"75":{"start":{"line":144,"column":4},"end":{"line":144,"column":36}},"76":{"start":{"line":145,"column":4},"end":{"line":145,"column":38}},"77":{"start":{"line":146,"column":4},"end":{"line":146,"column":49}},"78":{"start":{"line":148,"column":4},"end":{"line":154,"column":5}},"79":{"start":{"line":149,"column":6},"end":{"line":149,"column":104}},"80":{"start":{"line":150,"column":6},"end":{"line":150,"column":116}},"81":{"start":{"line":151,"column":6},"end":{"line":151,"column":40}},"82":{"start":{"line":153,"column":6},"end":{"line":153,"column":41}},"83":{"start":{"line":156,"column":4},"end":{"line":156,"column":86}},"84":{"start":{"line":157,"column":4},"end":{"line":160,"column":5}},"85":{"start":{"line":158,"column":6},"end":{"line":158,"column":92}},"86":{"start":{"line":159,"column":6},"end":{"line":159,"column":56}},"87":{"start":{"line":161,"column":4},"end":{"line":161,"column":48}},"88":{"start":{"line":163,"column":4},"end":{"line":163,"column":55}},"89":{"start":{"line":164,"column":4},"end":{"line":168,"column":5}},"90":{"start":{"line":165,"column":6},"end":{"line":165,"column":119}},"91":{"start":{"line":166,"column":6},"end":{"line":166,"column":92}},"92":{"start":{"line":167,"column":6},"end":{"line":167,"column":60}},"93":{"start":{"line":170,"column":4},"end":{"line":170,"column":34}},"94":{"start":{"line":171,"column":4},"end":{"line":171,"column":110}},"95":{"start":{"line":173,"column":4},"end":{"line":173,"column":51}},"96":{"start":{"line":176,"column":2},"end":{"line":178,"column":4}},"97":{"start":{"line":177,"column":4},"end":{"line":177,"column":73}},"98":{"start":{"line":180,"column":2},"end":{"line":182,"column":4}},"99":{"start":{"line":181,"column":4},"end":{"line":181,"column":65}},"100":{"start":{"line":184,"column":2},"end":{"line":194,"column":4}},"101":{"start":{"line":185,"column":4},"end":{"line":185,"column":51}},"102":{"start":{"line":186,"column":4},"end":{"line":186,"column":52}},"103":{"start":{"line":187,"column":4},"end":{"line":187,"column":28}},"104":{"start":{"line":188,"column":4},"end":{"line":188,"column":37}},"105":{"start":{"line":189,"column":4},"end":{"line":189,"column":44}},"106":{"start":{"line":191,"column":4},"end":{"line":193,"column":51}},"107":{"start":{"line":196,"column":2},"end":{"line":202,"column":4}},"108":{"start":{"line":197,"column":4},"end":{"line":197,"column":66}},"109":{"start":{"line":198,"column":4},"end":{"line":201,"column":5}},"110":{"start":{"line":199,"column":6},"end":{"line":199,"column":116}},"111":{"start":{"line":200,"column":6},"end":{"line":200,"column":55}},"112":{"start":{"line":204,"column":2},"end":{"line":219,"column":4}},"113":{"start":{"line":205,"column":4},"end":{"line":207,"column":7}},"114":{"start":{"line":206,"column":6},"end":{"line":206,"column":26}},"115":{"start":{"line":209,"column":4},"end":{"line":209,"column":60}},"116":{"start":{"line":210,"column":4},"end":{"line":217,"column":5}},"117":{"start":{"line":211,"column":6},"end":{"line":211,"column":23}},"118":{"start":{"line":212,"column":6},"end":{"line":215,"column":9}},"119":{"start":{"line":213,"column":8},"end":{"line":214,"column":70}},"120":{"start":{"line":214,"column":10},"end":{"line":214,"column":70}},"121":{"start":{"line":216,"column":6},"end":{"line":216,"column":48}},"122":{"start":{"line":218,"column":4},"end":{"line":218,"column":19}},"123":{"start":{"line":221,"column":2},"end":{"line":221,"column":14}},"124":{"start":{"line":224,"column":0},"end":{"line":224,"column":34}}},"branchMap":{"1":{"line":25,"type":"cond-expr","locations":[{"start":{"line":25,"column":53},"end":{"line":25,"column":57}},{"start":{"line":25,"column":60},"end":{"line":25,"column":82}}]},"2":{"line":34,"type":"switch","locations":[{"start":{"line":35,"column":6},"end":{"line":37,"column":14}},{"start":{"line":38,"column":6},"end":{"line":40,"column":14}},{"start":{"line":41,"column":6},"end":{"line":43,"column":14}},{"start":{"line":44,"column":6},"end":{"line":46,"column":14}}]},"3":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":15},"end":{"line":87,"column":37}},{"start":{"line":87,"column":41},"end":{"line":87,"column":57}}]},"4":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":4}},{"start":{"line":104,"column":4},"end":{"line":104,"column":4}}]},"5":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":4},"end":{"line":114,"column":4}},{"start":{"line":114,"column":4},"end":{"line":114,"column":4}}]},"6":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":4},"end":{"line":118,"column":4}},{"start":{"line":118,"column":4},"end":{"line":118,"column":4}}]},"7":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":4},"end":{"line":148,"column":4}},{"start":{"line":148,"column":4},"end":{"line":148,"column":4}}]},"8":{"line":156,"type":"binary-expr","locations":[{"start":{"line":156,"column":63},"end":{"line":156,"column":77}},{"start":{"line":156,"column":81},"end":{"line":156,"column":83}}]},"9":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":4},"end":{"line":157,"column":4}},{"start":{"line":157,"column":4},"end":{"line":157,"column":4}}]},"10":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":4},"end":{"line":164,"column":4}},{"start":{"line":164,"column":4},"end":{"line":164,"column":4}}]},"11":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":4},"end":{"line":198,"column":4}},{"start":{"line":198,"column":4},"end":{"line":198,"column":4}}]},"12":{"line":209,"type":"cond-expr","locations":[{"start":{"line":209,"column":49},"end":{"line":209,"column":52}},{"start":{"line":209,"column":55},"end":{"line":209,"column":57}}]},"13":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":4},"end":{"line":210,"column":4}},{"start":{"line":210,"column":4},"end":{"line":210,"column":4}}]},"14":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":8},"end":{"line":213,"column":8}},{"start":{"line":213,"column":8},"end":{"line":213,"column":8}}]}},"code":["function SummaryFormatter(options) {","  var Cucumber = require('../../cucumber');","  var Duration = require('duration');","  var Table    = require('cli-table');","  var path     = require('path');","  var _        = require('lodash');","","  var failures = [];","  var warnings = [];","  var colors = Cucumber.Util.Colors(options.useColors);","  var statusReportOrder = [","    Cucumber.Status.FAILED,","    Cucumber.Status.AMBIGUOUS,","    Cucumber.Status.UNDEFINED,","    Cucumber.Status.PENDING,","    Cucumber.Status.SKIPPED,","    Cucumber.Status.PASSED","  ];","","  function indent(text, level) {","    var indented;","    text.split('\\n').forEach(function (line) {","      var prefix = new Array(level + 1).join(' ');","      line = (prefix + line).replace(/\\s+$/, '');","      indented = (typeof(indented) === 'undefined' ? line : indented + '\\n' + line);","    });","    return indented;","  }","","  var self = Cucumber.Listener.Formatter(options);","","  self.handleStepResultEvent = function handleStepResult(stepResult) {","    var status = stepResult.getStatus();","    switch (status) {","      case Cucumber.Status.AMBIGUOUS:","        self.storeAmbiguousStepResult(stepResult);","        break;","      case Cucumber.Status.FAILED:","        self.storeFailedStepResult(stepResult);","        break;","      case Cucumber.Status.UNDEFINED:","        self.storeUndefinedStepResult(stepResult);","        break;","      case Cucumber.Status.PENDING:","        self.storePendingStepResult(stepResult);","        break;","    }","  };","","  self.handleFeaturesResultEvent = function handleFeaturesResultEvent(featuresResult, callback) {","    self.logSummary(featuresResult);","    self.finish(callback);","  };","","  self.storeAmbiguousStepResult = function storeAmbiguousStepResult(stepResult) {","    var stepDefinitions = stepResult.getAmbiguousStepDefinitions();","","    var table = new Table({","      chars: {","        'bottom': '', 'bottom-left': '', 'bottom-mid': '', 'bottom-right': '',","        'left': '', 'left-mid': '',","        'mid': '', 'mid-mid': '',","        'middle': ' - ',","        'right': '', 'right-mid': '',","        'top': '' , 'top-left': '', 'top-mid': '', 'top-right': ''","      },","      style: {","        border: [], 'padding-left': 0, 'padding-right': 0","      }","    });","    table.push.apply(table, stepDefinitions.map(function (stepDefinition) {","      var pattern = stepDefinition.getPattern().toString();","      var relativeUri = path.relative(process.cwd(), stepDefinition.getUri());","      var line = stepDefinition.getLine();","      return [pattern, relativeUri + ':' + line];","    }));","    failures.push({","      stepResult: stepResult,","      message: 'Multiple step definitions match:' + '\\n' + indent(table.toString(), 2)","    });","  };","","  self.storeFailedStepResult = function storeFailedStepResult(stepResult) {","    var failureException = stepResult.getFailureException();","    failures.push({","      stepResult: stepResult,","      message: failureException.stack || failureException","    });","  };","","  self.storeUndefinedStepResult = function storeUndefinedStepResult(stepResult) {","    var step = stepResult.getStep();","    var snippetBuilder = Cucumber.SupportCode.StepDefinitionSnippetBuilder(step, options.snippetSyntax);","    var snippet = snippetBuilder.buildSnippet();","    warnings.push({","      stepResult: stepResult,","      message: 'Undefined. Implement with the following snippet:' + '\\n\\n' + indent(snippet, 2)","    });","  };","","  self.storePendingStepResult = function storePendingStepResult(stepResult) {","    var message = 'Pending';","    var pendingReason = stepResult.getPendingReason();","    if (pendingReason) {","      message += ': ' + pendingReason;","    }","    warnings.push({","      stepResult: stepResult,","      message: message","    });","  };","","  self.logSummary = function logSummary(featuresResult) {","    if (failures.length > 0) {","      self.logFailures();","    }","","    if (warnings.length > 0) {","      self.logWarnings();","    }","","    self.logScenariosSummary(featuresResult);","    self.logStepsSummary(featuresResult);","    self.logDuration(featuresResult);","  };","","  self.logFailures = function logFailures() {","    self.log('Failures:\\n\\n');","    failures.forEach(function(failure, index) {","      self.logIssue(index + 1, failure.stepResult, failure.message);","    });","  };","","  self.logWarnings = function logWarnings() {","    self.log('Warnings:\\n\\n');","    warnings.forEach(function(warning, index) {","      self.logIssue(index + 1, warning.stepResult, warning.message);","    });","  };","","  self.logIssue = function logIssue(number, stepResult, message) {","    var lines = [];","    var prefix = number + ') ';","    var step = stepResult.getStep();","    var scenario = step.getScenario();","    var colorFn = colors[stepResult.getStatus()];","","    if(scenario) {","      var scenarioLocation = path.relative(process.cwd(), scenario.getUri()) + ':' + scenario.getLine();","      var scenarioLine = 'Scenario: ' + colors.bold(scenario.getName()) + ' - ' + colors.location(scenarioLocation);","      lines.push(prefix + scenarioLine);","    } else {","      lines.push(prefix + 'Background:');","    }","","    var stepLine = 'Step: ' + colors.bold(step.getKeyword() + (step.getName() || ''));","    if (step.hasUri()) {","      var stepLocation = path.relative(process.cwd(), step.getUri()) + ':' + step.getLine();","      stepLine += ' - ' + colors.location(stepLocation);","    }","    lines.push(indent(stepLine, prefix.length));","","    var stepDefintion = stepResult.getStepDefinition();","    if (stepDefintion) {","      var stepDefintionLocation = path.relative(process.cwd(), stepDefintion.getUri()) + ':' + stepDefintion.getLine();","      var stepDefinitionLine = 'Step Definition: ' + colors.location(stepDefintionLocation);","      lines.push(indent(stepDefinitionLine, prefix.length));","    }","","    var header = lines.join('\\n');","    var messageText = indent('Message: ', prefix.length) + '\\n' + indent(colorFn(message), prefix.length + 2);","","    self.log(header + '\\n' + messageText + '\\n\\n');","  };","","  self.logScenariosSummary = function logScenariosSummary(featuresResult) {","    self.logCountSummary('scenario', featuresResult.getScenarioCounts());","  };","","  self.logStepsSummary = function logStepsSummary(featuresResult) {","    self.logCountSummary('step', featuresResult.getStepCounts());","  };","","  self.logDuration = function logDuration(featuresResult) {","    var nanoseconds = featuresResult.getDuration();","    var milliseconds = Math.ceil(nanoseconds / 1e6);","    var start = new Date(0);","    var end = new Date(milliseconds);","    var duration = new Duration(start, end);","","    self.log(duration.minutes + 'm' +","             duration.toString('%S') + '.' +","             duration.toString('%L') + 's' + '\\n');","  };","","  self.logUndefinedStepSnippets = function logUndefinedStepSnippets() {","    var undefinedStepLogBuffer = self.getUndefinedStepLogBuffer();","    if (options.snippets) {","      self.log(colors.pending('\\nYou can implement step definitions for undefined steps with these snippets:\\n\\n'));","      self.log(colors.pending(undefinedStepLogBuffer));","    }","  };","","  self.logCountSummary = function logCountSummary (type, counts) {","    var total = _.reduce(counts, function(memo, value){","      return memo + value;","    });","","    self.log(total + ' ' + type + (total !== 1 ? 's' : ''));","    if (total > 0) {","      var details = [];","      statusReportOrder.forEach(function (status) {","        if (counts[status] > 0)","          details.push(colors[status](counts[status] + ' ' + status));","      });","      self.log(' (' + details.join(', ') + ')');","    }","    self.log('\\n');","  };","","  return self;","}","","module.exports = SummaryFormatter;",""],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"8":0,"9":0,"10":0,"11":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"27":0,"30":0,"32":0,"33":0,"34":0,"36":0,"37":0,"39":0,"40":0,"42":0,"43":0,"45":0,"46":0,"50":0,"51":0,"52":0,"55":0,"56":0,"58":0,"71":0,"72":0,"73":0,"74":0,"75":0,"77":0,"83":0,"84":0,"85":0,"91":0,"92":0,"93":0,"94":0,"95":0,"101":0,"102":0,"103":0,"104":0,"105":0,"107":0,"113":0,"114":0,"115":0,"118":0,"119":0,"122":0,"123":0,"124":0,"127":0,"128":0,"129":0,"130":0,"134":0,"135":0,"136":0,"137":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"148":0,"149":0,"150":0,"151":0,"153":0,"156":0,"157":0,"158":0,"159":0,"161":0,"163":0,"164":0,"165":0,"166":0,"167":0,"170":0,"171":0,"173":0,"176":0,"177":0,"180":0,"181":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"191":0,"196":0,"197":0,"198":0,"199":0,"200":0,"204":0,"205":0,"206":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"216":0,"218":0,"221":0,"224":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/parser.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/parser.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":1,"28":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"Parser","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}}},"2":{"name":"parse","line":9,"loc":{"start":{"line":9,"column":11},"end":{"line":9,"column":28}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":29},"end":{"line":12,"column":54}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":24},"end":{"line":26,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":42,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":40}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":44}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":36}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":40}},"6":{"start":{"line":8,"column":2},"end":{"line":40,"column":4}},"7":{"start":{"line":10,"column":6},"end":{"line":10,"column":24}},"8":{"start":{"line":12,"column":6},"end":{"line":36,"column":9}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":78}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":81}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":28}},"12":{"start":{"line":17,"column":8},"end":{"line":22,"column":9}},"13":{"start":{"line":18,"column":10},"end":{"line":18,"column":49}},"14":{"start":{"line":20,"column":10},"end":{"line":20,"column":40}},"15":{"start":{"line":21,"column":10},"end":{"line":21,"column":18}},"16":{"start":{"line":24,"column":8},"end":{"line":24,"column":56}},"17":{"start":{"line":25,"column":8},"end":{"line":25,"column":27}},"18":{"start":{"line":26,"column":8},"end":{"line":31,"column":11}},"19":{"start":{"line":27,"column":10},"end":{"line":27,"column":64}},"20":{"start":{"line":28,"column":10},"end":{"line":30,"column":11}},"21":{"start":{"line":29,"column":12},"end":{"line":29,"column":37}},"22":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"23":{"start":{"line":34,"column":10},"end":{"line":34,"column":87}},"24":{"start":{"line":38,"column":6},"end":{"line":38,"column":22}},"25":{"start":{"line":41,"column":2},"end":{"line":41,"column":14}},"26":{"start":{"line":44,"column":0},"end":{"line":44,"column":46}},"27":{"start":{"line":45,"column":0},"end":{"line":45,"column":49}},"28":{"start":{"line":47,"column":0},"end":{"line":47,"column":24}}},"branchMap":{"1":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":10},"end":{"line":28,"column":10}},{"start":{"line":28,"column":10},"end":{"line":28,"column":10}}]},"2":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":33,"column":8}},{"start":{"line":33,"column":8},"end":{"line":33,"column":8}}]}},"code":["function Parser(featureSources, astFilter) {","  var Gherkin      = require('gherkin');","  var Cucumber     = require('../cucumber');","","  var parser = new Gherkin.Parser();","  var compiler = new Gherkin.Compiler();","","  var self = {","    parse: function parse() {","      var features = [];","","      featureSources.forEach(function (featureSource) {","        var uri    = featureSource[Parser.FEATURE_NAME_SOURCE_PAIR_URI_INDEX];","        var source = featureSource[Parser.FEATURE_NAME_SOURCE_PAIR_SOURCE_INDEX];","","        var gherkinDocument;","        try {","          gherkinDocument = parser.parse(source);","        } catch(e) {","          e.message += '\\npath: ' + uri;","          throw e;","        }","","        var pickles = compiler.compile(gherkinDocument);","        var scenarios = [];","        pickles.forEach(function (pickleData) {","          var scenario = Cucumber.Ast.Scenario(pickleData, uri);","          if (astFilter.isElementEnrolled(scenario)) {","            scenarios.push(scenario);","          }","        });","","        if (scenarios.length > 0) {","          features.push(Cucumber.Ast.Feature(gherkinDocument.feature, uri, scenarios));","        }","      });","","      return features;","    }","  };","  return self;","}","","Parser.FEATURE_NAME_SOURCE_PAIR_URI_INDEX = 0;","Parser.FEATURE_NAME_SOURCE_PAIR_SOURCE_INDEX = 1;","","module.exports = Parser;",""],"l":{"1":1,"2":0,"3":0,"5":0,"6":0,"8":0,"10":0,"12":0,"13":0,"14":0,"16":0,"17":0,"18":0,"20":0,"21":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"33":0,"34":0,"38":0,"41":0,"44":1,"45":1,"47":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"Runtime","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}}},"2":{"name":"start","line":7,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":36}}},"3":{"name":"(anonymous_3)","line":25,"loc":{"start":{"line":25,"column":25},"end":{"line":25,"column":43}}},"4":{"name":"attachListener","line":31,"loc":{"start":{"line":31,"column":20},"end":{"line":31,"column":54}}},"5":{"name":"getFeatures","line":35,"loc":{"start":{"line":35,"column":17},"end":{"line":35,"column":40}}},"6":{"name":"getSupportCodeLibrary","line":43,"loc":{"start":{"line":43,"column":27},"end":{"line":43,"column":60}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":49,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":40}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":21}},"4":{"start":{"line":6,"column":2},"end":{"line":47,"column":4}},"5":{"start":{"line":8,"column":6},"end":{"line":9,"column":62}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":62}},"7":{"start":{"line":11,"column":6},"end":{"line":11,"column":40}},"8":{"start":{"line":12,"column":6},"end":{"line":12,"column":60}},"9":{"start":{"line":13,"column":6},"end":{"line":18,"column":8}},"10":{"start":{"line":20,"column":6},"end":{"line":20,"column":100}},"11":{"start":{"line":22,"column":6},"end":{"line":23,"column":42}},"12":{"start":{"line":23,"column":8},"end":{"line":23,"column":42}},"13":{"start":{"line":25,"column":6},"end":{"line":28,"column":9}},"14":{"start":{"line":26,"column":8},"end":{"line":26,"column":44}},"15":{"start":{"line":27,"column":8},"end":{"line":27,"column":25}},"16":{"start":{"line":32,"column":6},"end":{"line":32,"column":31}},"17":{"start":{"line":36,"column":6},"end":{"line":36,"column":61}},"18":{"start":{"line":37,"column":6},"end":{"line":37,"column":56}},"19":{"start":{"line":38,"column":6},"end":{"line":38,"column":70}},"20":{"start":{"line":39,"column":6},"end":{"line":39,"column":42}},"21":{"start":{"line":40,"column":6},"end":{"line":40,"column":22}},"22":{"start":{"line":44,"column":6},"end":{"line":44,"column":69}},"23":{"start":{"line":45,"column":6},"end":{"line":45,"column":32}},"24":{"start":{"line":48,"column":2},"end":{"line":48,"column":14}},"25":{"start":{"line":51,"column":0},"end":{"line":51,"column":85}},"26":{"start":{"line":52,"column":0},"end":{"line":52,"column":71}},"27":{"start":{"line":53,"column":0},"end":{"line":53,"column":66}},"28":{"start":{"line":54,"column":0},"end":{"line":54,"column":78}},"29":{"start":{"line":55,"column":0},"end":{"line":55,"column":76}},"30":{"start":{"line":56,"column":0},"end":{"line":56,"column":76}},"31":{"start":{"line":57,"column":0},"end":{"line":57,"column":76}},"32":{"start":{"line":58,"column":0},"end":{"line":58,"column":76}},"33":{"start":{"line":59,"column":0},"end":{"line":59,"column":79}},"34":{"start":{"line":60,"column":0},"end":{"line":60,"column":72}},"35":{"start":{"line":62,"column":0},"end":{"line":62,"column":25}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":6}},{"start":{"line":8,"column":6},"end":{"line":8,"column":6}}]},"2":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":16},"end":{"line":14,"column":47}},{"start":{"line":14,"column":51},"end":{"line":14,"column":84}}]},"3":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":18},"end":{"line":15,"column":51}},{"start":{"line":15,"column":55},"end":{"line":15,"column":90}}]},"4":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":16},"end":{"line":16,"column":47}},{"start":{"line":16,"column":51},"end":{"line":16,"column":84}}]},"5":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":6},"end":{"line":22,"column":6}},{"start":{"line":22,"column":6},"end":{"line":22,"column":6}}]}},"code":["function Runtime(configuration) {","  var Cucumber = require('../cucumber');","","  var listeners = [];","","  var self = {","    start: function start(callback) {","      if (typeof(callback) !== 'function')","        throw new Error(Runtime.START_MISSING_CALLBACK_ERROR);","","      var features = self.getFeatures();","      var supportCodeLibrary = self.getSupportCodeLibrary();","      var options = {","        dryRun: configuration.isDryRunRequested && configuration.isDryRunRequested(),","        failFast: configuration.isFailFastRequested && configuration.isFailFastRequested(),","        strict: configuration.isStrictRequested && configuration.isStrictRequested(),","        worldParameters: configuration.getWorldParameters()","      };","","      var featuresRunner = Runtime.FeaturesRunner(features, supportCodeLibrary, listeners, options);","","      if (configuration.shouldFilterStackTraces())","        Runtime.StackTraceFilter.filter();","","      featuresRunner.run(function (result) {","        Runtime.StackTraceFilter.unfilter();","        callback(result);","      });","    },","","    attachListener: function attachListener(listener) {","      listeners.push(listener);","    },","","    getFeatures: function getFeatures() {","      var featureSources = configuration.getFeatureSources();","      var astFilter      = configuration.getAstFilter();","      var parser         = Cucumber.Parser(featureSources, astFilter);","      var features       = parser.parse();","      return features;","    },","","    getSupportCodeLibrary: function getSupportCodeLibrary() {","      var supportCodeLibrary = configuration.getSupportCodeLibrary();","      return supportCodeLibrary;","    }","  };","  return self;","}","","Runtime.START_MISSING_CALLBACK_ERROR = 'Cucumber.Runtime.start() expects a callback';","Runtime.Attachment                   = require('./runtime/attachment');","Runtime.Event                        = require('./runtime/event');","Runtime.EventBroadcaster             = require('./runtime/event_broadcaster');","Runtime.FeaturesResult               = require('./runtime/features_result');","Runtime.FeaturesRunner               = require('./runtime/features_runner');","Runtime.ScenarioResult               = require('./runtime/scenario_result');","Runtime.ScenarioRunner               = require('./runtime/scenario_runner');","Runtime.StackTraceFilter             = require('./runtime/stack_trace_filter');","Runtime.StepResult                   = require('./runtime/step_result');","","module.exports = Runtime;",""],"l":{"1":1,"2":0,"4":0,"6":0,"8":0,"9":0,"11":0,"12":0,"13":0,"20":0,"22":0,"23":0,"25":0,"26":0,"27":0,"32":0,"36":0,"37":0,"38":0,"39":0,"40":0,"44":0,"45":0,"48":0,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"62":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/attachment.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/attachment.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"Attachment","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}}},"2":{"name":"getMimeType","line":3,"loc":{"start":{"line":3,"column":18},"end":{"line":3,"column":42}}},"3":{"name":"getData","line":4,"loc":{"start":{"line":4,"column":18},"end":{"line":4,"column":42}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":5,"column":4}},"3":{"start":{"line":3,"column":44},"end":{"line":3,"column":68}},"4":{"start":{"line":4,"column":44},"end":{"line":4,"column":64}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":14}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":28}}},"branchMap":{},"code":["function Attachment(payload) {","  var self = {","    getMimeType:  function getMimeType()  { return payload.mimeType; },","    getData:      function getData()      { return payload.data; }","  };","","  return self;","}","","module.exports = Attachment;",""],"l":{"1":1,"2":0,"3":0,"4":0,"7":0,"10":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/event.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/event.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"Event","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}}},"2":{"name":"buildBeforeEventName","line":6,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":43}}},"3":{"name":"buildAfterEventName","line":10,"loc":{"start":{"line":10,"column":2},"end":{"line":10,"column":42}}},"4":{"name":"getPayloadItem","line":14,"loc":{"start":{"line":14,"column":27},"end":{"line":14,"column":53}}},"5":{"name":"getName","line":27,"loc":{"start":{"line":27,"column":13},"end":{"line":27,"column":32}}},"6":{"name":"getPayload","line":31,"loc":{"start":{"line":31,"column":16},"end":{"line":31,"column":38}}},"7":{"name":"replicateAsPreEvent","line":35,"loc":{"start":{"line":35,"column":25},"end":{"line":35,"column":56}}},"8":{"name":"replicateAsPostEvent","line":40,"loc":{"start":{"line":40,"column":26},"end":{"line":40,"column":58}}},"9":{"name":"occurredOn","line":45,"loc":{"start":{"line":45,"column":16},"end":{"line":45,"column":47}}},"10":{"name":"occurredAfter","line":49,"loc":{"start":{"line":49,"column":19},"end":{"line":49,"column":53}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":3,"column":0},"end":{"line":56,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":43}},"4":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":53}},"6":{"start":{"line":10,"column":2},"end":{"line":12,"column":3}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":52}},"8":{"start":{"line":14,"column":2},"end":{"line":24,"column":4}},"9":{"start":{"line":15,"column":4},"end":{"line":22,"column":5}},"10":{"start":{"line":16,"column":6},"end":{"line":20,"column":8}},"11":{"start":{"line":21,"column":6},"end":{"line":21,"column":40}},"12":{"start":{"line":23,"column":4},"end":{"line":23,"column":19}},"13":{"start":{"line":26,"column":2},"end":{"line":53,"column":4}},"14":{"start":{"line":28,"column":6},"end":{"line":28,"column":18}},"15":{"start":{"line":32,"column":6},"end":{"line":32,"column":21}},"16":{"start":{"line":36,"column":6},"end":{"line":36,"column":47}},"17":{"start":{"line":37,"column":6},"end":{"line":37,"column":54}},"18":{"start":{"line":41,"column":6},"end":{"line":41,"column":46}},"19":{"start":{"line":42,"column":6},"end":{"line":42,"column":54}},"20":{"start":{"line":46,"column":6},"end":{"line":46,"column":32}},"21":{"start":{"line":50,"column":6},"end":{"line":50,"column":58}},"22":{"start":{"line":51,"column":6},"end":{"line":51,"column":37}},"23":{"start":{"line":55,"column":2},"end":{"line":55,"column":14}},"24":{"start":{"line":58,"column":0},"end":{"line":58,"column":23}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]}},"code":["var deprecatedMessageDisplayed = false;","","function Event(name, payload) {","  var Cucumber = require('../../cucumber');","","  function buildBeforeEventName(eventName) {","    return Cucumber.Events.getBeforeEvent(eventName);","  }","","  function buildAfterEventName(eventName) {","    return Cucumber.Events.getAfterEvent(eventName);","  }","","  payload.getPayloadItem = function getPayloadItem() {","    if (!deprecatedMessageDisplayed) {","      console.warn(","        'cucumber event handlers attached via registerHandler are now passed the' +","        ' associated object instead of an event' +","        '\\ngetPayloadItem will be removed in the next major release'","      );","      deprecatedMessageDisplayed = true;","    }","    return payload;","  };","","  var self = {","    getName: function getName() {","      return name;","    },","","    getPayload: function getPayload() {","      return payload;","    },","","    replicateAsPreEvent: function replicateAsPreEvent() {","      var newName = buildBeforeEventName(name);","      return Cucumber.Runtime.Event(newName, payload);","    },","","    replicateAsPostEvent: function replicateAsPostEvent() {","      var newName = buildAfterEventName(name);","      return Cucumber.Runtime.Event(newName, payload);","    },","","    occurredOn: function occurredOn(eventName) {","      return eventName === name;","    },","","    occurredAfter: function occurredAfter(eventName) {","      var afterEventName = buildAfterEventName(eventName);","      return afterEventName === name;","    }","  };","","  return self;","}","","module.exports = Event;",""],"l":{"1":1,"3":1,"4":0,"6":1,"7":0,"10":1,"11":0,"14":0,"15":0,"16":0,"21":0,"23":0,"26":0,"28":0,"32":0,"36":0,"37":0,"41":0,"42":0,"46":0,"50":0,"51":0,"55":0,"58":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/event_broadcaster.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/event_broadcaster.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"EventBroadcaster","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":61}}},"2":{"name":"broadcastAroundEvent","line":5,"loc":{"start":{"line":5,"column":26},"end":{"line":5,"column":87}}},"3":{"name":"(anonymous_3)","line":6,"loc":{"start":{"line":6,"column":39},"end":{"line":6,"column":50}}},"4":{"name":"(anonymous_4)","line":7,"loc":{"start":{"line":7,"column":21},"end":{"line":7,"column":32}}},"5":{"name":"(anonymous_5)","line":9,"loc":{"start":{"line":9,"column":42},"end":{"line":9,"column":53}}},"6":{"name":"broadcastBeforeEvent","line":16,"loc":{"start":{"line":16,"column":26},"end":{"line":16,"column":73}}},"7":{"name":"broadcastAfterEvent","line":21,"loc":{"start":{"line":21,"column":25},"end":{"line":21,"column":71}}},"8":{"name":"broadcastEvent","line":26,"loc":{"start":{"line":26,"column":20},"end":{"line":26,"column":61}}},"9":{"name":"(anonymous_9)","line":27,"loc":{"start":{"line":27,"column":44},"end":{"line":27,"column":74}}},"10":{"name":"(anonymous_10)","line":28,"loc":{"start":{"line":28,"column":53},"end":{"line":28,"column":69}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":39,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":4,"column":2},"end":{"line":36,"column":4}},"4":{"start":{"line":6,"column":6},"end":{"line":13,"column":9}},"5":{"start":{"line":7,"column":8},"end":{"line":12,"column":11}},"6":{"start":{"line":8,"column":10},"end":{"line":8,"column":56}},"7":{"start":{"line":9,"column":10},"end":{"line":11,"column":13}},"8":{"start":{"line":10,"column":12},"end":{"line":10,"column":64}},"9":{"start":{"line":17,"column":6},"end":{"line":17,"column":49}},"10":{"start":{"line":18,"column":6},"end":{"line":18,"column":46}},"11":{"start":{"line":22,"column":6},"end":{"line":22,"column":51}},"12":{"start":{"line":23,"column":6},"end":{"line":23,"column":47}},"13":{"start":{"line":27,"column":6},"end":{"line":34,"column":19}},"14":{"start":{"line":28,"column":8},"end":{"line":33,"column":11}},"15":{"start":{"line":29,"column":10},"end":{"line":31,"column":11}},"16":{"start":{"line":30,"column":12},"end":{"line":30,"column":24}},"17":{"start":{"line":32,"column":10},"end":{"line":32,"column":21}},"18":{"start":{"line":38,"column":2},"end":{"line":38,"column":14}},"19":{"start":{"line":41,"column":0},"end":{"line":41,"column":34}}},"branchMap":{"1":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":10},"end":{"line":29,"column":10}},{"start":{"line":29,"column":10},"end":{"line":29,"column":10}}]}},"code":["function EventBroadcaster(listeners, listenerDefaultTimeout) {","  var Cucumber = require('../../cucumber');","","  var self = {","    broadcastAroundEvent: function broadcastAroundEvent(event, userFunction, callback) {","      self.broadcastBeforeEvent(event, function() {","        userFunction(function() {","          var userFunctionCallbackArguments = arguments;","          self.broadcastAfterEvent(event, function() {","            callback.apply(null, userFunctionCallbackArguments);","          });","        });","      });","    },","","    broadcastBeforeEvent: function broadcastBeforeEvent(event, callback) {","      var preEvent = event.replicateAsPreEvent();","      self.broadcastEvent(preEvent, callback);","    },","","    broadcastAfterEvent: function broadcastAfterEvent(event, callback) {","      var postEvent = event.replicateAsPostEvent();","      self.broadcastEvent(postEvent, callback);","    },","","    broadcastEvent: function broadcastEvent(event, callback) {","      Cucumber.Util.asyncForEach(listeners, function (listener, callback) {","        listener.hear(event, listenerDefaultTimeout, function(error) {","          if (error) {","            throw error;","          }","          callback();","        });","      }, callback);","    }","  };","","  return self;","}","","module.exports = EventBroadcaster;",""],"l":{"1":1,"2":0,"4":0,"6":0,"7":0,"8":0,"9":0,"10":0,"17":0,"18":0,"22":0,"23":0,"27":0,"28":0,"29":0,"30":0,"32":0,"38":0,"41":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/features_result.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/features_result.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"FeaturesResult","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}}},"2":{"name":"getDuration","line":10,"loc":{"start":{"line":10,"column":17},"end":{"line":10,"column":40}}},"3":{"name":"getScenarioCounts","line":14,"loc":{"start":{"line":14,"column":23},"end":{"line":14,"column":52}}},"4":{"name":"getStepCounts","line":18,"loc":{"start":{"line":18,"column":19},"end":{"line":18,"column":44}}},"5":{"name":"isSuccessful","line":22,"loc":{"start":{"line":22,"column":18},"end":{"line":22,"column":42}}},"6":{"name":"witnessScenarioResult","line":32,"loc":{"start":{"line":32,"column":27},"end":{"line":32,"column":74}}},"7":{"name":"(anonymous_7)","line":35,"loc":{"start":{"line":35,"column":62},"end":{"line":35,"column":77}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":40,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":28}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":19}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":53}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":49}},"7":{"start":{"line":9,"column":2},"end":{"line":37,"column":4}},"8":{"start":{"line":11,"column":6},"end":{"line":11,"column":22}},"9":{"start":{"line":15,"column":6},"end":{"line":15,"column":37}},"10":{"start":{"line":19,"column":6},"end":{"line":19,"column":33}},"11":{"start":{"line":23,"column":6},"end":{"line":25,"column":7}},"12":{"start":{"line":24,"column":8},"end":{"line":24,"column":21}},"13":{"start":{"line":26,"column":6},"end":{"line":28,"column":7}},"14":{"start":{"line":27,"column":8},"end":{"line":27,"column":21}},"15":{"start":{"line":29,"column":6},"end":{"line":29,"column":18}},"16":{"start":{"line":33,"column":6},"end":{"line":33,"column":47}},"17":{"start":{"line":34,"column":6},"end":{"line":34,"column":54}},"18":{"start":{"line":35,"column":6},"end":{"line":35,"column":96}},"19":{"start":{"line":35,"column":79},"end":{"line":35,"column":92}},"20":{"start":{"line":39,"column":2},"end":{"line":39,"column":14}},"21":{"start":{"line":42,"column":0},"end":{"line":42,"column":32}}},"branchMap":{"1":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":6}},{"start":{"line":23,"column":6},"end":{"line":23,"column":6}}]},"2":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":10},"end":{"line":23,"column":52}},{"start":{"line":23,"column":56},"end":{"line":23,"column":101}}]},"3":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":6},"end":{"line":26,"column":6}},{"start":{"line":26,"column":6},"end":{"line":26,"column":6}}]},"4":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":10},"end":{"line":26,"column":16}},{"start":{"line":26,"column":21},"end":{"line":26,"column":64}},{"start":{"line":26,"column":68},"end":{"line":26,"column":113}}]}},"code":["function FeaturesResult(strict) {","  var Cucumber = require('../../cucumber');","  var _ = require('lodash');","","  var duration = 0;","  var scenarioCounts = Cucumber.Status.getMapping(0);","  var stepCounts = Cucumber.Status.getMapping(0);","","  var self = {","    getDuration: function getDuration() {","      return duration;","    },","","    getScenarioCounts: function getScenarioCounts() {","      return _.clone(scenarioCounts);","    },","","    getStepCounts: function getStepCounts() {","      return _.clone(stepCounts);","    },","","    isSuccessful: function isSuccessful() {","      if (scenarioCounts[Cucumber.Status.FAILED] > 0 || scenarioCounts[Cucumber.Status.AMBIGUOUS] > 0) {","        return false;","      }","      if (strict && (scenarioCounts[Cucumber.Status.PENDING] > 0 || scenarioCounts[Cucumber.Status.UNDEFINED] > 0)) {","        return false;","      }","      return true;","    },","","    witnessScenarioResult: function witnessScenarioResult(scenarioResult) {","      duration += scenarioResult.getDuration();","      scenarioCounts[scenarioResult.getStatus()] += 1;","      _.mergeWith(stepCounts, scenarioResult.getStepCounts(), function(a, b) { return a + b; });","    }","  };","","  return self;","}","","module.exports = FeaturesResult;",""],"l":{"1":1,"2":0,"3":0,"5":0,"6":0,"7":0,"9":0,"11":0,"15":0,"19":0,"23":0,"24":0,"26":0,"27":0,"29":0,"33":0,"34":0,"35":0,"39":0,"42":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/features_runner.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/features_runner.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"FeaturesRunner","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":74}}},"2":{"name":"run","line":9,"loc":{"start":{"line":9,"column":9},"end":{"line":9,"column":32}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":8},"end":{"line":13,"column":28}}},"4":{"name":"(anonymous_4)","line":14,"loc":{"start":{"line":14,"column":64},"end":{"line":14,"column":75}}},"5":{"name":"(anonymous_5)","line":18,"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":19}}},"6":{"name":"visitFeaturesResult","line":24,"loc":{"start":{"line":24,"column":29},"end":{"line":24,"column":68}}},"7":{"name":"runFeature","line":29,"loc":{"start":{"line":29,"column":16},"end":{"line":29,"column":55}}},"8":{"name":"(anonymous_8)","line":36,"loc":{"start":{"line":36,"column":8},"end":{"line":36,"column":28}}},"9":{"name":"runScenario","line":43,"loc":{"start":{"line":43,"column":17},"end":{"line":43,"column":58}}},"10":{"name":"(anonymous_10)","line":49,"loc":{"start":{"line":49,"column":25},"end":{"line":49,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":56,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":73}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":113}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":71}},"6":{"start":{"line":8,"column":2},"end":{"line":54,"column":4}},"7":{"start":{"line":10,"column":6},"end":{"line":10,"column":88}},"8":{"start":{"line":11,"column":6},"end":{"line":21,"column":8}},"9":{"start":{"line":14,"column":10},"end":{"line":16,"column":13}},"10":{"start":{"line":15,"column":12},"end":{"line":15,"column":51}},"11":{"start":{"line":19,"column":10},"end":{"line":19,"column":50}},"12":{"start":{"line":25,"column":6},"end":{"line":25,"column":101}},"13":{"start":{"line":26,"column":6},"end":{"line":26,"column":55}},"14":{"start":{"line":30,"column":6},"end":{"line":32,"column":7}},"15":{"start":{"line":31,"column":8},"end":{"line":31,"column":26}},"16":{"start":{"line":33,"column":6},"end":{"line":33,"column":86}},"17":{"start":{"line":34,"column":6},"end":{"line":40,"column":8}},"18":{"start":{"line":37,"column":10},"end":{"line":37,"column":89}},"19":{"start":{"line":44,"column":6},"end":{"line":46,"column":7}},"20":{"start":{"line":45,"column":8},"end":{"line":45,"column":26}},"21":{"start":{"line":48,"column":6},"end":{"line":48,"column":116}},"22":{"start":{"line":49,"column":6},"end":{"line":52,"column":9}},"23":{"start":{"line":50,"column":8},"end":{"line":50,"column":61}},"24":{"start":{"line":51,"column":8},"end":{"line":51,"column":19}},"25":{"start":{"line":55,"column":2},"end":{"line":55,"column":14}},"26":{"start":{"line":58,"column":0},"end":{"line":58,"column":32}}},"branchMap":{"1":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":6},"end":{"line":30,"column":6}},{"start":{"line":30,"column":6},"end":{"line":30,"column":6}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":10},"end":{"line":30,"column":40}},{"start":{"line":30,"column":44},"end":{"line":30,"column":60}}]},"3":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":6},"end":{"line":44,"column":6}},{"start":{"line":44,"column":6},"end":{"line":44,"column":6}}]},"4":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":10},"end":{"line":44,"column":40}},{"start":{"line":44,"column":44},"end":{"line":44,"column":60}}]}},"code":["function FeaturesRunner(features, supportCodeLibrary, listeners, options) {","  var Cucumber = require('../../cucumber');","","  var allListeners = listeners.concat(supportCodeLibrary.getListeners());","  var eventBroadcaster = Cucumber.Runtime.EventBroadcaster(allListeners, supportCodeLibrary.getDefaultTimeout());","  var featuresResult = Cucumber.Runtime.FeaturesResult(options.strict);","","  var self = {","    run: function run(callback) {","      var event = Cucumber.Runtime.Event(Cucumber.Events.FEATURES_EVENT_NAME, features);","      eventBroadcaster.broadcastAroundEvent(","        event,","        function (callback) {","          Cucumber.Util.asyncForEach(features, self.runFeature, function() {","            self.broadcastFeaturesResult(callback);","          });","        },","        function() {","          callback(featuresResult.isSuccessful());","        }","      );","    },","","    broadcastFeaturesResult: function visitFeaturesResult(callback) {","      var event = Cucumber.Runtime.Event(Cucumber.Events.FEATURES_RESULT_EVENT_NAME, featuresResult);","      eventBroadcaster.broadcastEvent(event, callback);","    },","","    runFeature: function runFeature(feature, callback) {","      if (!featuresResult.isSuccessful() && options.failFast) {","        return callback();","      }","      var event = Cucumber.Runtime.Event(Cucumber.Events.FEATURE_EVENT_NAME, feature);","      eventBroadcaster.broadcastAroundEvent(","        event,","        function (callback) {","          Cucumber.Util.asyncForEach(feature.getScenarios(), self.runScenario, callback);","        },","        callback","      );","    },","","    runScenario: function runScenario(scenario, callback) {","      if (!featuresResult.isSuccessful() && options.failFast) {","        return callback();","      }","","      var scenarioRunner = Cucumber.Runtime.ScenarioRunner(scenario, supportCodeLibrary, eventBroadcaster, options);","      scenarioRunner.run(function(scenarioResult) {","        featuresResult.witnessScenarioResult(scenarioResult);","        callback();","      });","    }","  };","  return self;","}","","module.exports = FeaturesRunner;",""],"l":{"1":1,"2":0,"4":0,"5":0,"6":0,"8":0,"10":0,"11":0,"14":0,"15":0,"19":0,"25":0,"26":0,"30":0,"31":0,"33":0,"34":0,"37":0,"44":0,"45":0,"48":0,"49":0,"50":0,"51":0,"55":0,"58":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/scenario_result.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/scenario_result.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1},"b":{"1":[0,0,0,0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"ScenarioResult","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}}},"2":{"name":"shouldUpdateStatus","line":10,"loc":{"start":{"line":10,"column":27},"end":{"line":10,"column":67}}},"3":{"name":"getDuration","line":25,"loc":{"start":{"line":25,"column":17},"end":{"line":25,"column":40}}},"4":{"name":"getFailureException","line":29,"loc":{"start":{"line":29,"column":25},"end":{"line":29,"column":56}}},"5":{"name":"getScenario","line":33,"loc":{"start":{"line":33,"column":17},"end":{"line":33,"column":40}}},"6":{"name":"getStepCounts","line":37,"loc":{"start":{"line":37,"column":19},"end":{"line":37,"column":44}}},"7":{"name":"getStatus","line":41,"loc":{"start":{"line":41,"column":15},"end":{"line":41,"column":36}}},"8":{"name":"witnessStepResult","line":45,"loc":{"start":{"line":45,"column":23},"end":{"line":45,"column":62}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":65,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":28}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":19}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":38}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":49}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":30}},"8":{"start":{"line":10,"column":2},"end":{"line":22,"column":4}},"9":{"start":{"line":11,"column":4},"end":{"line":21,"column":5}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":20}},"11":{"start":{"line":18,"column":8},"end":{"line":18,"column":49}},"12":{"start":{"line":20,"column":8},"end":{"line":20,"column":21}},"13":{"start":{"line":24,"column":2},"end":{"line":62,"column":4}},"14":{"start":{"line":26,"column":6},"end":{"line":26,"column":22}},"15":{"start":{"line":30,"column":6},"end":{"line":30,"column":30}},"16":{"start":{"line":34,"column":6},"end":{"line":34,"column":22}},"17":{"start":{"line":38,"column":6},"end":{"line":38,"column":33}},"18":{"start":{"line":42,"column":6},"end":{"line":42,"column":20}},"19":{"start":{"line":46,"column":6},"end":{"line":46,"column":50}},"20":{"start":{"line":47,"column":6},"end":{"line":49,"column":7}},"21":{"start":{"line":48,"column":8},"end":{"line":48,"column":33}},"22":{"start":{"line":50,"column":6},"end":{"line":50,"column":46}},"23":{"start":{"line":51,"column":6},"end":{"line":53,"column":7}},"24":{"start":{"line":52,"column":8},"end":{"line":52,"column":28}},"25":{"start":{"line":54,"column":6},"end":{"line":56,"column":7}},"26":{"start":{"line":55,"column":8},"end":{"line":55,"column":60}},"27":{"start":{"line":57,"column":6},"end":{"line":57,"column":38}},"28":{"start":{"line":58,"column":6},"end":{"line":60,"column":7}},"29":{"start":{"line":59,"column":8},"end":{"line":59,"column":36}},"30":{"start":{"line":64,"column":2},"end":{"line":64,"column":14}},"31":{"start":{"line":67,"column":0},"end":{"line":67,"column":32}}},"branchMap":{"1":{"line":11,"type":"switch","locations":[{"start":{"line":12,"column":6},"end":{"line":13,"column":20}},{"start":{"line":14,"column":6},"end":{"line":14,"column":37}},{"start":{"line":15,"column":6},"end":{"line":15,"column":35}},{"start":{"line":16,"column":6},"end":{"line":16,"column":35}},{"start":{"line":17,"column":6},"end":{"line":18,"column":49}},{"start":{"line":19,"column":6},"end":{"line":20,"column":21}}]},"2":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":6},"end":{"line":47,"column":6}},{"start":{"line":47,"column":6},"end":{"line":47,"column":6}}]},"3":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":6},"end":{"line":51,"column":6}},{"start":{"line":51,"column":6},"end":{"line":51,"column":6}}]},"4":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":6}},{"start":{"line":54,"column":6},"end":{"line":54,"column":6}}]},"5":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":6},"end":{"line":58,"column":6}},{"start":{"line":58,"column":6},"end":{"line":58,"column":6}}]}},"code":["function ScenarioResult(scenario) {","  var Cucumber = require('../../cucumber');","  var _ = require('lodash');","","  var duration = 0;","  var status = Cucumber.Status.PASSED;","  var stepCounts = Cucumber.Status.getMapping(0);","  var failureException = null;","","  var shouldUpdateStatus = function shouldUpdateStatus(stepStatus) {","    switch (stepStatus) {","      case Cucumber.Status.FAILED:","        return true;","      case Cucumber.Status.AMBIGUOUS:","      case Cucumber.Status.PENDING:","      case Cucumber.Status.SKIPPED:","      case Cucumber.Status.UNDEFINED:","        return status === Cucumber.Status.PASSED;","      default:","        return false;","    }","  };","","  var self = {","    getDuration: function getDuration() {","      return duration;","    },","","    getFailureException: function getFailureException() {","      return failureException;","    },","","    getScenario: function getScenario() {","      return scenario;","    },","","    getStepCounts: function getStepCounts() {","      return _.clone(stepCounts);","    },","","    getStatus: function getStatus() {","      return status;","    },","","    witnessStepResult: function witnessStepResult(stepResult) {","      var stepDuration = stepResult.getDuration();","      if (stepDuration) {","        duration += stepDuration;","      }","      var stepStatus = stepResult.getStatus();","      if (shouldUpdateStatus(stepStatus)) {","        status = stepStatus;","      }","      if (stepStatus === Cucumber.Status.FAILED) {","        failureException = stepResult.getFailureException();","      }","      var step = stepResult.getStep();","      if (!step.isHidden()) {","        stepCounts[stepStatus] += 1;","      }","    }","  };","","  return self;","}","","module.exports = ScenarioResult;",""],"l":{"1":1,"2":0,"3":0,"5":0,"6":0,"7":0,"8":0,"10":0,"11":0,"13":0,"18":0,"20":0,"24":0,"26":0,"30":0,"34":0,"38":0,"42":0,"46":0,"47":0,"48":0,"50":0,"51":0,"52":0,"54":0,"55":0,"57":0,"58":0,"59":0,"64":0,"67":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/scenario_runner.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/scenario_runner.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},"fnMap":{"1":{"name":"ScenarioRunner","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":81}}},"2":{"name":"run","line":10,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":32}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":28}}},"4":{"name":"(anonymous_4)","line":15,"loc":{"start":{"line":15,"column":30},"end":{"line":15,"column":42}}},"5":{"name":"(anonymous_5)","line":16,"loc":{"start":{"line":16,"column":26},"end":{"line":16,"column":37}}},"6":{"name":"(anonymous_6)","line":17,"loc":{"start":{"line":17,"column":33},"end":{"line":17,"column":43}}},"7":{"name":"(anonymous_7)","line":23,"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":19}}},"8":{"name":"runBeforeHooks","line":29,"loc":{"start":{"line":29,"column":20},"end":{"line":29,"column":54}}},"9":{"name":"(anonymous_9)","line":31,"loc":{"start":{"line":31,"column":46},"end":{"line":31,"column":77}}},"10":{"name":"runSteps","line":38,"loc":{"start":{"line":38,"column":14},"end":{"line":38,"column":42}}},"11":{"name":"runAfterHooks","line":42,"loc":{"start":{"line":42,"column":19},"end":{"line":42,"column":52}}},"12":{"name":"(anonymous_12)","line":44,"loc":{"start":{"line":44,"column":45},"end":{"line":44,"column":75}}},"13":{"name":"broadcastScenarioResult","line":51,"loc":{"start":{"line":51,"column":29},"end":{"line":51,"column":72}}},"14":{"name":"runStep","line":56,"loc":{"start":{"line":56,"column":13},"end":{"line":56,"column":46}}},"15":{"name":"(anonymous_15)","line":60,"loc":{"start":{"line":60,"column":8},"end":{"line":60,"column":28}}},"16":{"name":"(anonymous_16)","line":61,"loc":{"start":{"line":61,"column":27},"end":{"line":61,"column":38}}},"17":{"name":"(anonymous_17)","line":69,"loc":{"start":{"line":69,"column":17},"end":{"line":69,"column":48}}},"18":{"name":"(anonymous_18)","line":73,"loc":{"start":{"line":73,"column":8},"end":{"line":73,"column":28}}},"19":{"name":"broadcastStepResult","line":84,"loc":{"start":{"line":84,"column":25},"end":{"line":84,"column":76}}},"20":{"name":"isSkippingSteps","line":90,"loc":{"start":{"line":90,"column":21},"end":{"line":90,"column":48}}},"21":{"name":"processStep","line":94,"loc":{"start":{"line":94,"column":17},"end":{"line":94,"column":54}}},"22":{"name":"executeStep","line":108,"loc":{"start":{"line":108,"column":17},"end":{"line":108,"column":70}}},"23":{"name":"(anonymous_23)","line":109,"loc":{"start":{"line":109,"column":70},"end":{"line":109,"column":92}}},"24":{"name":"skipAmbiguousStep","line":115,"loc":{"start":{"line":115,"column":23},"end":{"line":115,"column":83}}},"25":{"name":"skipStep","line":124,"loc":{"start":{"line":124,"column":14},"end":{"line":124,"column":64}}},"26":{"name":"skipUndefinedStep","line":133,"loc":{"start":{"line":133,"column":23},"end":{"line":133,"column":66}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":140,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":65}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":68}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":62}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":78}},"7":{"start":{"line":9,"column":2},"end":{"line":137,"column":4}},"8":{"start":{"line":11,"column":6},"end":{"line":11,"column":88}},"9":{"start":{"line":12,"column":6},"end":{"line":26,"column":8}},"10":{"start":{"line":15,"column":10},"end":{"line":21,"column":13}},"11":{"start":{"line":16,"column":12},"end":{"line":20,"column":15}},"12":{"start":{"line":17,"column":14},"end":{"line":19,"column":17}},"13":{"start":{"line":18,"column":16},"end":{"line":18,"column":55}},"14":{"start":{"line":24,"column":10},"end":{"line":24,"column":35}},"15":{"start":{"line":30,"column":6},"end":{"line":30,"column":81}},"16":{"start":{"line":31,"column":6},"end":{"line":35,"column":19}},"17":{"start":{"line":32,"column":8},"end":{"line":32,"column":90}},"18":{"start":{"line":33,"column":8},"end":{"line":33,"column":41}},"19":{"start":{"line":34,"column":8},"end":{"line":34,"column":59}},"20":{"start":{"line":39,"column":6},"end":{"line":39,"column":78}},"21":{"start":{"line":43,"column":6},"end":{"line":43,"column":89}},"22":{"start":{"line":44,"column":6},"end":{"line":48,"column":19}},"23":{"start":{"line":45,"column":8},"end":{"line":45,"column":88}},"24":{"start":{"line":46,"column":8},"end":{"line":46,"column":40}},"25":{"start":{"line":47,"column":8},"end":{"line":47,"column":57}},"26":{"start":{"line":52,"column":6},"end":{"line":52,"column":101}},"27":{"start":{"line":53,"column":6},"end":{"line":53,"column":55}},"28":{"start":{"line":57,"column":6},"end":{"line":57,"column":80}},"29":{"start":{"line":58,"column":6},"end":{"line":66,"column":8}},"30":{"start":{"line":61,"column":10},"end":{"line":63,"column":13}},"31":{"start":{"line":62,"column":12},"end":{"line":62,"column":45}},"32":{"start":{"line":70,"column":6},"end":{"line":70,"column":80}},"33":{"start":{"line":71,"column":6},"end":{"line":81,"column":8}},"34":{"start":{"line":74,"column":10},"end":{"line":78,"column":11}},"35":{"start":{"line":75,"column":12},"end":{"line":75,"column":48}},"36":{"start":{"line":77,"column":12},"end":{"line":77,"column":51}},"37":{"start":{"line":85,"column":6},"end":{"line":85,"column":51}},"38":{"start":{"line":86,"column":6},"end":{"line":86,"column":93}},"39":{"start":{"line":87,"column":6},"end":{"line":87,"column":55}},"40":{"start":{"line":91,"column":6},"end":{"line":91,"column":67}},"41":{"start":{"line":95,"column":6},"end":{"line":95,"column":36}},"42":{"start":{"line":96,"column":6},"end":{"line":96,"column":85}},"43":{"start":{"line":97,"column":6},"end":{"line":105,"column":7}},"44":{"start":{"line":98,"column":8},"end":{"line":98,"column":47}},"45":{"start":{"line":99,"column":13},"end":{"line":105,"column":7}},"46":{"start":{"line":100,"column":8},"end":{"line":100,"column":64}},"47":{"start":{"line":101,"column":13},"end":{"line":105,"column":7}},"48":{"start":{"line":102,"column":8},"end":{"line":102,"column":58}},"49":{"start":{"line":104,"column":8},"end":{"line":104,"column":61}},"50":{"start":{"line":109,"column":6},"end":{"line":112,"column":9}},"51":{"start":{"line":110,"column":8},"end":{"line":110,"column":39}},"52":{"start":{"line":111,"column":8},"end":{"line":111,"column":55}},"53":{"start":{"line":116,"column":6},"end":{"line":120,"column":9}},"54":{"start":{"line":121,"column":6},"end":{"line":121,"column":62}},"55":{"start":{"line":125,"column":6},"end":{"line":129,"column":9}},"56":{"start":{"line":130,"column":6},"end":{"line":130,"column":60}},"57":{"start":{"line":134,"column":6},"end":{"line":134,"column":109}},"58":{"start":{"line":135,"column":6},"end":{"line":135,"column":62}},"59":{"start":{"line":139,"column":2},"end":{"line":139,"column":14}},"60":{"start":{"line":142,"column":0},"end":{"line":142,"column":32}}},"branchMap":{"1":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":10},"end":{"line":74,"column":10}},{"start":{"line":74,"column":10},"end":{"line":74,"column":10}}]},"2":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":6},"end":{"line":97,"column":6}},{"start":{"line":97,"column":6},"end":{"line":97,"column":6}}]},"3":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":13},"end":{"line":99,"column":13}},{"start":{"line":99,"column":13},"end":{"line":99,"column":13}}]},"4":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":13},"end":{"line":101,"column":13}},{"start":{"line":101,"column":13},"end":{"line":101,"column":13}}]},"5":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":17},"end":{"line":101,"column":31}},{"start":{"line":101,"column":35},"end":{"line":101,"column":57}}]}},"code":["function ScenarioRunner(scenario, supportCodeLibrary, eventBroadcaster, options) {","  var Cucumber = require('../../cucumber');","","  var scenarioResult = Cucumber.Runtime.ScenarioResult(scenario);","  var apiScenario = Cucumber.Api.Scenario(scenario, scenarioResult);","  var defaultTimeout = supportCodeLibrary.getDefaultTimeout();","  var world = supportCodeLibrary.instantiateNewWorld(options.worldParameters);","","  var self = {","    run: function run(callback) {","      var event = Cucumber.Runtime.Event(Cucumber.Events.SCENARIO_EVENT_NAME, scenario);","      eventBroadcaster.broadcastAroundEvent(","        event,","        function (callback) {","          self.runBeforeHooks(function () {","            self.runSteps(function() {","              self.runAfterHooks(function(){","                self.broadcastScenarioResult(callback);","              });","            });","          });","        },","        function() {","          callback(scenarioResult);","        }","      );","    },","","    runBeforeHooks: function runBeforeHooks(callback) {","      var beforeHooks = supportCodeLibrary.lookupBeforeHooksByScenario(scenario);","      Cucumber.Util.asyncForEach(beforeHooks, function(beforeHook, callback) {","        var beforeStep = Cucumber.Ast.HookStep(Cucumber.Ast.HookStep.BEFORE_STEP_KEYWORD);","        beforeStep.setScenario(scenario);","        self.runHookStep(beforeStep, beforeHook, callback);","      }, callback);","    },","","    runSteps: function runSteps(callback) {","      Cucumber.Util.asyncForEach(scenario.getSteps(), self.runStep, callback);","    },","","    runAfterHooks: function runAfterHooks(callback) {","      var afterHooks = supportCodeLibrary.lookupAfterHooksByScenario(scenario).reverse();","      Cucumber.Util.asyncForEach(afterHooks, function(afterHook, callback) {","        var afterStep = Cucumber.Ast.HookStep(Cucumber.Ast.HookStep.AFTER_STEP_KEYWORD);","        afterStep.setScenario(scenario);","        self.runHookStep(afterStep, afterHook, callback);","      }, callback);","    },","","    broadcastScenarioResult: function broadcastScenarioResult(callback) {","      var event = Cucumber.Runtime.Event(Cucumber.Events.SCENARIO_RESULT_EVENT_NAME, scenarioResult);","      eventBroadcaster.broadcastEvent(event, callback);","    },","","    runStep: function runStep(step, callback) {","      var event = Cucumber.Runtime.Event(Cucumber.Events.STEP_EVENT_NAME, step);","      eventBroadcaster.broadcastAroundEvent(","        event,","        function (callback) {","          process.nextTick(function() {","            self.processStep(step, callback);","          });","        },","        callback","      );","    },","","    runHookStep: function(step, hook, callback) {","      var event = Cucumber.Runtime.Event(Cucumber.Events.STEP_EVENT_NAME, step);","      eventBroadcaster.broadcastAroundEvent(","        event,","        function (callback) {","          if (options.dryRun) {","            self.skipStep(step, hook, callback);","          } else {","            self.executeStep(step, hook, callback);","          }","        },","        callback","      );","    },","","    broadcastStepResult: function broadcastStepResult(stepResult, callback) {","      scenarioResult.witnessStepResult(stepResult);","      var event = Cucumber.Runtime.Event(Cucumber.Events.STEP_RESULT_EVENT_NAME, stepResult);","      eventBroadcaster.broadcastEvent(event, callback);","    },","","    isSkippingSteps: function isSkippingSteps() {","      return scenarioResult.getStatus() !== Cucumber.Status.PASSED;","    },","","    processStep: function processStep(step, callback) {","      var stepName = step.getName();","      var stepDefinitions = supportCodeLibrary.lookupStepDefinitionsByName(stepName);","      if (stepDefinitions.length === 0) {","        self.skipUndefinedStep(step, callback);","      } else if (stepDefinitions.length > 1) {","        self.skipAmbiguousStep(step, stepDefinitions, callback);","      } else if (options.dryRun || self.isSkippingSteps()) {","        self.skipStep(step, stepDefinitions[0], callback);","      } else {","        self.executeStep(step, stepDefinitions[0], callback);","      }","    },","","    executeStep: function executeStep(step, stepDefinition, callback) {","      stepDefinition.invoke(step, world, apiScenario, defaultTimeout, function (stepResult) {","        apiScenario.clearAttachments();","        self.broadcastStepResult(stepResult, callback);","      });","    },","","    skipAmbiguousStep: function skipAmbiguousStep(step, stepDefinitions, callback) {","      var ambiguousStepResult = Cucumber.Runtime.StepResult({","        ambiguousStepDefinitions: stepDefinitions,","        step: step,","        status: Cucumber.Status.AMBIGUOUS","      });","      self.broadcastStepResult(ambiguousStepResult, callback);","    },","","    skipStep: function skipStep(step, stepDefinition, callback) {","      var skippedStepResult = Cucumber.Runtime.StepResult({","        step: step,","        stepDefinition: stepDefinition,","        status: Cucumber.Status.SKIPPED","      });","      self.broadcastStepResult(skippedStepResult, callback);","    },","","    skipUndefinedStep: function skipUndefinedStep(step, callback) {","      var undefinedStepResult = Cucumber.Runtime.StepResult({step: step, status: Cucumber.Status.UNDEFINED});","      self.broadcastStepResult(undefinedStepResult, callback);","    }","  };","","  return self;","}","","module.exports = ScenarioRunner;",""],"l":{"1":1,"2":0,"4":0,"5":0,"6":0,"7":0,"9":0,"11":0,"12":0,"15":0,"16":0,"17":0,"18":0,"24":0,"30":0,"31":0,"32":0,"33":0,"34":0,"39":0,"43":0,"44":0,"45":0,"46":0,"47":0,"52":0,"53":0,"57":0,"58":0,"61":0,"62":0,"70":0,"71":0,"74":0,"75":0,"77":0,"85":0,"86":0,"87":0,"91":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"104":0,"109":0,"110":0,"111":0,"116":0,"121":0,"125":0,"130":0,"134":0,"135":0,"139":0,"142":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/stack_trace_filter.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/stack_trace_filter.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"isFrameInCucumber","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":34}}},"2":{"name":"filter","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":18}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":38},"end":{"line":14,"column":63}}},"4":{"name":"unfilter","line":22,"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":25}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":46}},"6":{"start":{"line":8,"column":0},"end":{"line":11,"column":1}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":43}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":47}},"9":{"start":{"line":13,"column":0},"end":{"line":20,"column":1}},"10":{"start":{"line":14,"column":2},"end":{"line":19,"column":5}},"11":{"start":{"line":15,"column":4},"end":{"line":17,"column":5}},"12":{"start":{"line":16,"column":6},"end":{"line":16,"column":20}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":54}},"14":{"start":{"line":22,"column":0},"end":{"line":24,"column":1}},"15":{"start":{"line":23,"column":2},"end":{"line":23,"column":39}},"16":{"start":{"line":26,"column":0},"end":{"line":29,"column":2}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":17},"end":{"line":9,"column":36}},{"start":{"line":9,"column":40},"end":{"line":9,"column":42}}]},"2":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]},"3":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":25}},{"start":{"line":15,"column":29},"end":{"line":15,"column":57}}]}},"code":["var path = require('path');","var chain = require('stack-chain');","var _ = require('lodash');","","var currentFilter = null;","var cucumberPath = path.join(__dirname, '..');","","function isFrameInCucumber(frame) {","  var fileName = frame.getFileName() || '';","  return fileName.indexOf(cucumberPath) !== -1;","}","","function filter() {","  currentFilter = chain.filter.attach(function (error, frames) {","    if (frames.length > 0 && isFrameInCucumber(frames[0])) {","      return frames;","    }","    return frames.filter(_.negate(isFrameInCucumber));","  });","}","","function unfilter() {","  chain.filter.deattach(currentFilter);","}","","module.exports = {","  filter: filter,","  unfilter: unfilter","};",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":1,"8":1,"9":0,"10":0,"13":1,"14":0,"15":0,"16":0,"18":0,"22":1,"23":0,"26":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/step_result.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/runtime/step_result.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"StepResult","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}}},"2":{"name":"getAmbiguousStepDefinitions","line":3,"loc":{"start":{"line":3,"column":33},"end":{"line":3,"column":72}}},"3":{"name":"getAttachments","line":7,"loc":{"start":{"line":7,"column":20},"end":{"line":7,"column":46}}},"4":{"name":"getDuration","line":11,"loc":{"start":{"line":11,"column":17},"end":{"line":11,"column":40}}},"5":{"name":"getFailureException","line":15,"loc":{"start":{"line":15,"column":25},"end":{"line":15,"column":56}}},"6":{"name":"getPendingReason","line":19,"loc":{"start":{"line":19,"column":22},"end":{"line":19,"column":50}}},"7":{"name":"getStep","line":23,"loc":{"start":{"line":23,"column":13},"end":{"line":23,"column":32}}},"8":{"name":"getStepDefinition","line":27,"loc":{"start":{"line":27,"column":23},"end":{"line":27,"column":52}}},"9":{"name":"getStatus","line":31,"loc":{"start":{"line":31,"column":15},"end":{"line":31,"column":36}}},"10":{"name":"hasAttachments","line":35,"loc":{"start":{"line":35,"column":20},"end":{"line":35,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":41,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":38,"column":4}},"3":{"start":{"line":4,"column":6},"end":{"line":4,"column":46}},"4":{"start":{"line":8,"column":6},"end":{"line":8,"column":33}},"5":{"start":{"line":12,"column":6},"end":{"line":12,"column":30}},"6":{"start":{"line":16,"column":6},"end":{"line":16,"column":38}},"7":{"start":{"line":20,"column":6},"end":{"line":20,"column":35}},"8":{"start":{"line":24,"column":6},"end":{"line":24,"column":26}},"9":{"start":{"line":28,"column":6},"end":{"line":28,"column":36}},"10":{"start":{"line":32,"column":6},"end":{"line":32,"column":28}},"11":{"start":{"line":36,"column":6},"end":{"line":36,"column":67}},"12":{"start":{"line":40,"column":2},"end":{"line":40,"column":14}},"13":{"start":{"line":43,"column":0},"end":{"line":43,"column":28}}},"branchMap":{"1":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":13},"end":{"line":36,"column":32}},{"start":{"line":36,"column":36},"end":{"line":36,"column":66}}]}},"code":["function StepResult(payload) {","  var self = {","    getAmbiguousStepDefinitions: function getAmbiguousStepDefinitions() {","      return payload.ambiguousStepDefinitions;","    },","","    getAttachments: function getAttachments() {","      return payload.attachments;","    },","","    getDuration: function getDuration() {","      return payload.duration;","    },","","    getFailureException: function getFailureException() {","      return payload.failureException;","    },","","    getPendingReason: function getPendingReason() {","      return payload.pendingReason;","    },","","    getStep: function getStep() {","      return payload.step;","    },","","    getStepDefinition: function getStepDefinition() {","      return payload.stepDefinition;","    },","","    getStatus: function getStatus() {","      return payload.status;","    },","","    hasAttachments: function hasAttachments() {","      return payload.attachments && payload.attachments.length > 0;","    }","  };","","  return self;","}","","module.exports = StepResult;",""],"l":{"1":1,"2":0,"4":0,"8":0,"12":0,"16":0,"20":0,"24":0,"28":0,"32":0,"36":0,"40":0,"43":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/status.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/status.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"getMapping","line":10,"loc":{"start":{"line":10,"column":20},"end":{"line":10,"column":54}}},"2":{"name":"(anonymous_2)","line":20,"loc":{"start":{"line":20,"column":19},"end":{"line":20,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":16}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":25}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":27}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"8":{"start":{"line":10,"column":0},"end":{"line":24,"column":2}},"9":{"start":{"line":11,"column":2},"end":{"line":18,"column":4}},"10":{"start":{"line":19,"column":2},"end":{"line":19,"column":18}},"11":{"start":{"line":20,"column":2},"end":{"line":22,"column":5}},"12":{"start":{"line":21,"column":4},"end":{"line":21,"column":34}},"13":{"start":{"line":23,"column":2},"end":{"line":23,"column":16}},"14":{"start":{"line":26,"column":0},"end":{"line":26,"column":24}}},"branchMap":{},"code":["var Status = {};","","Status.AMBIGUOUS = 'ambiguous';","Status.FAILED = 'failed';","Status.PENDING = 'pending';","Status.PASSED = 'passed';","Status.SKIPPED = 'skipped';","Status.UNDEFINED = 'undefined';","","Status.getMapping = function getMapping(initialValue) {","  var statuses = [","    Status.AMBIGUOUS,","    Status.FAILED,","    Status.PASSED,","    Status.PENDING,","    Status.SKIPPED,","    Status.UNDEFINED","  ];","  var counts = {};","  statuses.forEach(function (status) {","    counts[status] = initialValue;","  });","  return counts;","};","","module.exports = Status;",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1,"11":0,"19":0,"20":0,"21":0,"23":0,"26":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/support_code.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/support_code.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":74}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":77}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":85}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":101}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":55}}},"branchMap":{},"code":["var SupportCode                          = {};","SupportCode.Hook                         = require('./support_code/hook');","SupportCode.Library                      = require('./support_code/library');","SupportCode.StepDefinition               = require('./support_code/step_definition');","SupportCode.StepDefinitionSnippetBuilder = require('./support_code/step_definition_snippet_builder');","module.exports                           = SupportCode;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/support_code/hook.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/support_code/hook.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"Hook","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}}},"2":{"name":"buildInvocationParameters","line":6,"loc":{"start":{"line":6,"column":35},"end":{"line":6,"column":86}}},"3":{"name":"appliesToScenario","line":10,"loc":{"start":{"line":10,"column":27},"end":{"line":10,"column":64}}},"4":{"name":"getAstFilter","line":15,"loc":{"start":{"line":15,"column":22},"end":{"line":15,"column":46}}},"5":{"name":"(anonymous_5)","line":17,"loc":{"start":{"line":17,"column":30},"end":{"line":17,"column":50}}},"6":{"name":"validCodeLengths","line":25,"loc":{"start":{"line":25,"column":26},"end":{"line":25,"column":55}}},"7":{"name":"invalidCodeLengthMessage","line":29,"loc":{"start":{"line":29,"column":34},"end":{"line":29,"column":70}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":34,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":95}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":32}},"5":{"start":{"line":6,"column":2},"end":{"line":8,"column":4}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":22}},"7":{"start":{"line":10,"column":2},"end":{"line":13,"column":4}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":40}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":49}},"10":{"start":{"line":15,"column":2},"end":{"line":23,"column":4}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":74}},"12":{"start":{"line":17,"column":4},"end":{"line":20,"column":7}},"13":{"start":{"line":18,"column":6},"end":{"line":18,"column":61}},"14":{"start":{"line":19,"column":6},"end":{"line":19,"column":18}},"15":{"start":{"line":21,"column":4},"end":{"line":21,"column":47}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":21}},"17":{"start":{"line":25,"column":2},"end":{"line":27,"column":4}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":21}},"19":{"start":{"line":29,"column":2},"end":{"line":31,"column":4}},"20":{"start":{"line":30,"column":4},"end":{"line":30,"column":61}},"21":{"start":{"line":33,"column":2},"end":{"line":33,"column":14}},"22":{"start":{"line":36,"column":0},"end":{"line":36,"column":24}},"23":{"start":{"line":38,"column":0},"end":{"line":38,"column":22}}},"branchMap":{"1":{"line":4,"type":"binary-expr","locations":[{"start":{"line":4,"column":13},"end":{"line":4,"column":25}},{"start":{"line":4,"column":29},"end":{"line":4,"column":31}}]}},"code":["function Hook(code, options, uri, line) {","  var Cucumber = require('../../cucumber');","  var self = Cucumber.SupportCode.StepDefinition(Hook.EMPTY_PATTERN, options, code, uri, line);","  var tags = options.tags || [];","","  self.buildInvocationParameters = function buildInvocationParameters(step, scenario) {","    return [scenario];","  };","","  self.appliesToScenario = function appliesToScenario(scenario) {","    var astFilter = self.getAstFilter();","    return astFilter.isElementEnrolled(scenario);","  };","","  self.getAstFilter = function getAstFilter() {","    var tagGroups = Cucumber.TagGroupParser.getTagGroupsFromStrings(tags);","    var rules = tagGroups.map(function (tagGroup) {","      var rule = Cucumber.Ast.Filter.AnyOfTagsRule(tagGroup);","      return rule;","    });","    var astFilter = Cucumber.Ast.Filter(rules);","    return astFilter;","  };","","  self.validCodeLengths = function validCodeLengths () {","    return [0, 1, 2];","  };","","  self.invalidCodeLengthMessage = function invalidCodeLengthMessage() {","    return self.buildInvalidCodeLengthMessage('0 or 1', '2');","  };","","  return self;","}","","Hook.EMPTY_PATTERN = '';","","module.exports = Hook;",""],"l":{"1":1,"2":0,"3":0,"4":0,"6":0,"7":0,"10":0,"11":0,"12":0,"15":0,"16":0,"17":0,"18":0,"19":0,"21":0,"22":0,"25":0,"26":0,"29":0,"30":0,"33":0,"36":1,"38":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/support_code/library.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/support_code/library.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":1,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"fnMap":{"1":{"name":"Library","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}}},"2":{"name":"World","line":10,"loc":{"start":{"line":10,"column":14},"end":{"line":10,"column":41}}},"3":{"name":"createEventListenerMethod","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":57}}},"4":{"name":"(anonymous_4)","line":16,"loc":{"start":{"line":16,"column":11},"end":{"line":16,"column":30}}},"5":{"name":"appendEventHandlers","line":21,"loc":{"start":{"line":21,"column":2},"end":{"line":21,"column":59}}},"6":{"name":"(anonymous_6)","line":22,"loc":{"start":{"line":22,"column":32},"end":{"line":22,"column":52}}},"7":{"name":"getStackframe","line":27,"loc":{"start":{"line":27,"column":2},"end":{"line":27,"column":27}}},"8":{"name":"lookupBeforeHooksByScenario","line":37,"loc":{"start":{"line":37,"column":33},"end":{"line":37,"column":80}}},"9":{"name":"lookupBeforeHooksByScenario","line":41,"loc":{"start":{"line":41,"column":32},"end":{"line":41,"column":79}}},"10":{"name":"lookupHooksByScenario","line":45,"loc":{"start":{"line":45,"column":27},"end":{"line":45,"column":75}}},"11":{"name":"(anonymous_11)","line":46,"loc":{"start":{"line":46,"column":26},"end":{"line":46,"column":42}}},"12":{"name":"lookupStepDefinitionsByName","line":51,"loc":{"start":{"line":51,"column":33},"end":{"line":51,"column":76}}},"13":{"name":"(anonymous_13)","line":52,"loc":{"start":{"line":52,"column":36},"end":{"line":52,"column":62}}},"14":{"name":"defineHook","line":57,"loc":{"start":{"line":57,"column":16},"end":{"line":57,"column":57}}},"15":{"name":"(anonymous_15)","line":58,"loc":{"start":{"line":58,"column":13},"end":{"line":58,"column":37}}},"16":{"name":"defineStep","line":73,"loc":{"start":{"line":73,"column":16},"end":{"line":73,"column":57}}},"17":{"name":"registerListener","line":85,"loc":{"start":{"line":85,"column":22},"end":{"line":85,"column":58}}},"18":{"name":"registerHandler","line":89,"loc":{"start":{"line":89,"column":21},"end":{"line":89,"column":75}}},"19":{"name":"getListeners","line":102,"loc":{"start":{"line":102,"column":18},"end":{"line":102,"column":42}}},"20":{"name":"instantiateNewWorld","line":106,"loc":{"start":{"line":106,"column":25},"end":{"line":106,"column":66}}},"21":{"name":"getDefaultTimeout","line":110,"loc":{"start":{"line":110,"column":23},"end":{"line":110,"column":52}}},"22":{"name":"setDefaultTimeout","line":114,"loc":{"start":{"line":114,"column":23},"end":{"line":114,"column":64}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":137,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":44}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":28}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":21}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":27}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":23}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":22}},"9":{"start":{"line":10,"column":2},"end":{"line":12,"column":4}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":33}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":31}},"12":{"start":{"line":15,"column":2},"end":{"line":19,"column":3}},"13":{"start":{"line":16,"column":4},"end":{"line":18,"column":6}},"14":{"start":{"line":17,"column":6},"end":{"line":17,"column":50}},"15":{"start":{"line":21,"column":2},"end":{"line":25,"column":3}},"16":{"start":{"line":22,"column":4},"end":{"line":24,"column":7}},"17":{"start":{"line":23,"column":6},"end":{"line":23,"column":83}},"18":{"start":{"line":27,"column":2},"end":{"line":34,"column":3}},"19":{"start":{"line":28,"column":4},"end":{"line":28,"column":43}},"20":{"start":{"line":29,"column":4},"end":{"line":33,"column":5}},"21":{"start":{"line":30,"column":6},"end":{"line":30,"column":28}},"22":{"start":{"line":32,"column":6},"end":{"line":32,"column":28}},"23":{"start":{"line":36,"column":2},"end":{"line":117,"column":4}},"24":{"start":{"line":38,"column":6},"end":{"line":38,"column":63}},"25":{"start":{"line":42,"column":6},"end":{"line":42,"column":62}},"26":{"start":{"line":46,"column":6},"end":{"line":48,"column":9}},"27":{"start":{"line":47,"column":8},"end":{"line":47,"column":48}},"28":{"start":{"line":52,"column":6},"end":{"line":54,"column":9}},"29":{"start":{"line":53,"column":8},"end":{"line":53,"column":52}},"30":{"start":{"line":58,"column":6},"end":{"line":70,"column":8}},"31":{"start":{"line":59,"column":8},"end":{"line":64,"column":9}},"32":{"start":{"line":60,"column":10},"end":{"line":60,"column":38}},"33":{"start":{"line":61,"column":15},"end":{"line":64,"column":9}},"34":{"start":{"line":62,"column":10},"end":{"line":62,"column":25}},"35":{"start":{"line":63,"column":10},"end":{"line":63,"column":23}},"36":{"start":{"line":65,"column":8},"end":{"line":65,"column":41}},"37":{"start":{"line":66,"column":8},"end":{"line":66,"column":46}},"38":{"start":{"line":67,"column":8},"end":{"line":67,"column":56}},"39":{"start":{"line":68,"column":8},"end":{"line":68,"column":53}},"40":{"start":{"line":69,"column":8},"end":{"line":69,"column":30}},"41":{"start":{"line":74,"column":6},"end":{"line":77,"column":7}},"42":{"start":{"line":75,"column":8},"end":{"line":75,"column":23}},"43":{"start":{"line":76,"column":8},"end":{"line":76,"column":21}},"44":{"start":{"line":78,"column":6},"end":{"line":78,"column":39}},"45":{"start":{"line":79,"column":6},"end":{"line":79,"column":44}},"46":{"start":{"line":80,"column":6},"end":{"line":80,"column":54}},"47":{"start":{"line":81,"column":6},"end":{"line":81,"column":95}},"48":{"start":{"line":82,"column":6},"end":{"line":82,"column":43}},"49":{"start":{"line":86,"column":6},"end":{"line":86,"column":31}},"50":{"start":{"line":90,"column":6},"end":{"line":93,"column":7}},"51":{"start":{"line":91,"column":8},"end":{"line":91,"column":26}},"52":{"start":{"line":92,"column":8},"end":{"line":92,"column":21}},"53":{"start":{"line":94,"column":6},"end":{"line":94,"column":39}},"54":{"start":{"line":95,"column":6},"end":{"line":95,"column":48}},"55":{"start":{"line":96,"column":6},"end":{"line":96,"column":58}},"56":{"start":{"line":97,"column":6},"end":{"line":97,"column":48}},"57":{"start":{"line":98,"column":6},"end":{"line":98,"column":54}},"58":{"start":{"line":99,"column":6},"end":{"line":99,"column":38}},"59":{"start":{"line":103,"column":6},"end":{"line":103,"column":23}},"60":{"start":{"line":107,"column":6},"end":{"line":107,"column":35}},"61":{"start":{"line":111,"column":6},"end":{"line":111,"column":28}},"62":{"start":{"line":115,"column":6},"end":{"line":115,"column":36}},"63":{"start":{"line":119,"column":2},"end":{"line":130,"column":4}},"64":{"start":{"line":132,"column":2},"end":{"line":132,"column":47}},"65":{"start":{"line":133,"column":2},"end":{"line":133,"column":48}},"66":{"start":{"line":134,"column":2},"end":{"line":134,"column":34}},"67":{"start":{"line":136,"column":2},"end":{"line":136,"column":14}},"68":{"start":{"line":139,"column":0},"end":{"line":139,"column":25}}},"branchMap":{"1":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":4}},{"start":{"line":29,"column":4},"end":{"line":29,"column":4}}]},"2":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":8},"end":{"line":59,"column":8}},{"start":{"line":59,"column":8},"end":{"line":59,"column":8}}]},"3":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":15},"end":{"line":61,"column":15}},{"start":{"line":61,"column":15},"end":{"line":61,"column":15}}]},"4":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":18},"end":{"line":67,"column":42}},{"start":{"line":67,"column":46},"end":{"line":67,"column":55}}]},"5":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":6},"end":{"line":74,"column":6}},{"start":{"line":74,"column":6},"end":{"line":74,"column":6}}]},"6":{"line":80,"type":"binary-expr","locations":[{"start":{"line":80,"column":16},"end":{"line":80,"column":40}},{"start":{"line":80,"column":44},"end":{"line":80,"column":53}}]},"7":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":6},"end":{"line":90,"column":6}},{"start":{"line":90,"column":6},"end":{"line":90,"column":6}}]},"8":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":20},"end":{"line":96,"column":44}},{"start":{"line":96,"column":48},"end":{"line":96,"column":57}}]}},"code":["function Library(supportCodeDefinition) {","  var Cucumber = require('../../cucumber');","  var StackTrace = require('stacktrace-js');","  var _ = require('lodash');","","  var listeners = [];","  var stepDefinitions = [];","  var beforeHooks = [];","  var afterHooks = [];","  var World = function World(parameters) {","    this.parameters = parameters;","  };","  var defaultTimeout= 5 * 1000;","","  function createEventListenerMethod(library, eventName) {","    return function (handler) {","      library.registerHandler(eventName, handler);","    };","  }","","  function appendEventHandlers(supportCodeHelper, library) {","    _.each(Cucumber.Events.ALL, function(eventName) {","      supportCodeHelper[eventName] = createEventListenerMethod(library, eventName);","    });","  }","","  function getStackframe() {","    var stackframes = StackTrace.getSync();","    if (stackframes.length > 2) {","      return stackframes[2];","    } else {","      return stackframes[0];","    }","  }","","  var self = {","    lookupBeforeHooksByScenario: function lookupBeforeHooksByScenario(scenario) {","      return self.lookupHooksByScenario(beforeHooks, scenario);","    },","","    lookupAfterHooksByScenario: function lookupBeforeHooksByScenario(scenario) {","      return self.lookupHooksByScenario(afterHooks, scenario);","    },","","    lookupHooksByScenario: function lookupHooksByScenario(hooks, scenario) {","      return hooks.filter(function (hook) {","        return hook.appliesToScenario(scenario);","      });","    },","","    lookupStepDefinitionsByName: function lookupStepDefinitionsByName(name) {","      return stepDefinitions.filter(function (stepDefinition) {","        return stepDefinition.matchesStepName(name);","      });","    },","","    defineHook: function defineHook(builder, collection) {","      return function(options, code) {","        if (typeof(options) === 'string') {","          options = {tags: [options]};","        } else if (typeof(options) === 'function') {","          code = options;","          options = {};","        }","        var stackframe = getStackframe();","        var line = stackframe.getLineNumber();","        var uri = stackframe.getFileName() || 'unknown';","        var hook = builder(code, options, uri, line);","        collection.push(hook);","      };","    },","","    defineStep: function defineStep(name, options, code) {","      if (typeof(options) === 'function') {","        code = options;","        options = {};","      }","      var stackframe = getStackframe();","      var line = stackframe.getLineNumber();","      var uri = stackframe.getFileName() || 'unknown';","      var stepDefinition = Cucumber.SupportCode.StepDefinition(name, options, code, uri, line);","      stepDefinitions.push(stepDefinition);","    },","","    registerListener: function registerListener(listener) {","      listeners.push(listener);","    },","","    registerHandler: function registerHandler(eventName, options, handler) {","      if (typeof(options) === 'function') {","        handler = options;","        options = {};","      }","      var stackframe = getStackframe();","      options.line = stackframe.getLineNumber();","      options.uri = stackframe.getFileName() || 'unknown';","      var listener = Cucumber.Listener(options);","      listener.setHandlerForEvent(eventName, handler);","      self.registerListener(listener);","    },","","    getListeners: function getListeners() {","      return listeners;","    },","","    instantiateNewWorld: function instantiateNewWorld(parameters) {","      return new World(parameters);","    },","","    getDefaultTimeout: function getDefaultTimeout() {","      return defaultTimeout;","    },","","    setDefaultTimeout: function setDefaultTimeout(milliseconds) {","      defaultTimeout = milliseconds;","    }","  };","","  var supportCodeHelper = {","    Before            : self.defineHook(Cucumber.SupportCode.Hook, beforeHooks),","    After             : self.defineHook(Cucumber.SupportCode.Hook, afterHooks),","    Given             : self.defineStep,","    When              : self.defineStep,","    Then              : self.defineStep,","    defineStep        : self.defineStep,","    registerListener  : self.registerListener,","    registerHandler   : self.registerHandler,","    setDefaultTimeout : self.setDefaultTimeout,","    World             : World","  };","","  appendEventHandlers(supportCodeHelper, self);","  supportCodeDefinition.call(supportCodeHelper);","  World = supportCodeHelper.World;","","  return self;","}","","module.exports = Library;",""],"l":{"1":1,"2":0,"3":0,"4":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"13":0,"15":1,"16":0,"17":0,"21":1,"22":0,"23":0,"27":1,"28":0,"29":0,"30":0,"32":0,"36":0,"38":0,"42":0,"46":0,"47":0,"52":0,"53":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"65":0,"66":0,"67":0,"68":0,"69":0,"74":0,"75":0,"76":0,"78":0,"79":0,"80":0,"81":0,"82":0,"86":0,"90":0,"91":0,"92":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"103":0,"107":0,"111":0,"115":0,"119":0,"132":0,"133":0,"134":0,"136":0,"139":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/support_code/step_definition.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/support_code/step_definition.js","s":{"1":1,"2":0,"3":1,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"fnMap":{"1":{"name":"StepDefinition","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":59}}},"2":{"name":"time","line":5,"loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":18}}},"3":{"name":"durationInNanoseconds","line":14,"loc":{"start":{"line":14,"column":2},"end":{"line":14,"column":40}}},"4":{"name":"getLine","line":25,"loc":{"start":{"line":25,"column":13},"end":{"line":25,"column":32}}},"5":{"name":"getPatternRegexp","line":29,"loc":{"start":{"line":29,"column":16},"end":{"line":29,"column":44}}},"6":{"name":"getPatternRegexp","line":33,"loc":{"start":{"line":33,"column":22},"end":{"line":33,"column":50}}},"7":{"name":"getUri","line":51,"loc":{"start":{"line":51,"column":12},"end":{"line":51,"column":30}}},"8":{"name":"matchesStepName","line":55,"loc":{"start":{"line":55,"column":21},"end":{"line":55,"column":56}}},"9":{"name":"invoke","line":60,"loc":{"start":{"line":60,"column":12},"end":{"line":60,"column":77}}},"10":{"name":"finish","line":65,"loc":{"start":{"line":65,"column":6},"end":{"line":65,"column":37}}},"11":{"name":"buildInvocationParameters","line":94,"loc":{"start":{"line":94,"column":31},"end":{"line":94,"column":72}}},"12":{"name":"(anonymous_12)","line":99,"loc":{"start":{"line":99,"column":61},"end":{"line":99,"column":75}}},"13":{"name":"buildExceptionHandlerToCodeCallback","line":112,"loc":{"start":{"line":112,"column":41},"end":{"line":112,"column":100}}},"14":{"name":"handleScenarioException","line":113,"loc":{"start":{"line":113,"column":29},"end":{"line":113,"column":73}}},"15":{"name":"validCodeLengths","line":121,"loc":{"start":{"line":121,"column":22},"end":{"line":121,"column":61}}},"16":{"name":"invalidCodeLengthMessage","line":125,"loc":{"start":{"line":125,"column":30},"end":{"line":125,"column":76}}},"17":{"name":"buildInvalidCodeLengthMessage","line":129,"loc":{"start":{"line":129,"column":35},"end":{"line":129,"column":111}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":136,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":43}},"3":{"start":{"line":5,"column":2},"end":{"line":12,"column":3}},"4":{"start":{"line":6,"column":4},"end":{"line":11,"column":5}},"5":{"start":{"line":7,"column":6},"end":{"line":7,"column":30}},"6":{"start":{"line":10,"column":6},"end":{"line":10,"column":57}},"7":{"start":{"line":14,"column":2},"end":{"line":22,"column":3}},"8":{"start":{"line":15,"column":4},"end":{"line":21,"column":5}},"9":{"start":{"line":16,"column":6},"end":{"line":16,"column":43}},"10":{"start":{"line":17,"column":6},"end":{"line":17,"column":45}},"11":{"start":{"line":20,"column":6},"end":{"line":20,"column":73}},"12":{"start":{"line":24,"column":2},"end":{"line":134,"column":4}},"13":{"start":{"line":26,"column":6},"end":{"line":26,"column":18}},"14":{"start":{"line":30,"column":6},"end":{"line":30,"column":21}},"15":{"start":{"line":34,"column":6},"end":{"line":34,"column":17}},"16":{"start":{"line":35,"column":6},"end":{"line":47,"column":25}},"17":{"start":{"line":36,"column":8},"end":{"line":39,"column":105}},"18":{"start":{"line":40,"column":8},"end":{"line":43,"column":54}},"19":{"start":{"line":44,"column":8},"end":{"line":44,"column":42}},"20":{"start":{"line":47,"column":8},"end":{"line":47,"column":25}},"21":{"start":{"line":48,"column":6},"end":{"line":48,"column":20}},"22":{"start":{"line":52,"column":6},"end":{"line":52,"column":17}},"23":{"start":{"line":56,"column":6},"end":{"line":56,"column":43}},"24":{"start":{"line":57,"column":6},"end":{"line":57,"column":35}},"25":{"start":{"line":61,"column":6},"end":{"line":61,"column":25}},"26":{"start":{"line":62,"column":6},"end":{"line":62,"column":70}},"27":{"start":{"line":63,"column":6},"end":{"line":63,"column":68}},"28":{"start":{"line":65,"column":6},"end":{"line":84,"column":7}},"29":{"start":{"line":66,"column":8},"end":{"line":71,"column":10}},"30":{"start":{"line":73,"column":8},"end":{"line":80,"column":9}},"31":{"start":{"line":74,"column":10},"end":{"line":74,"column":58}},"32":{"start":{"line":75,"column":15},"end":{"line":80,"column":9}},"33":{"start":{"line":76,"column":10},"end":{"line":76,"column":50}},"34":{"start":{"line":77,"column":10},"end":{"line":77,"column":57}},"35":{"start":{"line":79,"column":10},"end":{"line":79,"column":57}},"36":{"start":{"line":82,"column":8},"end":{"line":82,"column":69}},"37":{"start":{"line":83,"column":8},"end":{"line":83,"column":29}},"38":{"start":{"line":86,"column":6},"end":{"line":86,"column":63}},"39":{"start":{"line":87,"column":6},"end":{"line":89,"column":7}},"40":{"start":{"line":88,"column":8},"end":{"line":88,"column":65}},"41":{"start":{"line":91,"column":6},"end":{"line":91,"column":80}},"42":{"start":{"line":95,"column":6},"end":{"line":95,"column":41}},"43":{"start":{"line":96,"column":6},"end":{"line":96,"column":50}},"44":{"start":{"line":97,"column":6},"end":{"line":97,"column":55}},"45":{"start":{"line":98,"column":6},"end":{"line":98,"column":25}},"46":{"start":{"line":99,"column":6},"end":{"line":108,"column":10}},"47":{"start":{"line":100,"column":8},"end":{"line":107,"column":9}},"48":{"start":{"line":102,"column":12},"end":{"line":102,"column":23}},"49":{"start":{"line":104,"column":12},"end":{"line":104,"column":36}},"50":{"start":{"line":106,"column":12},"end":{"line":106,"column":70}},"51":{"start":{"line":109,"column":6},"end":{"line":109,"column":24}},"52":{"start":{"line":113,"column":6},"end":{"line":117,"column":8}},"53":{"start":{"line":114,"column":8},"end":{"line":115,"column":91}},"54":{"start":{"line":115,"column":10},"end":{"line":115,"column":91}},"55":{"start":{"line":116,"column":8},"end":{"line":116,"column":32}},"56":{"start":{"line":118,"column":6},"end":{"line":118,"column":30}},"57":{"start":{"line":122,"column":6},"end":{"line":122,"column":56}},"58":{"start":{"line":126,"column":6},"end":{"line":126,"column":90}},"59":{"start":{"line":130,"column":6},"end":{"line":132,"column":66}},"60":{"start":{"line":135,"column":2},"end":{"line":135,"column":14}},"61":{"start":{"line":138,"column":0},"end":{"line":138,"column":71}},"62":{"start":{"line":139,"column":0},"end":{"line":139,"column":61}},"63":{"start":{"line":140,"column":0},"end":{"line":140,"column":61}},"64":{"start":{"line":141,"column":0},"end":{"line":141,"column":73}},"65":{"start":{"line":142,"column":0},"end":{"line":142,"column":66}},"66":{"start":{"line":143,"column":0},"end":{"line":143,"column":58}},"67":{"start":{"line":144,"column":0},"end":{"line":144,"column":58}},"68":{"start":{"line":145,"column":0},"end":{"line":145,"column":90}},"69":{"start":{"line":146,"column":0},"end":{"line":146,"column":69}},"70":{"start":{"line":148,"column":0},"end":{"line":148,"column":32}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":4}},{"start":{"line":6,"column":4},"end":{"line":6,"column":4}}]},"2":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":8},"end":{"line":6,"column":38}},{"start":{"line":6,"column":42},"end":{"line":6,"column":56}}]},"3":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]},"4":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":38}},{"start":{"line":15,"column":42},"end":{"line":15,"column":56}}]},"5":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":6},"end":{"line":35,"column":6}},{"start":{"line":35,"column":6},"end":{"line":35,"column":6}}]},"6":{"line":63,"type":"binary-expr","locations":[{"start":{"line":63,"column":34},"end":{"line":63,"column":49}},{"start":{"line":63,"column":53},"end":{"line":63,"column":67}}]},"7":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":8},"end":{"line":73,"column":8}},{"start":{"line":73,"column":8},"end":{"line":73,"column":8}}]},"8":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":15},"end":{"line":75,"column":15}},{"start":{"line":75,"column":15},"end":{"line":75,"column":15}}]},"9":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":6},"end":{"line":87,"column":6}},{"start":{"line":87,"column":6},"end":{"line":87,"column":6}}]},"10":{"line":100,"type":"switch","locations":[{"start":{"line":101,"column":10},"end":{"line":102,"column":23}},{"start":{"line":103,"column":10},"end":{"line":104,"column":36}},{"start":{"line":105,"column":10},"end":{"line":106,"column":70}}]},"11":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":8}},{"start":{"line":114,"column":8},"end":{"line":114,"column":8}}]},"12":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":30},"end":{"line":115,"column":45}},{"start":{"line":115,"column":49},"end":{"line":115,"column":58}}]}},"code":["function StepDefinition(pattern, options, code, uri, line) {","  var Cucumber = require('../../cucumber');","","","  function time() {","    if (typeof process !== 'undefined' && process.hrtime) {","      return process.hrtime();","    }","    else {","      return new Cucumber.Util.RealTime.Date().getTime();","    }","  }","","  function durationInNanoseconds(start) {","    if (typeof process !== 'undefined' && process.hrtime) {","      var duration = process.hrtime(start);","      return duration[0] * 1e9 + duration[1];","    }","    else {","      return (new Cucumber.Util.RealTime.Date().getTime() - start) * 1e6;","    }","  }","","  var self = {","    getLine: function getLine() {","      return line;","    },","","    getPattern: function getPatternRegexp() {","      return pattern;","    },","","    getPatternRegexp: function getPatternRegexp() {","      var regexp;","      if (pattern.replace) {","        var regexpString = pattern","          .replace(StepDefinition.UNSAFE_STRING_CHARACTERS_REGEXP, StepDefinition.PREVIOUS_REGEXP_MATCH)","          .replace(StepDefinition.QUOTED_DOLLAR_PARAMETER_REGEXP, StepDefinition.QUOTED_DOLLAR_PARAMETER_SUBSTITUTION)","          .replace(StepDefinition.DOLLAR_PARAMETER_REGEXP, StepDefinition.DOLLAR_PARAMETER_SUBSTITUTION);","        regexpString =","          StepDefinition.STRING_PATTERN_REGEXP_PREFIX +","          regexpString +","          StepDefinition.STRING_PATTERN_REGEXP_SUFFIX;","        regexp = new RegExp(regexpString);","      }","      else","        regexp = pattern;","      return regexp;","    },","","    getUri: function getUri() {","      return uri;","    },","","    matchesStepName: function matchesStepName(stepName) {","      var regexp = self.getPatternRegexp();","      return regexp.test(stepName);","    },","","    invoke: function invoke(step, world, scenario, defaultTimeout, callback) {","      var start = time();","      var parameters = self.buildInvocationParameters(step, scenario);","      var timeoutInMilliseconds = options.timeout || defaultTimeout;","","      function finish(error, result) {","        var stepResultData = {","          step: step,","          stepDefinition: self,","          duration: durationInNanoseconds(start),","          attachments: scenario.getAttachments(),","        };","","        if (result === 'pending') {","          stepResultData.status = Cucumber.Status.PENDING;","        } else if (error) {","          stepResultData.failureException = error;","          stepResultData.status = Cucumber.Status.FAILED;","        } else {","          stepResultData.status = Cucumber.Status.PASSED;","        }","","        var stepResult = Cucumber.Runtime.StepResult(stepResultData);","        callback(stepResult);","      }","","      var validCodeLengths = self.validCodeLengths(parameters);","      if (validCodeLengths.indexOf(code.length) === -1) {","        return finish(self.invalidCodeLengthMessage(parameters));","      }","","      Cucumber.Util.run(code, world, parameters, timeoutInMilliseconds, finish);","    },","","    buildInvocationParameters: function buildInvocationParameters(step) {","      var stepName      = step.getName();","      var patternRegexp = self.getPatternRegexp();","      var parameters    = patternRegexp.exec(stepName);","      parameters.shift();","      parameters = parameters.concat(step.getArguments().map(function(arg) {","        switch (arg.getType()) {","          case 'DataTable':","            return arg;","          case 'DocString':","            return arg.getContent();","          default:","            throw new Error('Unknown argument type:' + arg.getType());","        }","      }));","      return parameters;","    },","","    buildExceptionHandlerToCodeCallback: function buildExceptionHandlerToCodeCallback(codeCallback) {","      var exceptionHandler = function handleScenarioException(exception) {","        if (exception)","          Cucumber.Debug.warn(exception.stack || exception, 'exception inside feature', 3);","        codeCallback(exception);","      };","      return exceptionHandler;","    },","","    validCodeLengths: function validCodeLengths (parameters) {","      return [parameters.length, parameters.length + 1];","    },","","    invalidCodeLengthMessage: function invalidCodeLengthMessage(parameters) {","      return self.buildInvalidCodeLengthMessage(parameters.length, parameters.length + 1);","    },","","    buildInvalidCodeLengthMessage: function buildInvalidCodeLengthMessage(syncOrPromiseLength, callbackLength) {","      return 'function has ' + code.length + ' arguments' +","          ', should have ' + syncOrPromiseLength + ' (if synchronous or returning a promise)' +","          ' or '  + callbackLength + ' (if accepting a callback)';","    }","  };","  return self;","}","","StepDefinition.DOLLAR_PARAMETER_REGEXP              = /\\$[a-zA-Z_-]+/g;","StepDefinition.DOLLAR_PARAMETER_SUBSTITUTION        = '(.*)';","StepDefinition.PREVIOUS_REGEXP_MATCH                = '\\\\$&';","StepDefinition.QUOTED_DOLLAR_PARAMETER_REGEXP       = /\"\\$[a-zA-Z_-]+\"/g;","StepDefinition.QUOTED_DOLLAR_PARAMETER_SUBSTITUTION = '\"([^\"]*)\"';","StepDefinition.STRING_PATTERN_REGEXP_PREFIX         = '^';","StepDefinition.STRING_PATTERN_REGEXP_SUFFIX         = '$';","StepDefinition.UNSAFE_STRING_CHARACTERS_REGEXP      = /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\|]/g;","StepDefinition.UNKNOWN_STEP_FAILURE_MESSAGE         = 'Step failure';","","module.exports = StepDefinition;",""],"l":{"1":1,"2":0,"5":1,"6":0,"7":0,"10":0,"14":1,"15":0,"16":0,"17":0,"20":0,"24":0,"26":0,"30":0,"34":0,"35":0,"36":0,"40":0,"44":0,"47":0,"48":0,"52":0,"56":0,"57":0,"61":0,"62":0,"63":0,"65":1,"66":0,"73":0,"74":0,"75":0,"76":0,"77":0,"79":0,"82":0,"83":0,"86":0,"87":0,"88":0,"91":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"102":0,"104":0,"106":0,"109":0,"113":0,"114":0,"115":0,"116":0,"118":0,"122":0,"126":0,"130":0,"135":0,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1,"146":1,"148":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/support_code/step_definition_snippet_builder.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/support_code/step_definition_snippet_builder.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"StepDefinitionSnippetBuilder","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":52}}},"2":{"name":"buildSnippet","line":13,"loc":{"start":{"line":13,"column":18},"end":{"line":13,"column":42}}},"3":{"name":"buildStepDefinitionFunctionName","line":21,"loc":{"start":{"line":21,"column":37},"end":{"line":21,"column":80}}},"4":{"name":"buildStepDefinitionPattern","line":30,"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":70}}},"5":{"name":"buildStepDefinitionParameters","line":38,"loc":{"start":{"line":38,"column":35},"end":{"line":38,"column":76}}},"6":{"name":"(anonymous_6)","line":40,"loc":{"start":{"line":40,"column":34},"end":{"line":40,"column":49}}},"7":{"name":"getStepDefinitionPatternMatchingGroupParameters","line":56,"loc":{"start":{"line":56,"column":53},"end":{"line":56,"column":112}}},"8":{"name":"(anonymous_8)","line":58,"loc":{"start":{"line":58,"column":47},"end":{"line":58,"column":60}}},"9":{"name":"countStepDefinitionPatternMatchingGroups","line":64,"loc":{"start":{"line":64,"column":46},"end":{"line":64,"column":98}}},"10":{"name":"parameterizeStepName","line":72,"loc":{"start":{"line":72,"column":26},"end":{"line":72,"column":66}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":37}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":47}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":47}},"6":{"start":{"line":9,"column":0},"end":{"line":81,"column":1}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":43}},"8":{"start":{"line":12,"column":2},"end":{"line":79,"column":4}},"9":{"start":{"line":14,"column":6},"end":{"line":14,"column":64}},"10":{"start":{"line":15,"column":6},"end":{"line":15,"column":59}},"11":{"start":{"line":16,"column":6},"end":{"line":16,"column":62}},"12":{"start":{"line":17,"column":6},"end":{"line":17,"column":93}},"13":{"start":{"line":18,"column":6},"end":{"line":18,"column":70}},"14":{"start":{"line":22,"column":6},"end":{"line":27,"column":23}},"15":{"start":{"line":23,"column":8},"end":{"line":23,"column":22}},"16":{"start":{"line":24,"column":11},"end":{"line":27,"column":23}},"17":{"start":{"line":25,"column":8},"end":{"line":25,"column":22}},"18":{"start":{"line":27,"column":8},"end":{"line":27,"column":23}},"19":{"start":{"line":31,"column":6},"end":{"line":31,"column":49}},"20":{"start":{"line":32,"column":6},"end":{"line":32,"column":78}},"21":{"start":{"line":33,"column":6},"end":{"line":33,"column":77}},"22":{"start":{"line":34,"column":6},"end":{"line":34,"column":70}},"23":{"start":{"line":35,"column":6},"end":{"line":35,"column":21}},"24":{"start":{"line":39,"column":6},"end":{"line":39,"column":78}},"25":{"start":{"line":40,"column":6},"end":{"line":51,"column":9}},"26":{"start":{"line":41,"column":8},"end":{"line":50,"column":9}},"27":{"start":{"line":43,"column":12},"end":{"line":43,"column":37}},"28":{"start":{"line":44,"column":12},"end":{"line":44,"column":18}},"29":{"start":{"line":46,"column":12},"end":{"line":46,"column":38}},"30":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"31":{"start":{"line":49,"column":12},"end":{"line":49,"column":70}},"32":{"start":{"line":52,"column":6},"end":{"line":52,"column":34}},"33":{"start":{"line":53,"column":6},"end":{"line":53,"column":24}},"34":{"start":{"line":57,"column":6},"end":{"line":57,"column":75}},"35":{"start":{"line":58,"column":6},"end":{"line":60,"column":9}},"36":{"start":{"line":59,"column":8},"end":{"line":59,"column":31}},"37":{"start":{"line":61,"column":6},"end":{"line":61,"column":24}},"38":{"start":{"line":65,"column":6},"end":{"line":65,"column":71}},"39":{"start":{"line":66,"column":6},"end":{"line":66,"column":110}},"40":{"start":{"line":67,"column":6},"end":{"line":67,"column":123}},"41":{"start":{"line":68,"column":6},"end":{"line":68,"column":76}},"42":{"start":{"line":69,"column":6},"end":{"line":69,"column":19}},"43":{"start":{"line":73,"column":6},"end":{"line":76,"column":72}},"44":{"start":{"line":77,"column":6},"end":{"line":77,"column":35}},"45":{"start":{"line":80,"column":2},"end":{"line":80,"column":14}},"46":{"start":{"line":83,"column":0},"end":{"line":83,"column":111}},"47":{"start":{"line":85,"column":0},"end":{"line":85,"column":46}}},"branchMap":{"1":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":6},"end":{"line":22,"column":6}},{"start":{"line":22,"column":6},"end":{"line":22,"column":6}}]},"2":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":11},"end":{"line":24,"column":11}},{"start":{"line":24,"column":11},"end":{"line":24,"column":11}}]},"3":{"line":41,"type":"switch","locations":[{"start":{"line":42,"column":10},"end":{"line":44,"column":18}},{"start":{"line":45,"column":10},"end":{"line":47,"column":18}},{"start":{"line":48,"column":10},"end":{"line":49,"column":70}}]}},"code":["var _  = require('lodash');","","var NUMBER_PATTERN        = /\\d+/gi;","var NUMBER_MATCHING_GROUP = '(\\\\d+)';","","var QUOTED_STRING_PATTERN        = /\"[^\"]*\"/gi;","var QUOTED_STRING_MATCHING_GROUP = '\"([^\"]*)\"';","","function StepDefinitionSnippetBuilder(step, syntax) {","  var Cucumber = require('../../cucumber');","","  var self = {","    buildSnippet: function buildSnippet() {","      var functionName = self.buildStepDefinitionFunctionName();","      var pattern      = self.buildStepDefinitionPattern();","      var parameters   = self.buildStepDefinitionParameters();","      var comment      = 'Write code here that turns the phrase above into concrete actions';","      return syntax.build(functionName, pattern, parameters, comment);","    },","","    buildStepDefinitionFunctionName: function buildStepDefinitionFunctionName() {","      if (step.isOutcomeStep())","        return 'Then';","      else if (step.isEventStep())","        return 'When';","      else","        return 'Given';","    },","","    buildStepDefinitionPattern: function buildStepDefinitionPattern() {","      var stepName              = step.getName();","      var escapedStepName       = Cucumber.Util.RegExp.escapeString(stepName);","      var parameterizedStepName = self.parameterizeStepName(escapedStepName);","      var pattern               = '/^' + parameterizedStepName + '$/';","      return pattern;","    },","","    buildStepDefinitionParameters: function buildStepDefinitionParameters() {","      var parameters = self.getStepDefinitionPatternMatchingGroupParameters();","      step.getArguments().forEach(function (arg) {","        switch (arg.getType()) {","          case 'DataTable':","            parameters.push('table');","            break;","          case 'DocString':","            parameters.push('string');","            break;","          default:","            throw new Error('Unknown argument type:' + arg.getType());","        }","      });","      parameters.push('callback');","      return parameters;","    },","","    getStepDefinitionPatternMatchingGroupParameters: function getStepDefinitionPatternMatchingGroupParameters() {","      var parameterCount = self.countStepDefinitionPatternMatchingGroups();","      var parameters = _.times(parameterCount, function (n) {","        return 'arg' + (n + 1);","      });","      return parameters;","    },","","    countStepDefinitionPatternMatchingGroups: function countStepDefinitionPatternMatchingGroups() {","      var stepDefinitionPattern    = self.buildStepDefinitionPattern();","      var numberMatchingGroupCount = Cucumber.Util.String.count(stepDefinitionPattern, NUMBER_MATCHING_GROUP);","      var quotedStringMatchingGroupCount = Cucumber.Util.String.count(stepDefinitionPattern, QUOTED_STRING_MATCHING_GROUP);","      var count = numberMatchingGroupCount + quotedStringMatchingGroupCount;","      return count;","    },","","    parameterizeStepName: function parameterizeStepName(stepName) {","      var parameterizedStepName =","          stepName","          .replace(NUMBER_PATTERN, NUMBER_MATCHING_GROUP)","          .replace(QUOTED_STRING_PATTERN, QUOTED_STRING_MATCHING_GROUP);","      return parameterizedStepName;","    }","  };","  return self;","}","","StepDefinitionSnippetBuilder.JavaScriptSyntax = require('./step_definition_snippet_builder/javascript_syntax');","","module.exports = StepDefinitionSnippetBuilder;",""],"l":{"1":1,"3":1,"4":1,"6":1,"7":1,"9":1,"10":0,"12":0,"14":0,"15":0,"16":0,"17":0,"18":0,"22":0,"23":0,"24":0,"25":0,"27":0,"31":0,"32":0,"33":0,"34":0,"35":0,"39":0,"40":0,"41":0,"43":0,"44":0,"46":0,"47":0,"49":0,"52":0,"53":0,"57":0,"58":0,"59":0,"61":0,"65":0,"66":0,"67":0,"68":0,"69":0,"73":0,"77":0,"80":0,"83":1,"85":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/support_code/step_definition_snippet_builder/javascript_syntax.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/support_code/step_definition_snippet_builder/javascript_syntax.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"JavaScriptSyntax","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}}},"2":{"name":"build","line":3,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":71}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":26,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":25,"column":4}},"3":{"start":{"line":4,"column":6},"end":{"line":4,"column":40}},"4":{"start":{"line":5,"column":6},"end":{"line":7,"column":7}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":31}},"6":{"start":{"line":9,"column":6},"end":{"line":9,"column":25}},"7":{"start":{"line":10,"column":6},"end":{"line":16,"column":7}},"8":{"start":{"line":11,"column":8},"end":{"line":11,"column":61}},"9":{"start":{"line":12,"column":8},"end":{"line":12,"column":63}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":25}},"11":{"start":{"line":15,"column":8},"end":{"line":15,"column":47}},"12":{"start":{"line":18,"column":6},"end":{"line":22,"column":14}},"13":{"start":{"line":23,"column":6},"end":{"line":23,"column":21}},"14":{"start":{"line":28,"column":0},"end":{"line":28,"column":34}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":6},"end":{"line":5,"column":6}},{"start":{"line":5,"column":6},"end":{"line":5,"column":6}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":6},"end":{"line":10,"column":6}},{"start":{"line":10,"column":6},"end":{"line":10,"column":6}}]}},"code":["function JavaScriptSyntax(interface) {","  return {","    build: function build (functionName, pattern, parameters, comment) {","      var functionKeyword = 'function ';","      if (interface === 'generator') {","        functionKeyword += '*';","      }","","      var implementation;","      if (interface === 'callback') {","        var callbackName = parameters[parameters.length - 1];","        implementation = callbackName + '(null, \\'pending\\');';","      } else {","        parameters.pop();","        implementation = 'return \\'pending\\';';","      }","","      var snippet =","        'this.' + functionName + '(' + pattern + ', ' + functionKeyword + '(' + parameters.join(', ') + ') {' + '\\n' +","        '  // ' + comment + '\\n' +","        '  ' + implementation + '\\n' +","        '});';","      return snippet;","    }","  };","}","","module.exports = JavaScriptSyntax;",""],"l":{"1":1,"2":0,"4":0,"5":0,"6":0,"9":0,"10":0,"11":0,"12":0,"14":0,"15":0,"18":0,"23":0,"28":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/tag_group_parser.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/tag_group_parser.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"TagGroupParser","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}}},"2":{"name":"parse","line":3,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":28}}},"3":{"name":"(anonymous_3)","line":5,"loc":{"start":{"line":5,"column":38},"end":{"line":5,"column":53}}},"4":{"name":"getTagGroupsFromStrings","line":12,"loc":{"start":{"line":12,"column":41},"end":{"line":12,"column":91}}},"5":{"name":"(anonymous_5)","line":15,"loc":{"start":{"line":15,"column":38},"end":{"line":15,"column":64}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":10,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":8,"column":4}},"3":{"start":{"line":4,"column":6},"end":{"line":4,"column":73}},"4":{"start":{"line":5,"column":6},"end":{"line":5,"column":77}},"5":{"start":{"line":5,"column":55},"end":{"line":5,"column":73}},"6":{"start":{"line":6,"column":6},"end":{"line":6,"column":25}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":14}},"8":{"start":{"line":12,"column":0},"end":{"line":21,"column":2}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":40}},"10":{"start":{"line":15,"column":2},"end":{"line":19,"column":5}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":65}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":48}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":20}},"14":{"start":{"line":20,"column":2},"end":{"line":20,"column":19}},"15":{"start":{"line":23,"column":0},"end":{"line":23,"column":35}},"16":{"start":{"line":25,"column":0},"end":{"line":25,"column":32}}},"branchMap":{},"code":["function TagGroupParser(tagGroupString) {","  var self = {","    parse: function parse() {","      var splitTags = tagGroupString.split(TagGroupParser.TAG_SEPARATOR);","      var trimmedTags = splitTags.map(function (tag) { return tag.trim(); });","      return trimmedTags;","    }","  };","  return self;","}","","TagGroupParser.getTagGroupsFromStrings = function getTagGroupsFromStrings(tagGroupStrings) {","  var Cucumber = require('../cucumber');","","  var tagGroups = tagGroupStrings.map(function (tagOptionValue) {","    var tagGroupParser = Cucumber.TagGroupParser(tagOptionValue);","    var tagGroup       = tagGroupParser.parse();","    return tagGroup;","  });","  return tagGroups;","};","","TagGroupParser.TAG_SEPARATOR = ',';","","module.exports = TagGroupParser;",""],"l":{"1":1,"2":0,"4":0,"5":0,"6":0,"9":0,"12":1,"13":0,"15":0,"16":0,"17":0,"18":0,"20":0,"23":1,"25":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/type.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/type.js","s":{"1":1,"2":1,"3":1,"4":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":55}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":26}}},"branchMap":{},"code":["var Type           = {};","Type.HashDataTable = require('./type/hash_data_table');","Type.String        = require('./type/string');","module.exports     = Type;",""],"l":{"1":1,"2":1,"3":1,"4":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/type/hash_data_table.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/type/hash_data_table.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"HashDataTable","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}}},"2":{"name":"raw","line":3,"loc":{"start":{"line":3,"column":9},"end":{"line":3,"column":24}}},"3":{"name":"getHashKeys","line":10,"loc":{"start":{"line":10,"column":17},"end":{"line":10,"column":40}}},"4":{"name":"getHashValueArrays","line":14,"loc":{"start":{"line":14,"column":24},"end":{"line":14,"column":54}}},"5":{"name":"createHashesFromKeysAndValueArrays","line":20,"loc":{"start":{"line":20,"column":40},"end":{"line":20,"column":103}}},"6":{"name":"(anonymous_6)","line":22,"loc":{"start":{"line":22,"column":26},"end":{"line":22,"column":44}}},"7":{"name":"createHashFromKeysAndValues","line":29,"loc":{"start":{"line":29,"column":33},"end":{"line":29,"column":84}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":39,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":37,"column":4}},"3":{"start":{"line":4,"column":6},"end":{"line":4,"column":47}},"4":{"start":{"line":5,"column":6},"end":{"line":5,"column":54}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":95}},"6":{"start":{"line":7,"column":6},"end":{"line":7,"column":20}},"7":{"start":{"line":11,"column":6},"end":{"line":11,"column":25}},"8":{"start":{"line":15,"column":6},"end":{"line":15,"column":42}},"9":{"start":{"line":16,"column":6},"end":{"line":16,"column":24}},"10":{"start":{"line":17,"column":6},"end":{"line":17,"column":23}},"11":{"start":{"line":21,"column":6},"end":{"line":21,"column":22}},"12":{"start":{"line":22,"column":6},"end":{"line":25,"column":9}},"13":{"start":{"line":23,"column":8},"end":{"line":23,"column":66}},"14":{"start":{"line":24,"column":8},"end":{"line":24,"column":26}},"15":{"start":{"line":26,"column":6},"end":{"line":26,"column":20}},"16":{"start":{"line":30,"column":6},"end":{"line":30,"column":20}},"17":{"start":{"line":31,"column":6},"end":{"line":31,"column":29}},"18":{"start":{"line":32,"column":6},"end":{"line":34,"column":7}},"19":{"start":{"line":33,"column":8},"end":{"line":33,"column":34}},"20":{"start":{"line":35,"column":6},"end":{"line":35,"column":18}},"21":{"start":{"line":38,"column":2},"end":{"line":38,"column":14}},"22":{"start":{"line":41,"column":0},"end":{"line":41,"column":31}}},"branchMap":{},"code":["function HashDataTable(rawArray) {","  var self = {","    raw: function raw() {","      var hashKeys        = self.getHashKeys();","      var hashValueArrays = self.getHashValueArrays();","      var hashes          = self.createHashesFromKeysAndValueArrays(hashKeys, hashValueArrays);","      return hashes;","    },","","    getHashKeys: function getHashKeys() {","      return rawArray[0];","    },","","    getHashValueArrays: function getHashValueArrays() {","      var _rawArray = [].concat(rawArray);","      _rawArray.shift();","      return _rawArray;","    },","","    createHashesFromKeysAndValueArrays: function createHashesFromKeysAndValueArrays(keys, valueArrays) {","      var hashes = [];","      valueArrays.forEach(function (values) {","        var hash = self.createHashFromKeysAndValues(keys, values);","        hashes.push(hash);","      });","      return hashes;","    },","","    createHashFromKeysAndValues: function createHashFromKeysAndValues(keys, values) {","      var hash = {};","      var len  = keys.length;","      for (var i = 0; i < len; i++) {","        hash[keys[i]] = values[i];","      }","      return hash;","    }","  };","  return self;","}","","module.exports = HashDataTable;",""],"l":{"1":1,"2":0,"4":0,"5":0,"6":0,"7":0,"11":0,"15":0,"16":0,"17":0,"21":0,"22":0,"23":0,"24":0,"26":0,"30":0,"31":0,"32":0,"33":0,"35":0,"38":0,"41":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/type/string.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/type/string.js","s":{"1":1,"2":0,"3":0,"4":1},"b":{"1":[0,1]},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":26},"end":{"line":2,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":4,"column":4}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":41}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}}},"branchMap":{"1":{"line":1,"type":"if","locations":[{"start":{"line":1,"column":0},"end":{"line":1,"column":0}},{"start":{"line":1,"column":0},"end":{"line":1,"column":0}}]}},"code":["if (!String.prototype.trim) {","  String.prototype.trim = function () {","    return this.replace(/^\\s+|\\s+$/g,'');","  };","}","","module.exports = String;",""],"l":{"1":1,"2":0,"3":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":20}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":53}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":43}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":36}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":42}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":42}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":22}}},"branchMap":{},"code":["var Util       = {};","Util.Arguments = require('./util/arguments');","Util.asyncForEach = require('./util/async_for_each');","Util.Exception = require('./util/exception');","Util.RealTime  = require('./util/real_time');","Util.RegExp    = require('./util/reg_exp');","Util.run    = require('./util/run');","Util.String    = require('./util/string');","Util.Colors    = require('./util/colors');","module.exports = Util;",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/arguments.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/arguments.js","s":{"1":1,"2":0,"3":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"Arguments","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":53}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}}},"branchMap":{},"code":["function Arguments(argumentsObject) {","  return Array.prototype.slice.call(argumentsObject);","}","","module.exports = Arguments;",""],"l":{"1":1,"2":0,"5":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/async_for_each.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/async_for_each.js","s":{"1":1,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"asyncForEach","line":1,"loc":{"start":{"line":1,"column":19},"end":{"line":1,"column":72}}},"2":{"name":"iterate","line":4,"loc":{"start":{"line":4,"column":2},"end":{"line":4,"column":21}}},"3":{"name":"(anonymous_3)","line":7,"loc":{"start":{"line":7,"column":25},"end":{"line":7,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":16,"column":2}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":33}},"3":{"start":{"line":4,"column":2},"end":{"line":13,"column":3}},"4":{"start":{"line":5,"column":4},"end":{"line":12,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":6},"end":{"line":9,"column":9}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":34}},"8":{"start":{"line":11,"column":6},"end":{"line":11,"column":17}},"9":{"start":{"line":15,"column":2},"end":{"line":15,"column":12}},"10":{"start":{"line":18,"column":0},"end":{"line":18,"column":30}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":5,"column":4}},{"start":{"line":5,"column":4},"end":{"line":5,"column":4}}]}},"code":["var asyncForEach = function asyncForEach(items, userFunction, callback) {","  var itemsCopy = items.slice(0);","","  function iterate() {","    if (itemsCopy.length > 0) {","      var item = itemsCopy.shift();","      userFunction(item, function () {","        process.nextTick(iterate);","      });","    } else {","      callback();","    }","  }","","  iterate();","};","","module.exports = asyncForEach;",""],"l":{"1":1,"2":0,"4":1,"5":0,"6":0,"7":0,"8":0,"11":0,"15":0,"18":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/exception.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/exception.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"registerUncaughtExceptionHandler","line":4,"loc":{"start":{"line":4,"column":36},"end":{"line":4,"column":96}}},"2":{"name":"unregisterUncaughtExceptionHandler","line":12,"loc":{"start":{"line":12,"column":38},"end":{"line":12,"column":100}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":19,"column":2}},"2":{"start":{"line":5,"column":4},"end":{"line":9,"column":5}},"3":{"start":{"line":6,"column":6},"end":{"line":6,"column":56}},"4":{"start":{"line":7,"column":11},"end":{"line":9,"column":5}},"5":{"start":{"line":8,"column":6},"end":{"line":8,"column":40}},"6":{"start":{"line":13,"column":4},"end":{"line":17,"column":5}},"7":{"start":{"line":14,"column":6},"end":{"line":14,"column":68}},"8":{"start":{"line":15,"column":11},"end":{"line":17,"column":5}},"9":{"start":{"line":16,"column":6},"end":{"line":16,"column":31}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":5,"column":4}},{"start":{"line":5,"column":4},"end":{"line":5,"column":4}}]},"2":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":11},"end":{"line":7,"column":11}},{"start":{"line":7,"column":11},"end":{"line":7,"column":11}}]},"3":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"4":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":11},"end":{"line":15,"column":11}},{"start":{"line":15,"column":11},"end":{"line":15,"column":11}}]}},"code":["/* jshint -W117 */","","var Exception = {","  registerUncaughtExceptionHandler: function registerUncaughtExceptionHandler(exceptionHandler) {","    if (process.on) {","      process.on('uncaughtException', exceptionHandler);","    } else if (typeof(window) !== 'undefined') {","      window.onerror = exceptionHandler;","    }","  },","","  unregisterUncaughtExceptionHandler: function unregisterUncaughtExceptionHandler(exceptionHandler) {","    if (process.removeListener) {","      process.removeListener('uncaughtException', exceptionHandler);","    } else if (typeof(window) !== 'undefined') {","      window.onerror = void(0);","    }","  }","};","","module.exports = Exception;",""],"l":{"3":1,"5":0,"6":0,"7":0,"8":0,"13":0,"14":0,"15":0,"16":0,"21":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/real_time.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/real_time.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1},"b":{"1":[1,0]},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":9,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":10,"column":2},"end":{"line":10,"column":51}},"4":{"start":{"line":11,"column":2},"end":{"line":11,"column":55}},"5":{"start":{"line":14,"column":0},"end":{"line":14,"column":25}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":0},"end":{"line":9,"column":0}},{"start":{"line":9,"column":0},"end":{"line":9,"column":0}}]}},"code":["var methods = {","  Date: Date,","  setTimeout: setTimeout.bind(global),","  clearTimeout: clearTimeout.bind(global),","  setInterval: setInterval.bind(global),","  clearInterval: clearInterval.bind(global)","};","","if (typeof setImmediate !== 'undefined') {","  methods.setImmediate = setImmediate.bind(global);","  methods.clearImmediate = clearImmediate.bind(global);","}","","module.exports = methods;",""],"l":{"1":1,"9":1,"10":1,"11":1,"14":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/reg_exp.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/reg_exp.js","s":{"1":1,"2":0,"3":0,"4":1,"5":1,"6":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"escapeString","line":2,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":85}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":19}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":57}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":36}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}}},"branchMap":{},"code":["var _RegExp = {","  escapeString: function escapeString(string) {","    var escaped = string.replace(_RegExp.ESCAPE_PATTERN, _RegExp.ESCAPE_REPLACEMENT);","    return escaped;","  }","};","","_RegExp.ESCAPE_PATTERN     = /[-[\\]{}()*+?.\\\\^$|#\\n\\/]/g;","_RegExp.ESCAPE_REPLACEMENT = '\\\\$&';","module.exports = _RegExp;",""],"l":{"1":1,"3":0,"4":0,"8":1,"9":1,"10":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/run.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/run.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"run","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":70}}},"2":{"name":"finish","line":9,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":33}}},"3":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":15},"end":{"line":18,"column":26}}},"4":{"name":"(anonymous_4)","line":23,"loc":{"start":{"line":23,"column":48},"end":{"line":23,"column":58}}},"5":{"name":"(anonymous_5)","line":45,"loc":{"start":{"line":45,"column":16},"end":{"line":45,"column":32}}},"6":{"name":"(anonymous_6)","line":47,"loc":{"start":{"line":47,"column":7},"end":{"line":47,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":47}},"4":{"start":{"line":5,"column":0},"end":{"line":53,"column":1}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":43}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":16}},"7":{"start":{"line":9,"column":2},"end":{"line":19,"column":3}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":71}},"9":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"10":{"start":{"line":12,"column":6},"end":{"line":12,"column":53}},"11":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"12":{"start":{"line":15,"column":6},"end":{"line":15,"column":33}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":28}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":29}},"15":{"start":{"line":21,"column":2},"end":{"line":21,"column":25}},"16":{"start":{"line":23,"column":2},"end":{"line":25,"column":28}},"17":{"start":{"line":24,"column":4},"end":{"line":24,"column":82}},"18":{"start":{"line":27,"column":2},"end":{"line":27,"column":67}},"19":{"start":{"line":29,"column":2},"end":{"line":29,"column":13}},"20":{"start":{"line":30,"column":2},"end":{"line":38,"column":3}},"21":{"start":{"line":31,"column":4},"end":{"line":35,"column":5}},"22":{"start":{"line":32,"column":6},"end":{"line":32,"column":53}},"23":{"start":{"line":34,"column":6},"end":{"line":34,"column":44}},"24":{"start":{"line":37,"column":4},"end":{"line":37,"column":25}},"25":{"start":{"line":40,"column":2},"end":{"line":40,"column":57}},"26":{"start":{"line":41,"column":2},"end":{"line":41,"column":69}},"27":{"start":{"line":42,"column":2},"end":{"line":52,"column":3}},"28":{"start":{"line":43,"column":4},"end":{"line":43,"column":64}},"29":{"start":{"line":44,"column":9},"end":{"line":52,"column":3}},"30":{"start":{"line":45,"column":4},"end":{"line":49,"column":7}},"31":{"start":{"line":46,"column":6},"end":{"line":46,"column":27}},"32":{"start":{"line":48,"column":6},"end":{"line":48,"column":42}},"33":{"start":{"line":50,"column":9},"end":{"line":52,"column":3}},"34":{"start":{"line":51,"column":4},"end":{"line":51,"column":25}},"35":{"start":{"line":55,"column":0},"end":{"line":55,"column":21}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"2":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"3":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":8},"end":{"line":14,"column":13}},{"start":{"line":14,"column":17},"end":{"line":14,"column":42}}]},"4":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"5":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":25},"end":{"line":41,"column":31}},{"start":{"line":41,"column":35},"end":{"line":41,"column":68}}]},"6":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":2},"end":{"line":42,"column":2}},{"start":{"line":42,"column":2},"end":{"line":42,"column":2}}]},"7":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":6},"end":{"line":42,"column":23}},{"start":{"line":42,"column":27},"end":{"line":42,"column":43}}]},"8":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":9},"end":{"line":44,"column":9}},{"start":{"line":44,"column":9},"end":{"line":44,"column":9}}]},"9":{"line":48,"type":"binary-expr","locations":[{"start":{"line":48,"column":13},"end":{"line":48,"column":18}},{"start":{"line":48,"column":22},"end":{"line":48,"column":40}}]},"10":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":9},"end":{"line":50,"column":9}},{"start":{"line":50,"column":9},"end":{"line":50,"column":9}}]}},"code":["var co = require('co');","var util = require('util');","var isGeneratorFn = require('is-generator').fn;","","function run(fn, thisArg, argsArray, timeoutInMilliseconds, callback) {","  var Cucumber = require('../../cucumber');","  var timeoutId;","","  function finish(error, result) {","    Cucumber.Util.Exception.unregisterUncaughtExceptionHandler(finish);","    if (timeoutId) {","      Cucumber.Util.RealTime.clearTimeout(timeoutId);","    }","    if (error && !(error instanceof Error)) {","      error = util.format(error);","    }","    callback(error, result);","    callback = function() {};","  }","","  argsArray.push(finish);","","  timeoutId = Cucumber.Util.RealTime.setTimeout(function(){","    finish('function timed out after ' + timeoutInMilliseconds + ' milliseconds');","  }, timeoutInMilliseconds);","","  Cucumber.Util.Exception.registerUncaughtExceptionHandler(finish);","","  var result;","  try {","    if (isGeneratorFn(fn)) {","      result = co.wrap(fn).apply(thisArg, argsArray);","    } else {","      result = fn.apply(thisArg, argsArray);","    }","  } catch (error) {","    return finish(error);","  }","","  var callbackInterface = fn.length === argsArray.length;","  var promiseInterface = result && typeof result.then === 'function';","  if (callbackInterface && promiseInterface) {","    finish('function accepts a callback and returns a promise');","  } else if (promiseInterface) {","    result.then(function(result){","      finish(null, result);","    }, function(error) {","      finish(error || 'Promise rejected');","    });","  } else if (!callbackInterface) {","    finish(null, result);","  }","}","","module.exports = run;",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"9":1,"10":0,"11":0,"12":0,"14":0,"15":0,"17":0,"18":0,"21":0,"23":0,"24":0,"27":0,"29":0,"30":0,"31":0,"32":0,"34":0,"37":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"48":0,"50":0,"51":0,"55":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/string.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/string.js","s":{"1":1,"2":0,"3":0,"4":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"count","line":2,"loc":{"start":{"line":2,"column":9},"end":{"line":2,"column":42}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":47}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":36}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":25}}},"branchMap":{},"code":["var _String = {","  count: function count(hayStack, needle) {","    var splitHayStack = hayStack.split(needle);","    return splitHayStack.length - 1;","  }","};","module.exports = _String;",""],"l":{"1":1,"3":0,"4":0,"7":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/colors.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/util/colors.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"Colors","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":3,"column":0},"end":{"line":16,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":29}},"4":{"start":{"line":5,"column":2},"end":{"line":15,"column":4}},"5":{"start":{"line":18,"column":0},"end":{"line":18,"column":24}}},"branchMap":{},"code":["var colors = require('colors/safe');","","function Colors (useColors) {","  colors.enabled = useColors;","  return {","    ambiguous: colors.red,","    bold: colors.bold,","    failed: colors.red,","    location: colors.grey,","    passed: colors.green,","    pending: colors.yellow,","    skipped: colors.cyan,","    tag: colors.cyan,","    undefined: colors.yellow","  };","}","","module.exports = Colors;",""],"l":{"1":1,"3":1,"4":0,"5":0,"18":1}},"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/volatile_configuration.js":{"path":"/home/travis/build/npmtest/node-npmtest-cucumber/cucumber/lib/cucumber/volatile_configuration.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"VolatileConfiguration","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":74}}},"2":{"name":"isStrictRequested","line":12,"loc":{"start":{"line":12,"column":23},"end":{"line":12,"column":52}}},"3":{"name":"getFeatureSources","line":16,"loc":{"start":{"line":16,"column":23},"end":{"line":16,"column":52}}},"4":{"name":"getAstFilter","line":25,"loc":{"start":{"line":25,"column":18},"end":{"line":25,"column":42}}},"5":{"name":"getSupportCodeLibrary","line":31,"loc":{"start":{"line":31,"column":27},"end":{"line":31,"column":60}}},"6":{"name":"getTagAstFilterRules","line":35,"loc":{"start":{"line":35,"column":26},"end":{"line":35,"column":58}}},"7":{"name":"(anonymous_7)","line":37,"loc":{"start":{"line":37,"column":30},"end":{"line":37,"column":56}}},"8":{"name":"buildAstFilterRuleFromTagGroupString","line":44,"loc":{"start":{"line":44,"column":42},"end":{"line":44,"column":104}}},"9":{"name":"shouldFilterStackTraces","line":51,"loc":{"start":{"line":51,"column":29},"end":{"line":51,"column":64}}},"10":{"name":"getWorldParameters","line":55,"loc":{"start":{"line":55,"column":24},"end":{"line":55,"column":54}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":60,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":40}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":80}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":26}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":36}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":43}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":38}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":54}},"9":{"start":{"line":11,"column":2},"end":{"line":58,"column":4}},"10":{"start":{"line":13,"column":6},"end":{"line":13,"column":24}},"11":{"start":{"line":17,"column":6},"end":{"line":22,"column":7}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":90}},"13":{"start":{"line":19,"column":8},"end":{"line":19,"column":39}},"14":{"start":{"line":21,"column":8},"end":{"line":21,"column":24}},"15":{"start":{"line":26,"column":6},"end":{"line":26,"column":49}},"16":{"start":{"line":27,"column":6},"end":{"line":27,"column":52}},"17":{"start":{"line":28,"column":6},"end":{"line":28,"column":23}},"18":{"start":{"line":32,"column":6},"end":{"line":32,"column":32}},"19":{"start":{"line":36,"column":6},"end":{"line":36,"column":21}},"20":{"start":{"line":37,"column":6},"end":{"line":40,"column":9}},"21":{"start":{"line":38,"column":8},"end":{"line":38,"column":77}},"22":{"start":{"line":39,"column":8},"end":{"line":39,"column":25}},"23":{"start":{"line":41,"column":6},"end":{"line":41,"column":19}},"24":{"start":{"line":45,"column":6},"end":{"line":45,"column":67}},"25":{"start":{"line":46,"column":6},"end":{"line":46,"column":50}},"26":{"start":{"line":47,"column":6},"end":{"line":47,"column":71}},"27":{"start":{"line":48,"column":6},"end":{"line":48,"column":18}},"28":{"start":{"line":52,"column":6},"end":{"line":52,"column":24}},"29":{"start":{"line":56,"column":6},"end":{"line":56,"column":29}},"30":{"start":{"line":59,"column":2},"end":{"line":59,"column":14}},"31":{"start":{"line":62,"column":0},"end":{"line":62,"column":56}},"32":{"start":{"line":64,"column":0},"end":{"line":64,"column":39}}},"branchMap":{"1":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":12},"end":{"line":5,"column":19}},{"start":{"line":5,"column":23},"end":{"line":5,"column":25}}]},"2":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":24},"end":{"line":7,"column":36}},{"start":{"line":7,"column":40},"end":{"line":7,"column":42}}]},"3":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":24},"end":{"line":9,"column":47}},{"start":{"line":9,"column":51},"end":{"line":9,"column":53}}]},"4":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":6},"end":{"line":17,"column":6}},{"start":{"line":17,"column":6},"end":{"line":17,"column":6}}]}},"code":["function VolatileConfiguration(features, supportCodeInitializer, options) {","  var Cucumber = require('../cucumber');","  var supportCodeLibrary = Cucumber.SupportCode.Library(supportCodeInitializer);","","  options = options || {};","  var strictMode = !!options.strict;","  var tagGroupStrings = options.tags || [];","  var backtrace = !!options.backtrace;","  var worldParameters = options.worldParameters || {};","","  var self = {","    isStrictRequested: function isStrictRequested() {","      return strictMode;","    },","","    getFeatureSources: function getFeatureSources() {","      if (features.replace) { // single source","        var featureNameSourcePair = [VolatileConfiguration.FEATURE_SOURCE_NAME, features];","        return [featureNameSourcePair];","      } else { // multiple features","        return features;","      }","    },","","    getAstFilter: function getAstFilter() {","      var tagRules = self.getTagAstFilterRules();","      var astFilter = Cucumber.Ast.Filter(tagRules);","      return astFilter;","    },","","    getSupportCodeLibrary: function getSupportCodeLibrary() {","      return supportCodeLibrary;","    },","","    getTagAstFilterRules: function getTagAstFilterRules() {","      var rules = [];","      tagGroupStrings.forEach(function (tagGroupString) {","        var rule = self.buildAstFilterRuleFromTagGroupString(tagGroupString);","        rules.push(rule);","      });","      return rules;","    },","","    buildAstFilterRuleFromTagGroupString: function buildAstFilterRuleFromTagGroupString(tagGroupString) {","      var tagGroupParser = Cucumber.TagGroupParser(tagGroupString);","      var tagGroup       = tagGroupParser.parse();","      var rule           = Cucumber.Ast.Filter.AnyOfTagsRule(tagGroup);","      return rule;","    },","","    shouldFilterStackTraces: function shouldFilterStackTraces() {","      return !backtrace;","    },","","    getWorldParameters: function getWorldParameters() {","      return worldParameters;","    }","  };","  return self;","}","","VolatileConfiguration.FEATURE_SOURCE_NAME = '(feature)';","","module.exports = VolatileConfiguration;",""],"l":{"1":1,"2":0,"3":0,"5":0,"6":0,"7":0,"8":0,"9":0,"11":0,"13":0,"17":0,"18":0,"19":0,"21":0,"26":0,"27":0,"28":0,"32":0,"36":0,"37":0,"38":0,"39":0,"41":0,"45":0,"46":0,"47":0,"48":0,"52":0,"56":0,"59":0,"62":1,"64":1}}}